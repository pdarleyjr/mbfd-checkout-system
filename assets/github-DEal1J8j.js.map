{"version":3,"file":"github-DEal1J8j.js","sources":["../../node_modules/lucide-react/dist/esm/icons/calendar.js","../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../node_modules/lucide-react/dist/esm/icons/triangle-alert.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../src/components/ui/Modal.tsx","../../src/lib/github.ts"],"sourcesContent":["/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M8 2v4\", key: \"1cmpym\" }],\n  [\"path\", { d: \"M16 2v4\", key: \"4m81vk\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", key: \"1hopcy\" }],\n  [\"path\", { d: \"M3 10h18\", key: \"8toen8\" }]\n];\nconst Calendar = createLucideIcon(\"calendar\", __iconNode);\n\nexport { __iconNode, Calendar as default };\n//# sourceMappingURL=calendar.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n];\nconst CircleCheckBig = createLucideIcon(\"circle-check-big\", __iconNode);\n\nexport { __iconNode, CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",\n      key: \"wmoenq\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n];\nconst TriangleAlert = createLucideIcon(\"triangle-alert\", __iconNode);\n\nexport { __iconNode, TriangleAlert as default };\n//# sourceMappingURL=triangle-alert.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n];\nconst X = createLucideIcon(\"x\", __iconNode);\n\nexport { __iconNode, X as default };\n//# sourceMappingURL=x.js.map\n","import React, { useEffect } from 'react';\nimport { X } from 'lucide-react';\nimport { cn } from '../../lib/utils';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const Modal: React.FC<ModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  className,\n}) => {\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div\n        className={cn(\n          'relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto',\n          className\n        )}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">{title}</h2>\n          <button\n            onClick={onClose}\n            className=\"p-1 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <X className=\"w-5 h-5 text-gray-500\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"px-6 py-4\">{children}</div>\n      </div>\n    </div>\n  );\n};","import type { Defect, GitHubIssue, InspectionSubmission, EmailConfig } from '../types';\nimport { APPARATUS_LIST, LABELS, DEFECT_TITLE_REGEX } from './config';\n\n// Cloudflare Workers API endpoint\nconst API_BASE_URL = 'https://mbfd-github-proxy.pdarleyjr.workers.dev/api';\n\nclass GitHubService {\n  private adminPassword: string | null = null;\n\n  constructor() {\n    // No token needed in frontend - handled by Cloudflare Worker\n  }\n\n  /**\n   * Set admin password for authenticated requests\n   */\n  setAdminPassword(password: string): void {\n    this.adminPassword = password;\n  }\n\n  /**\n   * Clear admin password\n   */\n  clearAdminPassword(): void {\n    this.adminPassword = null;\n  }\n\n  /**\n   * Check if admin is authenticated\n   */\n  isAdminAuthenticated(): boolean {\n    return this.adminPassword !== null;\n  }\n\n  /**\n   * Get headers for API requests\n   */\n  private getHeaders(isAdmin: boolean = false): HeadersInit {\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n\n    if (isAdmin && this.adminPassword) {\n      headers['X-Admin-Password'] = this.adminPassword;\n    }\n\n    return headers;\n  }\n\n  /**\n   * Fetch all open defects for a specific apparatus\n   * Returns a map of items to their issue numbers for quick lookup\n   */\n  async checkExistingDefects(apparatus: string): Promise<Map<string, GitHubIssue>> {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/issues?state=open&labels=${LABELS.DEFECT},${encodeURIComponent(apparatus)}&per_page=100`,\n        {\n          method: 'GET',\n          headers: this.getHeaders(),\n        }\n      );\n\n      if (!response.ok) {\n        console.warn(`Failed to fetch defects: ${response.statusText}`);\n        // Return empty map instead of throwing - no existing defects is OK\n        return new Map<string, GitHubIssue>();\n      }\n\n      const data = await response.json();\n      \n      // Handle case where response is not an array (empty response, error, etc.)\n      const issues: GitHubIssue[] = Array.isArray(data) ? data : [];\n      const defectMap = new Map<string, GitHubIssue>();\n\n      for (const issue of issues) {\n        // Parse the issue title using the regex from config\n        const match = issue.title.match(DEFECT_TITLE_REGEX);\n        if (match) {\n          const [, , compartment, item] = match;\n          const key = `${compartment}:${item}`;\n          defectMap.set(key, issue);\n        }\n      }\n\n      return defectMap;\n    } catch (error) {\n      console.error('Error fetching existing defects:', error);\n      // Return empty map instead of throwing - allow inspection to continue\n      return new Map<string, GitHubIssue>();\n    }\n  }\n\n  /**\n   * Submit a checklist inspection\n   * Creates new issues for new defects, adds comments to existing ones\n   * Implements robust error handling: attempts all defects even if some fail\n   */\n  async submitChecklist(submission: InspectionSubmission): Promise<void> {\n    const { user, apparatus, date, defects } = submission;\n\n    // Get existing open defects for this apparatus\n    const existingDefects = await this.checkExistingDefects(apparatus);\n\n    // Track failures but continue processing all defects\n    let defectErrors = 0;\n    const errorMessages: string[] = [];\n\n    // Process each defect (attempt all even if some fail)\n    for (const defect of defects) {\n      try {\n        const defectKey = `${defect.compartment}:${defect.item}`;\n        const existingIssue = existingDefects.get(defectKey);\n\n        if (existingIssue) {\n          // Add comment to existing issue\n          await this.addCommentToDefect(\n            existingIssue.number,\n            user.name,\n            user.rank,\n            date,\n            defect.notes\n          );\n        } else {\n          // Create new issue\n          await this.createDefectIssue(\n            apparatus,\n            defect.compartment,\n            defect.item,\n            defect.status,\n            defect.notes,\n            user.name,\n            user.rank,\n            date\n          );\n        }\n      } catch (error) {\n        defectErrors++;\n        const errorMsg = `${defect.compartment}: ${defect.item}`;\n        errorMessages.push(errorMsg);\n        console.error(`Failed to process defect ${errorMsg}:`, error);\n        // Continue to next defect instead of throwing\n      }\n    }\n\n    // If any defects failed, throw error before creating log\n    // This prevents incomplete submissions from being logged\n    if (defectErrors > 0) {\n      throw new Error(`Failed to submit ${defectErrors} defect(s): ${errorMessages.join(', ')}. Please try again.`);\n    }\n\n    // Create a log entry (closed issue) for the completed inspection\n    await this.createLogEntry(submission);\n  }\n\n  /**\n   * Create a new defect issue\n   */\n  private async createDefectIssue(\n    apparatus: string,\n    compartment: string,\n    item: string,\n    status: 'missing' | 'damaged',\n    notes: string,\n    reportedBy: string,\n    rank: string,\n    date: string\n  ): Promise<void> {\n    const title = `[${apparatus}] ${compartment}: ${item} - ${status === 'missing' ? 'Missing' : 'Damaged'}`;\n    const body = `\n## Defect Report\n\n**Apparatus:** ${apparatus}\n**Compartment:** ${compartment}\n**Item:** ${item}\n**Status:** ${status === 'missing' ? '❌ Missing' : '⚠️ Damaged'}\n**Reported By:** ${reportedBy} (${rank})\n**Date:** ${date}\n\n### Notes\n${notes}\n\n---\n*This issue was automatically created by the MBFD Checkout System.*\n`.trim();\n\n    const labels = [LABELS.DEFECT, apparatus];\n    if (status === 'damaged') {\n      labels.push(LABELS.DAMAGED);\n    }\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/issues`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({ title, body, labels }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to create issue: ${response.statusText}`);\n      }\n    } catch (error) {\n      console.error('Error creating defect issue:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Add a verification comment to an existing defect\n   */\n  private async addCommentToDefect(\n    issueNumber: number,\n    verifiedBy: string,\n    rank: string,\n    date: string,\n    notes?: string\n  ): Promise<void> {\n    const body = `\n### Verification Update\n\n**Verified still present by:** ${verifiedBy} (${rank})\n**Date:** ${date}\n\n${notes ? `**Additional Notes:** ${notes}` : ''}\n\n---\n*This comment was automatically added by the MBFD Checkout System.*\n`.trim();\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/issues/${issueNumber}/comments`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({ body }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to add comment: ${response.statusText}`);\n      }\n    } catch (error) {\n      console.error('Error adding comment to issue:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Create a log entry for completed inspection\n   */\n  private async createLogEntry(submission: InspectionSubmission): Promise<void> {\n    const { user, apparatus, date, items } = submission;\n    \n    const title = `[${apparatus}] Daily Inspection - ${date}`;\n    const body = `\n## Daily Inspection Log\n\n**Apparatus:** ${apparatus}\n**Conducted By:** ${user.name} (${user.rank})\n**Date:** ${date}\n\n### Summary\n- **Total Items Checked:** ${items.length}\n- **Issues Found:** ${submission.defects.length}\n\n${submission.defects.length > 0 ? `\n### Issues Reported\n${submission.defects.map(d => `- ${d.compartment}: ${d.item} - ${d.status === 'missing' ? '❌ Missing' : '⚠️ Damaged'}`).join('\\n')}`\n : '✅ All items present and working'}}\n\n---\n*This inspection log was automatically created by the MBFD Checkout System.*\n`.trim();\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/issues`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify({\n          title,\n          body,\n          labels: [LABELS.LOG, apparatus],\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to create log: ${response.statusText}`);\n      }\n\n      const issue = await response.json();\n\n      // Immediately close the issue to mark it as a log entry\n      await fetch(`${API_BASE_URL}/issues/${issue.number}`, {\n        method: 'PATCH',\n        headers: this.getHeaders(),\n        body: JSON.stringify({ state: 'closed' }),\n      });\n    } catch (error) {\n      console.error('Error creating log entry:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Fetch all open defects across all apparatus (ADMIN ONLY)\n   */\n  async getAllDefects(): Promise<Defect[]> {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}/issues?state=open&labels=${LABELS.DEFECT}&per_page=100`,\n        {\n          method: 'GET',\n          headers: this.getHeaders(true), // Admin request\n        }\n      );\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          throw new Error('Unauthorized. Please enter the admin password.');\n        }\n        throw new Error(`Failed to fetch defects: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      \n      // Handle case where response is not an array\n      const issues: GitHubIssue[] = Array.isArray(data) ? data : [];\n      return issues.map(issue => this.parseDefectFromIssue(issue));\n    } catch (error) {\n      console.error('Error fetching all defects:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Parse a defect object from a GitHub issue\n   */\n  private parseDefectFromIssue(issue: GitHubIssue): Defect {\n    const match = issue.title.match(DEFECT_TITLE_REGEX);\n    \n    let apparatus = 'Rescue 1';\n    let compartment = 'Unknown';\n    let item = 'Unknown';\n    let status: 'missing' | 'damaged' = 'missing';\n\n    if (match) {\n      apparatus = match[1];\n      compartment = match[2];\n      item = match[3];\n      const statusStr = match[4];\n      status = statusStr.toLowerCase() as 'missing' | 'damaged';\n    }\n\n    return {\n      issueNumber: issue.number,\n      apparatus,\n      compartment,\n      item,\n      status,\n      notes: issue.body || '',\n      reportedBy: issue.user?.login || 'Unknown',\n      reportedAt: issue.created_at,\n      updatedAt: issue.updated_at,\n      resolved: false,\n    };\n  }\n\n  /**\n   * Resolve a defect by closing the issue (ADMIN ONLY)\n   */\n  async resolveDefect(issueNumber: number, resolutionNote: string, resolvedBy: string): Promise<void> {\n    try {\n      // First, fetch the issue to get its current labels\n      const issueResponse = await fetch(`${API_BASE_URL}/issues/${issueNumber}`, {\n        method: 'GET',\n        headers: this.getHeaders(true),\n      });\n\n      if (!issueResponse.ok) {\n        throw new Error(`Failed to fetch issue details: ${issueResponse.statusText}`);\n      }\n\n      const issue = await issueResponse.json();\n      const currentLabels = issue.labels.map((label: any) => label.name);\n      \n      // Preserve apparatus labels and defect label, add resolved label\n      const apparatusLabel = currentLabels.find((label: string) => \n        APPARATUS_LIST.includes(label as any)\n      );\n      const newLabels = [LABELS.DEFECT, LABELS.RESOLVED];\n      if (apparatusLabel) {\n        newLabels.push(apparatusLabel);\n      }\n      \n      // Add resolution comment\n      await fetch(`${API_BASE_URL}/issues/${issueNumber}/comments`, {\n        method: 'POST',\n        headers: this.getHeaders(true), // Admin request\n        body: JSON.stringify({\n          body: `\n## ✅ Defect Resolved\n\n**Resolved By:** ${resolvedBy}\n**Date:** ${new Date().toISOString()}\n\n### Resolution\n${resolutionNote}\n\n---\n*This defect was marked as resolved via the MBFD Admin Dashboard.*\n`.trim(),\n        }),\n      });\n\n      // Close the issue and update labels (preserving apparatus label)\n      const response = await fetch(`${API_BASE_URL}/issues/${issueNumber}`, {\n        method: 'PATCH',\n        headers: this.getHeaders(true), // Admin request\n        body: JSON.stringify({\n          state: 'closed',\n          labels: newLabels,\n        }),\n      });\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          throw new Error('Unauthorized. Please enter the admin password.');\n        }\n        throw new Error(`Failed to resolve defect: ${response.statusText}`);\n      }\n    } catch (error) {\n      console.error('Error resolving defect:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get fleet status summary - computes from defect list (ADMIN ONLY)\n   * This method is kept for backward compatibility but should be deprecated\n   * in favor of computing status directly from getAllDefects() result\n   */\n  async getFleetStatus(): Promise<Map<string, number>> {\n    const defects = await this.getAllDefects();\n    return this.computeFleetStatus(defects);\n  }\n\n  /**\n   * Compute fleet status from a list of defects\n   * Useful for avoiding redundant API calls\n   */\n  computeFleetStatus(defects: Defect[]): Map<string, number> {\n    const statusMap = new Map<string, number>();\n\n    // Initialize all apparatus with 0 defects\n    for (const apparatus of APPARATUS_LIST) {\n      statusMap.set(apparatus, 0);\n    }\n\n    // Count defects per apparatus\n    defects.forEach(defect => {\n      const current = statusMap.get(defect.apparatus) || 0;\n      statusMap.set(defect.apparatus, current + 1);\n    });\n\n    return statusMap;\n  }\n\n  /**\n   * Fetch inspection logs (ADMIN ONLY)\n   * Get closed issues with 'Log' label\n   */\n  async getInspectionLogs(days: number = 7): Promise<GitHubIssue[]> {\n    try {\n      const sinceDate = new Date();\n      sinceDate.setDate(sinceDate.getDate() - days);\n      \n      const response = await fetch(\n        `${API_BASE_URL}/issues?state=closed&labels=${LABELS.LOG}&per_page=100&since=${sinceDate.toISOString()}`,\n        {\n          method: 'GET',\n          headers: this.getHeaders(true), // Admin request\n        }\n      );\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          throw new Error('Unauthorized. Please enter the admin password.');\n        }\n        throw new Error(`Failed to fetch logs: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      return Array.isArray(data) ? data : [];\n    } catch (error) {\n      console.error('Error fetching inspection logs:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get daily submission statistics (ADMIN ONLY)\n   * Returns which vehicles have submitted today and total submissions per vehicle\n   */\n  async getDailySubmissions(): Promise<{\n    today: string[];\n    totals: Map<string, number>;\n    lastSubmission: Map<string, string>;\n  }> {\n    try {\n      const logs = await this.getInspectionLogs(1); // Today's logs\n      const allLogs = await this.getInspectionLogs(30); // Last 30 days for totals\n      \n      const today = new Date().toLocaleDateString('en-US');\n      const todaySubmissions: string[] = [];\n      const totals = new Map<string, number>();\n      const lastSubmission = new Map<string, string>();\n      \n      // Initialize totals for all apparatus\n      APPARATUS_LIST.forEach(apparatus => {\n        totals.set(apparatus, 0);\n      });\n      \n      // Process all logs for totals and find latest submissions\n      allLogs.forEach(log => {\n        const match = log.title.match(/\\[(.+)\\]\\s+Daily Inspection/);\n        if (match) {\n          const apparatus = match[1];\n          const current = totals.get(apparatus) || 0;\n          totals.set(apparatus, current + 1);\n          \n          // Track most recent submission date\n          const submissionDate = new Date(log.created_at).toLocaleDateString('en-US');\n          const currentLast = lastSubmission.get(apparatus);\n          if (!currentLast || new Date(log.created_at) > new Date(currentLast)) {\n            lastSubmission.set(apparatus, submissionDate);\n          }\n        }\n      });\n      \n      // Check today's submissions\n      logs.forEach(log => {\n        const match = log.title.match(/\\[(.+)\\]\\s+Daily Inspection/);\n        if (match) {\n          const apparatus = match[1];\n          const logDate = new Date(log.created_at).toLocaleDateString('en-US');\n          if (logDate === today && !todaySubmissions.includes(apparatus)) {\n            todaySubmissions.push(apparatus);\n          }\n        }\n      });\n      \n      return { today: todaySubmissions, totals, lastSubmission };\n    } catch (error) {\n      console.error('Error getting daily submissions:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Analyze defects to identify low stock items (ADMIN ONLY)\n   * Items reported as missing multiple times may indicate supply issues\n   */\n  async analyzeLowStockItems(): Promise<Array<{\n    item: string;\n    compartment: string;\n    apparatus: string[];\n    occurrences: number;\n  }>> {\n    try {\n      // Get all defects from last 30 days\n      const sinceDate = new Date();\n      sinceDate.setDate(sinceDate.getDate() - 30);\n      \n      const response = await fetch(\n        `${API_BASE_URL}/issues?state=all&labels=${LABELS.DEFECT}&per_page=100&since=${sinceDate.toISOString()}`,\n        {\n          method: 'GET',\n          headers: this.getHeaders(true),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch defects for analysis: ${response.statusText}`);\n      }\n\n      const issues: GitHubIssue[] = await response.json();\n      const itemMap = new Map<string, {\n        compartment: string;\n        apparatus: Set<string>;\n        occurrences: number;\n      }>();\n\n      // Analyze missing items\n      issues.forEach(issue => {\n        if (issue.title.includes('Missing')) {\n          const match = issue.title.match(DEFECT_TITLE_REGEX);\n          if (match) {\n            const [, apparatus, compartment, item] = match;\n            const key = `${compartment}:${item}`;\n            \n            if (itemMap.has(key)) {\n              const data = itemMap.get(key)!;\n              data.apparatus.add(apparatus);\n              data.occurrences++;\n            } else {\n              itemMap.set(key, {\n                compartment,\n                apparatus: new Set([apparatus]),\n                occurrences: 1,\n              });\n            }\n          }\n        }\n      });\n\n      // Convert to array and filter items with multiple occurrences\n      const lowStockItems = Array.from(itemMap.entries())\n        .filter(([, data]) => data.occurrences >= 2) // 2+ occurrences suggests supply issue\n        .map(([key, data]) => ({\n          item: key.split(':')[1],\n          compartment: data.compartment,\n          apparatus: Array.from(data.apparatus),\n          occurrences: data.occurrences,\n        }))\n        .sort((a, b) => b.occurrences - a.occurrences);\n\n      return lowStockItems;\n    } catch (error) {\n      console.error('Error analyzing low stock items:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Send notification after inspection submission\n   * Queues notification for daily digest or sends immediately based on configuration\n   */\n  async sendNotification(submission: {\n    apparatus: string;\n    operator: string;\n    checklistType: string;\n    totalItems: number;\n    completedItems: number;\n    defects: Array<{\n      item: string;\n      category: string;\n      severity: 'critical' | 'high' | 'medium' | 'low';\n    }>;\n    githubIssueUrl?: string;\n  }): Promise<{ success: boolean; notification_sent: string; message: string }> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/notify`, {\n        method: 'POST',\n        headers: this.getHeaders(),\n        body: JSON.stringify(submission),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to send notification');\n      }\n\n      return response.json();\n    } catch (error) {\n      console.error('Error sending notification:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get email configuration (ADMIN ONLY)\n   */\n  async getEmailConfig(adminPassword: string): Promise<EmailConfig> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/config/email`, {\n        method: 'GET',\n        headers: {\n          'X-Admin-Password': adminPassword,\n        },\n      });\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          throw new Error('Unauthorized');\n        }\n        throw new Error('Failed to fetch email configuration');\n      }\n\n      return response.json();\n    } catch (error) {\n      console.error('Error fetching email config:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update email configuration (ADMIN ONLY)\n   */\n  async updateEmailConfig(\n    adminPassword: string,\n    updates: Partial<EmailConfig>\n  ): Promise<{ success: boolean; config: EmailConfig }> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/config/email`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Admin-Password': adminPassword,\n        },\n        body: JSON.stringify(updates),\n      });\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          throw new Error('Unauthorized');\n        }\n        throw new Error('Failed to update email configuration');\n      }\n\n      return response.json();\n    } catch (error) {\n      console.error('Error updating email config:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Manually trigger daily digest (ADMIN ONLY)\n   */\n  async sendManualDigest(adminPassword: string): Promise<{ success: boolean; message: string }> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/digest/send`, {\n        method: 'POST',\n        headers: {\n          'X-Admin-Password': adminPassword,\n        },\n      });\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          throw new Error('Unauthorized');\n        }\n        throw new Error('Failed to send digest');\n      }\n\n      return response.json();\n    } catch (error) {\n      console.error('Error sending manual digest:', error);\n      throw error;\n    }\n  }\n}\n\n// Export a singleton instance\nexport const githubService = new GitHubService();"],"names":["__iconNode","Calendar","createLucideIcon","CircleCheckBig","TriangleAlert","X","Modal","isOpen","onClose","title","children","className","useEffect","jsxs","jsx","cn","API_BASE_URL","GitHubService","password","isAdmin","headers","apparatus","response","LABELS","data","issues","defectMap","issue","match","DEFECT_TITLE_REGEX","compartment","item","key","error","submission","user","date","defects","existingDefects","defectErrors","errorMessages","defect","defectKey","existingIssue","errorMsg","status","notes","reportedBy","rank","body","labels","issueNumber","verifiedBy","items","d","resolutionNote","resolvedBy","issueResponse","apparatusLabel","label","APPARATUS_LIST","newLabels","statusMap","current","days","sinceDate","logs","allLogs","today","todaySubmissions","totals","lastSubmission","log","submissionDate","currentLast","itemMap","a","b","adminPassword","updates","githubService"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}