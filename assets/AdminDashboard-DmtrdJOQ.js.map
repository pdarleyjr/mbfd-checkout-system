{"version":3,"file":"AdminDashboard-DmtrdJOQ.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-left.js","../../node_modules/lucide-react/dist/esm/icons/brain.js","../../node_modules/lucide-react/dist/esm/icons/circle-alert.js","../../node_modules/lucide-react/dist/esm/icons/circle-x.js","../../node_modules/lucide-react/dist/esm/icons/clipboard-list.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/image.js","../../node_modules/lucide-react/dist/esm/icons/lightbulb.js","../../node_modules/lucide-react/dist/esm/icons/lock.js","../../node_modules/lucide-react/dist/esm/icons/mail.js","../../node_modules/lucide-react/dist/esm/icons/package.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/truck.js","../../node_modules/lucide-react/dist/esm/icons/warehouse.js","../../src/components/AIFleetInsights.tsx","../../src/components/inventory/SupplyListPanel.tsx","../../src/hooks/useSupplyTasks.ts","../../src/components/inventory/TasksPanel.tsx","../../src/hooks/useInventory.ts","../../src/components/inventory/SuggestionsPanel.tsx","../../src/components/inventory/AIInsightsPanel.tsx","../../src/components/inventory/InventoryTab.tsx","../../src/hooks/useVehicleChangeRequests.ts","../../src/components/ApparatusStatusTab.tsx","../../src/components/AdminDashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n];\nconst ArrowLeft = createLucideIcon(\"arrow-left\", __iconNode);\n\nexport { __iconNode, ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 18V5\", key: \"adv99a\" }],\n  [\"path\", { d: \"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4\", key: \"1e3is1\" }],\n  [\"path\", { d: \"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5\", key: \"1gqd8o\" }],\n  [\"path\", { d: \"M17.997 5.125a4 4 0 0 1 2.526 5.77\", key: \"iwvgf7\" }],\n  [\"path\", { d: \"M18 18a4 4 0 0 0 2-7.464\", key: \"efp6ie\" }],\n  [\"path\", { d: \"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517\", key: \"1gq6am\" }],\n  [\"path\", { d: \"M6 18a4 4 0 0 1-2-7.464\", key: \"k1g0md\" }],\n  [\"path\", { d: \"M6.003 5.125a4 4 0 0 0-2.526 5.77\", key: \"q97ue3\" }]\n];\nconst Brain = createLucideIcon(\"brain\", __iconNode);\n\nexport { __iconNode, Brain as default };\n//# sourceMappingURL=brain.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n];\nconst CircleAlert = createLucideIcon(\"circle-alert\", __iconNode);\n\nexport { __iconNode, CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n];\nconst CircleX = createLucideIcon(\"circle-x\", __iconNode);\n\nexport { __iconNode, CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"8\", height: \"4\", x: \"8\", y: \"2\", rx: \"1\", ry: \"1\", key: \"tgr4d6\" }],\n  [\n    \"path\",\n    {\n      d: \"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\",\n      key: \"116196\"\n    }\n  ],\n  [\"path\", { d: \"M12 11h4\", key: \"1jrz19\" }],\n  [\"path\", { d: \"M12 16h4\", key: \"n85exb\" }],\n  [\"path\", { d: \"M8 11h.01\", key: \"1dfujw\" }],\n  [\"path\", { d: \"M8 16h.01\", key: \"18s6g9\" }]\n];\nconst ClipboardList = createLucideIcon(\"clipboard-list\", __iconNode);\n\nexport { __iconNode, ClipboardList as default };\n//# sourceMappingURL=clipboard-list.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 6v6l4 2\", key: \"mmk7yg\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Clock = createLucideIcon(\"clock\", __iconNode);\n\nexport { __iconNode, Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", ry: \"2\", key: \"1m3agn\" }],\n  [\"circle\", { cx: \"9\", cy: \"9\", r: \"2\", key: \"af1f0g\" }],\n  [\"path\", { d: \"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\", key: \"1xmnt7\" }]\n];\nconst Image = createLucideIcon(\"image\", __iconNode);\n\nexport { __iconNode, Image as default };\n//# sourceMappingURL=image.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5\",\n      key: \"1gvzjb\"\n    }\n  ],\n  [\"path\", { d: \"M9 18h6\", key: \"x1upvd\" }],\n  [\"path\", { d: \"M10 22h4\", key: \"ceow96\" }]\n];\nconst Lightbulb = createLucideIcon(\"lightbulb\", __iconNode);\n\nexport { __iconNode, Lightbulb as default };\n//# sourceMappingURL=lightbulb.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n];\nconst Lock = createLucideIcon(\"lock\", __iconNode);\n\nexport { __iconNode, Lock as default };\n//# sourceMappingURL=lock.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7\", key: \"132q7q\" }],\n  [\"rect\", { x: \"2\", y: \"4\", width: \"20\", height: \"16\", rx: \"2\", key: \"izxlao\" }]\n];\nconst Mail = createLucideIcon(\"mail\", __iconNode);\n\nexport { __iconNode, Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z\",\n      key: \"1a0edw\"\n    }\n  ],\n  [\"path\", { d: \"M12 22V12\", key: \"d0xqtd\" }],\n  [\"polyline\", { points: \"3.29 7 12 12 20.71 7\", key: \"ousv84\" }],\n  [\"path\", { d: \"m7.5 4.27 9 5.15\", key: \"1c824w\" }]\n];\nconst Package = createLucideIcon(\"package\", __iconNode);\n\nexport { __iconNode, Package as default };\n//# sourceMappingURL=package.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n];\nconst RefreshCw = createLucideIcon(\"refresh-cw\", __iconNode);\n\nexport { __iconNode, RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m21 21-4.34-4.34\", key: \"14j7rj\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }]\n];\nconst Search = createLucideIcon(\"search\", __iconNode);\n\nexport { __iconNode, Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z\",\n      key: \"1s2grr\"\n    }\n  ],\n  [\"path\", { d: \"M20 2v4\", key: \"1rf3ol\" }],\n  [\"path\", { d: \"M22 4h-4\", key: \"gwowj6\" }],\n  [\"circle\", { cx: \"4\", cy: \"20\", r: \"2\", key: \"6kqj1y\" }]\n];\nconst Sparkles = createLucideIcon(\"sparkles\", __iconNode);\n\nexport { __iconNode, Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 7h6v6\", key: \"box55l\" }],\n  [\"path\", { d: \"m22 7-8.5 8.5-5-5L2 17\", key: \"1t1m79\" }]\n];\nconst TrendingUp = createLucideIcon(\"trending-up\", __iconNode);\n\nexport { __iconNode, TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2\", key: \"wrbu53\" }],\n  [\"path\", { d: \"M15 18H9\", key: \"1lyqi6\" }],\n  [\n    \"path\",\n    {\n      d: \"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14\",\n      key: \"lysw3i\"\n    }\n  ],\n  [\"circle\", { cx: \"17\", cy: \"18\", r: \"2\", key: \"332jqn\" }],\n  [\"circle\", { cx: \"7\", cy: \"18\", r: \"2\", key: \"19iecd\" }]\n];\nconst Truck = createLucideIcon(\"truck\", __iconNode);\n\nexport { __iconNode, Truck as default };\n//# sourceMappingURL=truck.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11\", key: \"pb2vm6\" }],\n  [\n    \"path\",\n    {\n      d: \"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z\",\n      key: \"doq5xv\"\n    }\n  ],\n  [\"path\", { d: \"M6 13h12\", key: \"yf64js\" }],\n  [\"path\", { d: \"M6 17h12\", key: \"1jwigz\" }]\n];\nconst Warehouse = createLucideIcon(\"warehouse\", __iconNode);\n\nexport { __iconNode, Warehouse as default };\n//# sourceMappingURL=warehouse.js.map\n","import React, { useState } from 'react';\nimport { Brain, Sparkles, AlertTriangle, CheckCircle, TrendingUp, Package, RefreshCw } from 'lucide-react';\nimport { Button } from './ui/Button';\nimport { Card, CardContent } from './ui/Card';\nimport { githubService } from '../lib/github';\nimport { APPARATUS_LIST } from '../lib/config';\n\ninterface AIFleetInsightsProps {\n  adminPassword: string;\n  onCriticalAlertCount?: (count: number) => void;\n}\n\ninterface AIInsightsData {\n  insights: string[];\n  dataPoints: number;\n  timeframe: string;\n  apparatus: string;\n  generatedAt: string;\n}\n\nexport const AIFleetInsights: React.FC<AIFleetInsightsProps> = ({ adminPassword, onCriticalAlertCount }) => {\n  const [aiInsights, setAiInsights] = useState<AIInsightsData | null>(null);\n  const [isLoadingInsights, setIsLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState<string | null>(null);\n  const [selectedTimeframe, setSelectedTimeframe] = useState<'week' | 'month' | 'all'>('week');\n  const [selectedApparatus, setSelectedApparatus] = useState<string>('all');\n\n  const loadAIInsights = async () => {\n    if (!adminPassword) {\n      setInsightsError('Admin authentication required');\n      return;\n    }\n    \n    setIsLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      const apparatus = selectedApparatus === 'all' ? undefined : selectedApparatus;\n      const insights = await githubService.getAIInsights(\n        adminPassword,\n        selectedTimeframe,\n        apparatus\n      );\n      \n      setAiInsights(insights);\n      \n      // Check for critical alerts\n      const criticalCount = insights.insights.filter((insight: string) => \n        insight.toLowerCase().includes('critical') || \n        insight.toLowerCase().includes('immediate') ||\n        insight.toLowerCase().includes('urgent')\n      ).length;\n      \n      if (onCriticalAlertCount) {\n        onCriticalAlertCount(criticalCount);\n      }\n    } catch (error: any) {\n      console.error('Error loading AI insights:', error);\n      setInsightsError(error.message || 'Failed to load AI insights');\n    } finally {\n      setIsLoadingInsights(false);\n    }\n  };\n\n  const renderInsightCard = (insight: string, index: number) => {\n    const isCritical = insight.toLowerCase().includes('critical') || insight.toLowerCase().includes('urgent');\n    const isWarning = insight.toLowerCase().includes('warning') || insight.toLowerCase().includes('attention');\n    const isPositive = insight.toLowerCase().includes('good') || insight.toLowerCase().includes('excellent') || insight.toLowerCase().includes('optimal');\n\n    let bgColor = 'bg-blue-50';\n    let borderColor = 'border-blue-200';\n    let textColor = 'text-blue-800';\n    let icon = <CheckCircle className=\"w-5 h-5 text-blue-600\" />;\n\n    if (isCritical) {\n      bgColor = 'bg-red-50';\n      borderColor = 'border-red-200';\n      textColor = 'text-red-800';\n      icon = <AlertTriangle className=\"w-5 h-5 text-red-600\" />;\n    } else if (isWarning) {\n      bgColor = 'bg-yellow-50';\n      borderColor = 'border-yellow-200';\n      textColor = 'text-yellow-800';\n      icon = <AlertTriangle className=\"w-5 h-5 text-yellow-600\" />;\n    } else if (isPositive) {\n      bgColor = 'bg-green-50';\n      borderColor = 'border-green-200';\n      textColor = 'text-green-800';\n      icon = <CheckCircle className=\"w-5 h-5 text-green-600\" />;\n    }\n\n    return (\n      <div key={index} className={`flex items-start gap-3 p-4 ${bgColor} rounded-lg border ${borderColor}`}>\n        {icon}\n        <p className={`text-sm font-medium ${textColor} flex-1`}>{insight}</p>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n            <Brain className=\"w-7 h-7 text-blue-600\" />\n            Fleet Insights - AI Analysis\n          </h2>\n          <p className=\"text-sm text-gray-600 mt-1 flex items-center gap-2\">\n            <Sparkles className=\"w-4 h-4 text-purple-600\" />\n            Powered by Cloudflare Workers AI (Llama 3 8B)\n          </p>\n        </div>\n        <Button\n          onClick={loadAIInsights}\n          disabled={isLoadingInsights}\n          variant=\"secondary\"\n          className=\"flex items-center gap-2\"\n        >\n          <RefreshCw className={`w-4 h-4 ${isLoadingInsights ? 'animate-spin' : ''}`} />\n          Refresh Analysis\n        </Button>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"p-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* Timeframe Selector */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Analysis Timeframe\n              </label>\n              <div className=\"flex gap-2\">\n                {[\n                  { value: 'week', label: 'Last Week' },\n                  { value: 'month', label: 'Last Month' },\n                  { value: 'all', label: 'All Time' }\n                ].map(({ value, label }) => (\n                  <button\n                    key={value}\n                    onClick={() => setSelectedTimeframe(value as any)}\n                    className={`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${\n                      selectedTimeframe === value\n                        ? 'bg-blue-600 text-white shadow-md'\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Apparatus Filter */}\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Filter by Apparatus\n              </label>\n              <select\n                value={selectedApparatus}\n                onChange={(e) => setSelectedApparatus(e.target.value)}\n                className=\"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n              >\n                <option value=\"all\">All Apparatus</option>\n                {APPARATUS_LIST.map((apparatus) => (\n                  <option key={apparatus} value={apparatus}>\n                    {apparatus}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Analyze Button */}\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\n            <Button\n              onClick={loadAIInsights}\n              disabled={isLoadingInsights}\n              className=\"w-full md:w-auto flex items-center gap-2\"\n            >\n              <Brain className=\"w-5 h-5\" />\n              {isLoadingInsights ? 'Analyzing Fleet...' : 'Analyze Fleet'}\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Loading State */}\n      {isLoadingInsights && (\n        <Card>\n          <CardContent className=\"py-12\">\n            <div className=\"text-center\">\n              <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4 animate-pulse\">\n                <Sparkles className=\"w-8 h-8 text-white\" />\n              </div>\n              <h3 className=\"text-lg font-bold text-gray-900 mb-2\">AI Analysis in Progress</h3>\n              <p className=\"text-gray-600\">Analyzing inspection data and generating insights...</p>\n              <div className=\"mt-4 w-48 h-2 bg-gray-200 rounded-full mx-auto overflow-hidden\">\n                <div className=\"h-full bg-gradient-to-r from-blue-500 to-purple-600 animate-pulse\"></div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Error State */}\n      {insightsError && !isLoadingInsights && (\n        <Card className=\"border-red-300\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-start gap-3\">\n              <AlertTriangle className=\"w-6 h-6 text-red-600 flex-shrink-0 mt-1\" />\n              <div className=\"flex-1\">\n                <h3 className=\"text-lg font-bold text-red-900 mb-2\">Analysis Unavailable</h3>\n                <p className=\"text-red-700 text-sm mb-4\">{insightsError}</p>\n                {insightsError.includes('503') || insightsError.includes('enabled') ? (\n                  <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 text-sm text-red-800\">\n                    <p className=\"font-semibold mb-2\">AI service is temporarily unavailable.</p>\n                    <p>This could be due to:</p>\n                    <ul className=\"list-disc list-inside mt-2 space-y-1\">\n                      <li>Cloudflare Workers AI service maintenance</li>\n                      <li>AI features not configured in the worker</li>\n                      <li>Network connectivity issues</li>\n                    </ul>\n                    <p className=\"mt-3 font-medium\">You can still view raw data in other dashboard tabs.</p>\n                  </div>\n                ) : (\n                  <Button onClick={loadAIInsights} variant=\"secondary\">\n                    Try Again\n                  </Button>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* No Data State */}\n      {!aiInsights && !isLoadingInsights && !insightsError && (\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <Brain className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-bold text-gray-900 mb-2\">No Analysis Data</h3>\n            <p className=\"text-gray-600 mb-4\">\n              No inspection data available for this timeframe.\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              Try expanding the timeframe or checking other apparatus.\n            </p>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* AI Insights Results */}\n      {aiInsights && !isLoadingInsights && (\n        <div className=\"space-y-6\">\n          {/* Summary Card */}\n          <Card className=\"border-blue-300 bg-gradient-to-br from-blue-50 to-purple-50\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"bg-gradient-to-br from-blue-600 to-purple-600 p-3 rounded-full\">\n                  <TrendingUp className=\"w-6 h-6 text-white\" />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Analysis Summary</h3>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Data Points</p>\n                      <p className=\"text-2xl font-bold text-blue-600\">{aiInsights.dataPoints}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Timeframe</p>\n                      <p className=\"text-lg font-semibold text-gray-900 capitalize\">{aiInsights.timeframe}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Apparatus</p>\n                      <p className=\"text-lg font-semibold text-gray-900\">{aiInsights.apparatus || 'All'}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Insights Found</p>\n                      <p className=\"text-2xl font-bold text-purple-600\">{aiInsights.insights.length}</p>\n                    </div>\n                  </div>\n                  <p className=\"text-xs text-gray-500\">\n                    Generated at: {new Date(aiInsights.generatedAt).toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Insights List */}\n          <Card>\n            <CardContent className=\"p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                <AlertTriangle className=\"w-5 h-5 text-orange-600\" />\n                AI-Generated Insights\n              </h3>\n              \n              {aiInsights.insights.length > 0 ? (\n                <div className=\"space-y-3\">\n                  {aiInsights.insights.map((insight, index) => renderInsightCard(insight, index))}\n                </div>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <CheckCircle className=\"w-12 h-12 text-green-600 mx-auto mb-4\" />\n                  <p className=\"text-lg font-semibold text-gray-900\">Fleet Operating Optimally</p>\n                  <p className=\"text-gray-600 mt-2\">AI analysis found no issues or recommendations at this time.</p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Statistical Visualization */}\n          <Card>\n            <CardContent className=\"p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                <Package className=\"w-5 h-5 text-green-600\" />\n                Fleet Health Score\n              </h3>\n              \n              <div className=\"space-y-4\">\n                {/* Overall Health */}\n                <div>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-sm font-semibold text-gray-700\">Overall Fleet Health</span>\n                    <span className={`text-lg font-bold ${\n                      aiInsights.dataPoints > 0 ? 'text-green-600' : 'text-gray-500'\n                    }`}>\n                      {aiInsights.dataPoints > 0 ? Math.max(70, 100 - (aiInsights.insights.length * 5)) : 0}%\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                    <div\n                      className=\"h-3 rounded-full bg-gradient-to-r from-green-500 to-emerald-600 transition-all duration-500\"\n                      style={{ width: `${aiInsights.dataPoints > 0 ? Math.max(70, 100 - (aiInsights.insights.length * 5)) : 0}%` }}\n                    />\n                  </div>\n                </div>\n\n                {/* Insights Breakdown */}\n                <div className=\"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200\">\n                  <div className=\"text-center\">\n                    <p className=\"text-sm text-gray-600\">Critical</p>\n                    <p className=\"text-2xl font-bold text-red-600\">\n                      {aiInsights.insights.filter(i => i.toLowerCase().includes('critical')).length}\n                    </p>\n                  </div>\n                  <div className=\"text-center\">\n                    <p className=\"text-sm text-gray-600\">Warnings</p>\n                    <p className=\"text-2xl font-bold text-yellow-600\">\n                      {aiInsights.insights.filter(i => i.toLowerCase().includes('warning')).length}\n                    </p>\n                  </div>\n                  <div className=\"text-center\">\n                    <p className=\"text-sm text-gray-600\">Recommendations</p>\n                    <p className=\"text-2xl font-bold text-blue-600\">\n                      {aiInsights.insights.filter(i => !i.toLowerCase().includes('critical') && !i.toLowerCase().includes('warning')).length}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useMemo } from 'react';\nimport { Package, Search, RefreshCw, AlertTriangle } from 'lucide-react';\nimport { Button } from '../ui/Button';\nimport { Card, CardContent } from '../ui/Card';\nimport type { InventoryItem } from '../../lib/inventory';\n\ninterface SupplyListPanelProps {\n  items: InventoryItem[];\n  isLoading: boolean;\n  error: string | null;\n  onRefresh: () => void;\n}\n\ntype SortField = 'name' | 'quantity' | 'location';\ntype SortDirection = 'asc' | 'desc';\n\nexport const SupplyListPanel: React.FC<SupplyListPanelProps> = ({\n  items,\n  isLoading,\n  error,\n  onRefresh,\n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortField, setSortField] = useState<SortField>('name');\n  const [sortDirection, setSortDirection] = useState<SortDirection>('asc');\n\n  const filteredAndSortedItems = useMemo(() => {\n    let results = items;\n\n    // Filter\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      results = results.filter(\n        (item) =>\n          item.equipmentName.toLowerCase().includes(term) ||\n          item.equipmentType.toLowerCase().includes(term) ||\n          item.location?.toLowerCase().includes(term) ||\n          item.description?.toLowerCase().includes(term)\n      );\n    }\n\n    // Sort\n    results = [...results].sort((a, b) => {\n      let compareValue = 0;\n      \n      switch (sortField) {\n        case 'name':\n          compareValue = a.equipmentName.localeCompare(b.equipmentName);\n          break;\n        case 'quantity':\n          compareValue = a.quantity - b.quantity;\n          break;\n        case 'location':\n          compareValue = (a.location || '').localeCompare(b.location || '');\n          break;\n      }\n\n      return sortDirection === 'asc' ? compareValue : -compareValue;\n    });\n\n    return results;\n  }, [items, searchTerm, sortField, sortDirection]);\n\n  const toggleSort = (field: SortField) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortDirection('asc');\n    }\n  };\n\n  if (error) {\n    return (\n      <Card className=\"border-red-300\">\n        <CardContent className=\"py-8 text-center\">\n          <AlertTriangle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n          <p className=\"text-red-600 font-semibold mb-2\">Error Loading Inventory</p>\n          <p className=\"text-gray-600 text-sm mb-4\">{error}</p>\n          <Button onClick={onRefresh} variant=\"secondary\">\n            Try Again\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Search and Actions Bar - Sticky on mobile */}\n      <div className=\"sticky top-0 z-10 bg-white rounded-lg shadow-sm border border-gray-200 p-4 space-y-3\">\n        <div className=\"flex gap-2\">\n          <div className=\"relative flex-1\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search inventory...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-base\"\n            />\n          </div>\n          <Button\n            onClick={onRefresh}\n            variant=\"secondary\"\n            className=\"flex-shrink-0 min-w-[44px] min-h-[44px] flex items-center justify-center\"\n            disabled={isLoading}\n            aria-label=\"Refresh inventory\"\n          >\n            <RefreshCw className={`w-5 h-5 ${isLoading ? 'animate-spin' : ''}`} />\n          </Button>\n        </div>\n\n        {/* Sort Controls */}\n        <div className=\"flex gap-2 flex-wrap\">\n          <button\n            onClick={() => toggleSort('name')}\n            className={`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${\n              sortField === 'name'\n                ? 'bg-blue-100 text-blue-700'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Name {sortField === 'name' && (sortDirection === 'asc' ? '↑' : '↓')}\n          </button>\n          <button\n            onClick={() => toggleSort('quantity')}\n            className={`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${\n              sortField === 'quantity'\n                ? 'bg-blue-100 text-blue-700'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Quantity {sortField === 'quantity' && (sortDirection === 'asc' ? '↑' : '↓')}\n          </button>\n          <button\n            onClick={() => toggleSort('location')}\n            className={`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${\n              sortField === 'location'\n                ? 'bg-blue-100 text-blue-700'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Location {sortField === 'location' && (sortDirection === 'asc' ? '↑' : '↓')}\n          </button>\n        </div>\n      </div>\n\n      {/* Items List */}\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Loading inventory...</p>\n        </div>\n      ) : filteredAndSortedItems.length === 0 ? (\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-lg font-semibold text-gray-900\">\n              {searchTerm ? 'No items found' : 'No inventory items'}\n            </p>\n            <p className=\"text-gray-600 mt-1\">\n              {searchTerm\n                ? 'Try adjusting your search terms'\n                : 'Inventory list is empty'}\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-3\">\n          {filteredAndSortedItems.map((item) => {\n            const isLowStock = item.minQty && item.quantity <= item.minQty;\n            \n            return (\n              <Card\n                key={item.id}\n                className={`hover:shadow-md transition-shadow ${\n                  isLowStock ? 'border-orange-300' : ''\n                }`}\n              >\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-start justify-between gap-3\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <Package className={`w-5 h-5 flex-shrink-0 ${isLowStock ? 'text-orange-600' : 'text-blue-600'}`} />\n                        <h3 className=\"font-bold text-gray-900 truncate\">\n                          {item.equipmentName}\n                        </h3>\n                        {isLowStock && (\n                          <AlertTriangle className=\"w-4 h-4 text-orange-600 flex-shrink-0\" />\n                        )}\n                      </div>\n                      \n                      <div className=\"space-y-1 text-sm\">\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Type:</span> {item.equipmentType}\n                        </p>\n                        {item.location && (\n                          <p className=\"text-gray-600\">\n                            <span className=\"font-semibold\">Location:</span> {item.location} (Shelf {item.shelf}, Row {item.row})\n                          </p>\n                        )}\n                        {item.manufacturer && (\n                          <p className=\"text-gray-600\">\n                            <span className=\"font-semibold\">Mfg:</span> {item.manufacturer}\n                          </p>\n                        )}\n                        {item.description && (\n                          <p className=\"text-gray-500 text-xs mt-2 line-clamp-2\">\n                            {item.description}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex-shrink-0 text-right\">\n                      <div className={`text-3xl font-bold ${\n                        isLowStock ? 'text-orange-600' : 'text-blue-600'\n                      }`}>\n                        {item.quantity}\n                      </div>\n                      <div className=\"text-xs text-gray-500 mt-1\">\n                        {item.minQty ? `Min: ${item.minQty}` : 'in stock'}\n                      </div>\n                      {isLowStock && (\n                        <div className=\"text-xs font-semibold text-orange-600 mt-1\">\n                          LOW STOCK\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Results Summary */}\n      {!isLoading && filteredAndSortedItems.length > 0 && (\n        <div className=\"text-center text-sm text-gray-600 py-2\">\n          Showing {filteredAndSortedItems.length} of {items.length} items\n        </div>\n      )}\n    </div>\n  );\n};","import { useState, useEffect, useCallback } from 'react';\nimport { fetchTasks, updateTask } from '../lib/inventory';\nimport type { SupplyTask } from '../lib/inventory';\n\nexport function useSupplyTasks(status: 'pending' | 'completed' | 'canceled' = 'pending') {\n  const [tasks, setTasks] = useState<SupplyTask[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [count, setCount] = useState(0);\n\n  const loadTasks = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const data = await fetchTasks(status);\n      setTasks(data.tasks);\n      setCount(data.count);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load tasks';\n      setError(errorMessage);\n      console.error('Error loading tasks:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [status]);\n\n  const completeTask = useCallback(async (\n    taskId: string,\n    chosenReplacement?: { itemId: string; itemName: string; qty: number },\n    completedBy?: string,\n    notes?: string\n  ) => {\n    try {\n      await updateTask(taskId, {\n        status: 'completed',\n        chosenReplacement,\n        completedBy,\n        notes,\n      });\n      await loadTasks(); // Refresh list\n    } catch (err) {\n      throw err; // Let caller handle error\n    }\n  }, [loadTasks]);\n\n  const cancelTask = useCallback(async (taskId: string, notes?: string) => {\n    try {\n      await updateTask(taskId, {\n        status: 'canceled',\n        notes,\n      });\n      await loadTasks(); // Refresh list\n    } catch (err) {\n      throw err; // Let caller handle error\n    }\n  }, [loadTasks]);\n\n  useEffect(() => {\n    loadTasks();\n  }, [loadTasks]);\n\n  return {\n    tasks,\n    isLoading,\n    error,\n    count,\n    refresh: loadTasks,\n    completeTask,\n    cancelTask,\n  };\n}","import React, { useState } from 'react';\nimport { CheckCircle, XCircle, Clock, Package, AlertCircle } from 'lucide-react';\nimport { Button } from '../ui/Button';\nimport { Card, CardContent } from '../ui/Card';\nimport { useSupplyTasks } from '../../hooks/useSupplyTasks';\nimport { formatDateTime } from '../../lib/utils';\n\ntype TaskStatus = 'pending' | 'completed' | 'canceled';\n\nexport const TasksPanel: React.FC = () => {\n  const [activeStatus, setActiveStatus] = useState<TaskStatus>('pending');\n  const { tasks, isLoading, error, completeTask, cancelTask, refresh } = useSupplyTasks(activeStatus);\n  const [processingTaskId, setProcessingTaskId] = useState<string | null>(null);\n\n  const handleComplete = async (taskId: string, itemName: string) => {\n    if (!confirm(`Mark \"${itemName}\" task as completed?`)) return;\n\n    setProcessingTaskId(taskId);\n    try {\n      await completeTask(taskId, undefined, 'Admin', 'Completed from dashboard');\n      alert('Task marked as completed successfully');\n    } catch (err) {\n      alert(`Error: ${err instanceof Error ? err.message : 'Failed to complete task'}`);\n    } finally {\n      setProcessingTaskId(null);\n    }\n  };\n\n  const handleCancel = async (taskId: string, itemName: string) => {\n    const notes = prompt(`Cancel \"${itemName}\" task? Enter reason (optional):`);\n    if (notes === null) return; // User clicked cancel\n\n    setProcessingTaskId(taskId);\n    try {\n      await cancelTask(taskId, notes || 'Canceled from dashboard');\n      alert('Task canceled successfully');\n    } catch (err) {\n      alert(`Error: ${err instanceof Error ? err.message : 'Failed to cancel task'}`);\n    } finally {\n      setProcessingTaskId(null);\n    }\n  };\n\n if (error) {\n    return (\n      <Card className=\"border-red-300\">\n        <CardContent className=\"py-8 text-center\">\n          <AlertCircle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n          <p className=\"text-red-600 font-semibold mb-2\">Error Loading Tasks</p>\n          <p className=\"text-gray-600 text-sm mb-4\">{error}</p>\n          <Button onClick={refresh} variant=\"secondary\">\n            Try Again\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Status Tabs */}\n      <div className=\"flex gap-2 border-b border-gray-200 overflow-x-auto\">\n        <button\n          onClick={() => setActiveStatus('pending')}\n          className={`px-4 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap min-w-[120px] ${\n            activeStatus === 'pending'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <Clock className=\"w-5 h-5\" />\n          Pending\n        </button>\n        <button\n          onClick={() => setActiveStatus('completed')}\n          className={`px-4 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap min-w-[120px] ${\n            activeStatus === 'completed'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <CheckCircle className=\"w-5 h-5\" />\n          Completed\n        </button>\n        <button\n          onClick={() => setActiveStatus('canceled')}\n          className={`px-4 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap min-w-[120px] ${\n            activeStatus === 'canceled'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <XCircle className=\"w-5 h-5\" />\n          Canceled\n        </button>\n      </div>\n\n      {/* Tasks List */}\n      {isLoading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Loading tasks...</p>\n        </div>\n      ) : tasks.length === 0 ? (\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-lg font-semibold text-gray-900\">No {activeStatus} tasks</p>\n            <p className=\"text-gray-600 mt-1\">\n              {activeStatus === 'pending'\n                ? 'All supply tasks are up to date'\n                : `No tasks have been ${activeStatus}`}\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-3\">\n          {tasks.map((task) => (\n            <Card key={task.id} className=\"hover:shadow-md transition-shadow\">\n              <CardContent className=\"p-4\">\n                <div className=\"space-y-3\">\n                  {/* Header */}\n                  <div className=\"flex items-start justify-between gap-3\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                          {task.apparatus}\n                        </span>\n                        <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\n                          task.deficiencyType === 'missing'\n                            ? 'bg-red-100 text-red-800'\n                            : 'bg-yellow-100 text-yellow-800'\n                        }`}>\n                          {task.deficiencyType === 'missing' ? '❌ Missing' : '⚠️ Damaged'}\n                        </span>\n                      </div>\n                      <h3 className=\"font-bold text-gray-900 text-lg\">\n                        {task.itemName}\n                      </h3>\n                      {task.compartment && (\n                        <p className=\"text-sm text-gray-600\">\n                          Compartment: {task.compartment}\n                        </p>\n                      )}\n                    </div>\n                    {activeStatus === 'pending' && (\n                      <div className=\"flex-shrink-0\">\n                        <Clock className=\"w-6 h-6 text-orange-600\" />\n                      </div>\n                    )}\n                    {activeStatus === 'completed' && (\n                      <div className=\"flex-shrink-0\">\n                        <CheckCircle className=\"w-6 h-6 text-green-600\" />\n                      </div>\n                    )}\n                    {activeStatus === 'canceled' && (\n                      <div className=\"flex-shrink-0\">\n                        <XCircle className=\"w-6 h-6 text-gray-600\" />\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Details */}\n                  <div className=\"text-sm space-y-1\">\n                    <p className=\"text-gray-600\">\n                      <span className=\"font-semibold\">Created by:</span> {task.createdBy}\n                    </p>\n                    <p className=\"text-gray-600\">\n                      <span className=\"font-semibold\">Created:</span> {formatDateTime(task.createdAt)}\n                    </p>\n                    {task.completedBy && task.completedAt && (\n                      <>\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Completed by:</span> {task.completedBy}\n                        </p>\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Completed:</span> {formatDateTime(task.completedAt)}\n                        </p>\n                      </>\n                    )}\n                    {task.notes && (\n                      <p className=\"text-gray-700 bg-gray-50 p-2 rounded mt-2\">\n                        <span className=\"font-semibold\">Notes:</span> {task.notes}\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Actions for Pending Tasks */}\n                  {activeStatus === 'pending' && (\n                    <div className=\"flex gap-2 pt-2\">\n                      <Button\n                        onClick={() => handleComplete(task.id, task.itemName)}\n                        variant=\"primary\"\n                        size=\"sm\"\n                        className=\"flex-1 min-h-[44px]\"\n                        disabled={processingTaskId === task.id}\n                      >\n                        {processingTaskId === task.id ? (\n                          <>\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\" />\n                            Processing...\n                          </>\n                        ) : (\n                          <>\n                            <CheckCircle className=\"w-4 h-4 mr-2\" />\n                            Mark Complete\n                          </>\n                        )}\n                      </Button>\n                      <Button\n                        onClick={() => handleCancel(task.id, task.itemName)}\n                        variant=\"secondary\"\n                        size=\"sm\"\n                        className=\"flex-1 min-h-[44px] bg-red-50 hover:bg-red-100 text-red-700\"\n                        disabled={processingTaskId === task.id}\n                      >\n                        <XCircle className=\"w-4 h-4 mr-2\" />\n                        Cancel\n                      </Button>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* Results Summary */}\n      {!isLoading && tasks.length > 0 && (\n        <div className=\"text-center text-sm text-gray-600 py-2\">\n          {tasks.length} {activeStatus} task{tasks.length !== 1 ? 's' : ''}\n        </div>\n      )}\n    </div>\n  );\n};","import { useState, useEffect, useCallback } from 'react';\nimport { fetchInventory } from '../lib/inventory';\nimport type { InventoryItem } from '../lib/inventory';\n\nexport function useInventory() {\n  const [items, setItems] = useState<InventoryItem[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [lastFetchedAt, setLastFetchedAt] = useState<string | null>(null);\n\n  const loadInventory = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const data = await fetchInventory();\n      setItems(data.items);\n      setLastFetchedAt(data.fetchedAt);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load inventory';\n      setError(errorMessage);\n      console.error('Error loading inventory:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadInventory();\n  }, [loadInventory]);\n\n  return {\n    items,\n    isLoading,\n    error,\n    lastFetchedAt,\n    refresh: loadInventory,\n  };\n}","import React from 'react';\nimport { Lightbulb, Package, AlertCircle, CheckCircle } from 'lucide-react';\nimport { Card, CardContent } from '../ui/Card';\nimport { useSupplyTasks } from '../../hooks/useSupplyTasks';\nimport { useInventory } from '../../hooks/useInventory';\nimport type { SuggestedReplacement } from '../../lib/inventory';\n\nexport const SuggestionsPanel: React.FC = () => {\n  const { tasks, isLoading: tasksLoading } = useSupplyTasks('pending');\n  const { items, isLoading: inventoryLoading } = useInventory();\n\n  const isLoading = tasksLoading || inventoryLoading;\n\n  // Match tasks with inventory using fuzzy matching\n  const tasksWithSuggestions = React.useMemo(() => {\n    return tasks.map((task) => {\n      const suggestions: Array<SuggestedReplacement & { inStock: boolean }> = [];\n\n      // If task already has suggested replacements, use those\n      if (task.suggestedReplacements && task.suggestedReplacements.length > 0) {\n        return {\n          task,\n          suggestions: task.suggestedReplacements.map(s => ({\n            ...s,\n            inStock: s.qtyOnHand > 0,\n          })),\n        };\n      }\n\n      // Otherwise, do simple fuzzy matching\n      const searchTerm = task.itemName.toLowerCase();\n      \n      items.forEach((item) => {\n        const itemName = item.equipmentName.toLowerCase();\n        const itemType = item.equipmentType.toLowerCase();\n        \n        // Score based on name similarity\n        let confidence = 0;\n        if (itemName.includes(searchTerm) || searchTerm.includes(itemName)) {\n          confidence = 0.8;\n        } else if (itemType.includes(searchTerm) || searchTerm.includes(itemType)) {\n          confidence = 0.6;\n        }\n\n        if (confidence > 0) {\n          suggestions.push({\n            itemId: item.id,\n            itemName: item.equipmentName,\n            qtyOnHand: item.quantity,\n            location: item.location,\n            confidence,\n            inStock: item.quantity > 0,\n          });\n        }\n      });\n\n      // Sort by confidence and stock availability\n      suggestions.sort((a, b) => {\n        if (a.inStock && !b.inStock) return -1;\n        if (!a.inStock && b.inStock) return 1;\n        return (b.confidence || 0) - (a.confidence || 0);\n      });\n\n      return { task, suggestions: suggestions.slice(0, 3) }; // Top 3 suggestions\n    });\n  }, [tasks, items]);\n\n  if (isLoading) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n        <p className=\"text-gray-600\">Loading suggestions...</p>\n      </div>\n    );\n  }\n\n  if (tasks.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"py-12 text-center\">\n          <Lightbulb className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n          <p className=\"text-lg font-semibold text-gray-900\">No Pending Tasks</p>\n          <p className=\"text-gray-600 mt-1\">\n            Suggestions will appear when there are pending supply tasks\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded\">\n        <div className=\"flex items-start gap-3\">\n          <Lightbulb className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n          <div>\n            <p className=\"text-sm text-blue-900 font-semibold\">Inventory Suggestions</p>\n            <p className=\"text-sm text-blue-800 mt-1\">\n              Suggested replacements from inventory for pending tasks. Match confidence and stock availability shown.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {tasksWithSuggestions.map(({ task, suggestions }) => (\n        <Card key={task.id} className=\"hover:shadow-md transition-shadow\">\n          <CardContent className=\"p-4\">\n            <div className=\"space-y-3\">\n              {/* Task Info */}\n              <div>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                    {task.apparatus}\n                  </span>\n                  <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\n                    task.deficiencyType === 'missing'\n                      ? 'bg-red-100 text-red-800'\n                      : 'bg-yellow-100 text-yellow-800'\n                  }`}>\n                    {task.deficiencyType === 'missing' ? 'Missing' : 'Damaged'}\n                  </span>\n                </div>\n                <h3 className=\"font-bold text-gray-900\">\n                  {task.itemName}\n                </h3>\n                {task.compartment && (\n                  <p className=\"text-sm text-gray-600\">Compartment: {task.compartment}</p>\n                )}\n              </div>\n\n              {/* Suggestions */}\n              {suggestions.length === 0 ? (\n                <div className=\"bg-gray-50 p-3 rounded-lg text-center\">\n                  <AlertCircle className=\"w-6 h-6 text-gray-400 mx-auto mb-2\" />\n                  <p className=\"text-sm text-gray-600\">No matching items found in inventory</p>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  <p className=\"text-sm font-semibold text-gray-700\">Suggested Replacements:</p>\n                  {suggestions.map((suggestion, idx) => (\n                    <div\n                      key={`${suggestion.itemId}-${idx}`}\n                      className={`p-3 rounded-lg border-2 ${\n                        suggestion.inStock\n                          ? 'bg-green-50 border-green-300'\n                          : 'bg-gray-50 border-gray-300'\n                      }`}\n                    >\n                      <div className=\"flex items-start justify-between gap-3\">\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <Package className={`w-4 h-4 ${suggestion.inStock ? 'text-green-600' : 'text-gray-400'}`} />\n                            <h4 className=\"font-semibold text-gray-900 text-sm\">\n                              {suggestion.itemName}\n                            </h4>\n                          </div>\n                          {suggestion.location && (\n                            <p className=\"text-xs text-gray-600\">\n                              Location: {suggestion.location}\n                            </p>\n                          )}\n                          {suggestion.confidence && (\n                            <p className=\"text-xs text-gray-500 mt-1\">\n                              Match: {Math.round(suggestion.confidence * 100)}%\n                            </p>\n                          )}\n                        </div>\n                        <div className=\"flex-shrink-0 text-right\">\n                          <div className={`text-2xl font-bold ${\n                            suggestion.inStock ? 'text-green-600' : 'text-gray-400'\n                          }`}>\n                            {suggestion.qtyOnHand}\n                          </div>\n                          <div className={`text-xs font-semibold ${\n                            suggestion.inStock ? 'text-green-600' : 'text-gray-500'\n                          }`}>\n                            {suggestion.inStock ? (\n                              <span className=\"flex items-center gap-1\">\n                                <CheckCircle className=\"w-3 h-3\" />\n                                IN STOCK\n                              </span>\n                            ) : (\n                              'OUT OF STOCK'\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Note about completing with replacement */}\n              {suggestions.some(s => s.inStock) && (\n                <div className=\"bg-blue-50 p-3 rounded-lg\">\n                  <p className=\"text-xs text-blue-900\">\n                    💡 <strong>Tip:</strong> When marking this task as complete in the Tasks tab, \n                    you can select one of these items as the replacement to automatically update inventory.\n                  </p>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n\n      {/* Summary */}\n      <div className=\"text-center text-sm text-gray-600 py-2\">\n        {tasksWithSuggestions.length} task{tasksWithSuggestions.length !== 1 ? 's' : ''} with suggestions\n      </div>\n    </div>\n  );\n};","import { useState, useEffect } from 'react';\nimport { Button } from '../ui/Button';\nimport type { InventoryItem, SupplyTask, AIInsight, AIInsightData } from '../../lib/inventory';\nimport { generateAIInsights, fetchAIInsights } from '../../lib/inventory';\n\ninterface AIInsightsPanelProps {\n  inventory: InventoryItem[];\n  tasks: SupplyTask[];\n}\n\nexport function AIInsightsPanel({ inventory, tasks }: AIInsightsPanelProps) {\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [insights, setInsights] = useState<AIInsight[]>([]);\n  const [isLoadingInsights, setIsLoadingInsights] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [aiNotConfigured, setAiNotConfigured] = useState(false);\n\n  // Load latest insights on mount\n  useEffect(() => {\n    loadInsights();\n  }, []);\n\n  async function loadInsights() {\n    setIsLoadingInsights(true);\n    setError(null);\n    try {\n      const result = await fetchAIInsights();\n      setInsights(result.insights);\n    } catch (err) {\n      console.error('Failed to load insights:', err);\n      setError(err instanceof Error ? err.message : 'Failed to load insights');\n    } finally {\n      setIsLoadingInsights(false);\n    }\n  }\n\n  async function handleGenerateInsights() {\n    setIsGenerating(true);\n    setError(null);\n    setAiNotConfigured(false);\n    \n    try {\n      const result = await generateAIInsights({\n        tasks: tasks.filter(t => t.status === 'pending'),\n        inventory,\n      });\n      \n      if (!result.ok) {\n        setAiNotConfigured(true);\n        setError(result.message);\n      } else {\n        // Wait a moment then reload insights\n        setTimeout(() => {\n          loadInsights();\n        }, 2000);\n      }\n    } catch (err) {\n      console.error('Failed to generate insights:', err);\n      setError(err instanceof Error ? err.message : 'Failed to generate insights');\n    } finally {\n      setIsGenerating(false);\n    }\n  }\n\n  function parseInsightData(insightJson: string): AIInsightData | null {\n    try {\n      return JSON.parse(insightJson) as AIInsightData;\n    } catch {\n      return null;\n    }\n  }\n\n  const latestInsight = insights.length > 0 ? insights[0] : null;\n  const parsedInsight = latestInsight ? parseInsightData(latestInsight.insight_json) : null;\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between gap-3 flex-wrap\">\n        <div>\n          <h2 className=\"text-xl font-bold text-gray-900\">AI Insights</h2>\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Automated inventory analysis and recommendations\n          </p>\n        </div>\n        <Button\n          onClick={handleGenerateInsights}\n          disabled={isGenerating || inventory.length === 0}\n          className=\"min-h-[44px] whitespace-nowrap\"\n        >\n          {isGenerating ? (\n            <>\n              <span className=\"animate-spin mr-2\">⚙️</span>\n              Generating...\n            </>\n          ) : (\n            '🤖 Generate Insights'\n          )}\n        </Button>\n      </div>\n\n      {/* Error/Warning Messages */}\n      {error && (\n        <div\n          className={`p-4 rounded-lg ${\n            aiNotConfigured\n              ? 'bg-yellow-50 border border-yellow-200'\n              : 'bg-red-50 border border-red-200'\n          }`}\n        >\n          <p\n            className={`text-sm ${\n              aiNotConfigured ? 'text-yellow-800' : 'text-red-800'\n            }`}\n          >\n            {aiNotConfigured ? (\n              <>\n                <strong>⚠️ AI Not Configured:</strong> {error}\n                <br />\n                <span className=\"text-xs mt-1 block\">\n                  This is an optional feature. The system works fully without it.\n                </span>\n              </>\n            ) : (\n              <><strong>Error:</strong> {error}</>\n            )}\n          </p>\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoadingInsights && (\n        <div className=\"text-center py-8\">\n          <div className=\"inline-block animate-spin text-4xl\">⚙️</div>\n          <p className=\"text-gray-600 mt-2\">Loading insights...</p>\n        </div>\n      )}\n\n      {/* Latest Insight Display */}\n      {!isLoadingInsights && latestInsight && parsedInsight && (\n        <div className=\"space-y-4\">\n          {/* Timestamp */}\n          <div className=\"text-sm text-gray-500\">\n            Generated: {new Date(latestInsight.created_at).toLocaleString()}\n            {latestInsight.model && (\n              <span className=\"ml-2\">• Model: {latestInsight.model.split('/').pop()}</span>\n            )}\n          </div>\n\n          {/* Summary */}\n          {parsedInsight.summary && (\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-blue-900 mb-2\">📊 Summary</h3>\n              <p className=\"text-blue-800 text-sm\">{parsedInsight.summary}</p>\n            </div>\n          )}\n\n          {/* Recurring Issues */}\n          {parsedInsight.recurringIssues && parsedInsight.recurringIssues.length > 0 && (\n            <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-orange-900 mb-2\">🔄 Recurring Issues</h3>\n              <ul className=\"space-y-1\">\n                {parsedInsight.recurringIssues.map((issue, idx) => (\n                  <li key={idx} className=\"text-orange-800 text-sm\">\n                    • {issue}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* Reorder Suggestions */}\n          {parsedInsight.reorderSuggestions && parsedInsight.reorderSuggestions.length > 0 && (\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-green-900 mb-2\">📦 Reorder Suggestions</h3>\n              <div className=\"space-y-3\">\n                {parsedInsight.reorderSuggestions.map((suggestion, idx) => (\n                  <div key={idx} className=\"bg-white rounded p-3 border border-green-100\">\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-green-900 text-sm\">{suggestion.item}</p>\n                        <p className=\"text-green-700 text-xs mt-1\">{suggestion.reason}</p>\n                      </div>\n                      <span\n                        className={`px-2 py-1 rounded text-xs font-medium whitespace-nowrap ${\n                          suggestion.urgency?.toLowerCase() === 'high'\n                            ? 'bg-red-100 text-red-800'\n                            : suggestion.urgency?.toLowerCase() === 'medium'\n                            ? 'bg-yellow-100 text-yellow-800'\n                            : 'bg-gray-100 text-gray-800'\n                        }`}\n                      >\n                        {suggestion.urgency || 'Normal'}\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Anomalies */}\n          {parsedInsight.anomalies && parsedInsight.anomalies.length > 0 && (\n            <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n              <h3 className=\"font-semibold text-purple-900 mb-2\">🔍 Anomalies Detected</h3>\n              <ul className=\"space-y-1\">\n                {parsedInsight.anomalies.map((anomaly, idx) => (\n                  <li key={idx} className=\"text-purple-800 text-sm\">\n                    • {anomaly}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Empty State */}\n      {!isLoadingInsights && insights.length === 0 && !error && (\n        <div className=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n          <div className=\"text-6xl mb-4\">🤖</div>\n          <p className=\"text-gray-600 font-medium\">No insights generated yet</p>\n          <p className=\"text-gray-500 text-sm mt-2\">\n            Click \"Generate Insights\" to analyze your inventory\n          </p>\n        </div>\n      )}\n\n      {/* Insight History Count */}\n      {insights.length > 1 && (\n        <div className=\"text-xs text-gray-500 text-center pt-2 border-t border-gray-200\">\n          {insights.length} insights stored • Showing most recent\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Package, ClipboardList, Lightbulb, Brain } from 'lucide-react';\nimport { SupplyListPanel } from './SupplyListPanel';\nimport { TasksPanel } from './TasksPanel';\nimport { SuggestionsPanel } from './SuggestionsPanel';\nimport { AIInsightsPanel } from './AIInsightsPanel';\nimport { useInventory } from '../../hooks/useInventory';\nimport { useSupplyTasks } from '../../hooks/useSupplyTasks';\n\ntype InventorySubTab = 'list' | 'tasks' | 'suggestions' | 'ai-insights';\n\nexport const InventoryTab: React.FC = () => {\n  const [activeSubTab, setActiveSubTab] = useState<InventorySubTab>('list');\n  const { items, isLoading, error, refresh, lastFetchedAt } = useInventory();\n  const { tasks } = useSupplyTasks();\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header with last updated info */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Inventory Management</h2>\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Manage supply inventory, tasks, and suggested replacements\n          </p>\n        </div>\n        {lastFetchedAt && !isLoading && (\n          <div className=\"text-sm text-gray-500\">\n            Last updated: {new Date(lastFetchedAt).toLocaleString()}\n          </div>\n        )}\n      </div>\n\n      {/* Sub-tabs */}\n      <div className=\"flex gap-2 border-b border-gray-200 overflow-x-auto\">\n        <button\n          onClick={() => setActiveSubTab('list')}\n          className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap ${\n            activeSubTab === 'list'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <Package className=\"w-5 h-5\" />\n          Inventory List\n        </button>\n        <button\n          onClick={() => setActiveSubTab('tasks')}\n          className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap ${\n            activeSubTab === 'tasks'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <ClipboardList className=\"w-5 h-5\" />\n          Supply Tasks\n        </button>\n        <button\n          onClick={() => setActiveSubTab('suggestions')}\n          className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap ${\n            activeSubTab === 'suggestions'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <Lightbulb className=\"w-5 h-5\" />\n          Suggestions\n        </button>\n        <button\n          onClick={() => setActiveSubTab('ai-insights')}\n          className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 whitespace-nowrap ${\n            activeSubTab === 'ai-insights'\n              ? 'text-blue-600 border-b-2 border-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <Brain className=\"w-5 h-5\" />\n          AI Insights\n        </button>\n      </div>\n\n      {/* Panel Content */}\n      <div className=\"mt-6\">\n        {activeSubTab === 'list' && (\n          <SupplyListPanel\n            items={items}\n            isLoading={isLoading}\n            error={error}\n            onRefresh={refresh}\n          />\n        )}\n        {activeSubTab === 'tasks' && (\n          <TasksPanel />\n        )}\n        {activeSubTab === 'suggestions' && (\n          <SuggestionsPanel />\n        )}\n        {activeSubTab === 'ai-insights' && (\n          <AIInsightsPanel inventory={items} tasks={tasks} />\n        )}\n      </div>\n    </div>\n  );\n};","import { useState, useEffect, useCallback } from 'react';\nimport { \n  fetchVehicleChangeRequests, \n  submitVehicleChangeRequest,\n  reviewVehicleChangeRequest,\n  type VehicleChangeRequest \n} from '../lib/inventory';\n\ninterface UseVehicleChangeRequestsReturn {\n  requests: VehicleChangeRequest[];\n  loading: boolean;\n  error: string | null;\n  pendingCount: number;\n  totalCount: number;\n  refetch: () => Promise<void>;\n  submitRequest: (request: {\n    apparatus: string;\n    oldVehicleNo: string | null;\n    newVehicleNo: string;\n    reportedBy: string;\n    notes?: string;\n  }) => Promise<void>;\n  approveRequest: (requestId: string, reviewedBy: string, notes?: string) => Promise<void>;\n  rejectRequest: (requestId: string, reviewedBy: string, notes?: string) => Promise<void>;\n}\n\ninterface UseVehicleChangeRequestsOptions {\n  status?: 'pending' | 'approved' | 'rejected';\n  pollInterval?: number; // Poll for updates (ms), 0 to disable\n  autoFetch?: boolean;   // Fetch on mount\n}\n\n/**\n * Hook to manage vehicle change requests\n * Provides functions to submit, approve, reject, and monitor change requests\n */\nexport function useVehicleChangeRequests(\n  options: UseVehicleChangeRequestsOptions = {}\n): UseVehicleChangeRequestsReturn {\n  const { \n    status, \n    pollInterval = 30000, // Default 30 seconds\n    autoFetch = true \n  } = options;\n\n  const [requests, setRequests] = useState<VehicleChangeRequest[]>([]);\n  const [loading, setLoading] = useState(autoFetch);\n  const [error, setError] = useState<string | null>(null);\n  const [pendingCount, setPendingCount] = useState(0);\n  const [totalCount, setTotalCount] = useState(0);\n\n  const loadRequests = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const data = await fetchVehicleChangeRequests(status);\n      setRequests(data.requests);\n      setPendingCount(data.pending);\n      setTotalCount(data.total);\n    } catch (err) {\n      console.error('Error fetching vehicle change requests:', err);\n      setError(err instanceof Error ? err.message : 'Failed to fetch vehicle change requests');\n    } finally {\n      setLoading(false);\n    }\n  }, [status]);\n\n  const submitRequest = async (request: {\n    apparatus: string;\n    oldVehicleNo: string | null;\n    newVehicleNo: string;\n    reportedBy: string;\n    notes?: string;\n  }) => {\n    try {\n      await submitVehicleChangeRequest(request);\n      // Refetch to get updated list\n      await loadRequests();\n    } catch (err) {\n      console.error('Error submitting vehicle change request:', err);\n      throw err;\n    }\n  };\n\n  const approveRequest = async (requestId: string, reviewedBy: string, notes?: string) => {\n    try {\n      await reviewVehicleChangeRequest(requestId, 'approve', reviewedBy, notes);\n      // Refetch to get updated list\n      await loadRequests();\n    } catch (err) {\n      console.error('Error approving vehicle change request:', err);\n      throw err;\n    }\n  };\n\n  const rejectRequest = async (requestId: string, reviewedBy: string, notes?: string) => {\n    try {\n      await reviewVehicleChangeRequest(requestId, 'reject', reviewedBy, notes);\n      // Refetch to get updated list\n      await loadRequests();\n    } catch (err) {\n      console.error('Error rejecting vehicle change request:', err);\n      throw err;\n    }\n  };\n\n  // Initial fetch\n  useEffect(() => {\n    if (autoFetch) {\n      loadRequests();\n    }\n  }, [loadRequests, autoFetch]);\n\n  // Polling for updates (if enabled)\n  useEffect(() => {\n    if (pollInterval > 0) {\n      const interval = setInterval(loadRequests, pollInterval);\n      return () => clearInterval(interval);\n    }\n  }, [pollInterval, loadRequests]);\n\n  return {\n    requests,\n    loading,\n    error,\n    pendingCount,\n    totalCount,\n    refetch: loadRequests,\n    submitRequest,\n    approveRequest,\n    rejectRequest,\n  };\n}\n","import React, { useState } from 'react';\nimport { Truck, CheckCircle, XCircle, Clock, AlertTriangle, RefreshCw } from 'lucide-react';\nimport { Button } from './ui/Button';\nimport { Card, CardHeader, CardContent } from './ui/Card';\nimport { useApparatusStatus } from '../hooks/useApparatusStatus';\nimport { useVehicleChangeRequests } from '../hooks/useVehicleChangeRequests';\n\nexport const ApparatusStatusTab: React.FC = () => {\n  const { statuses, loading: statusLoading, error: statusError, refetch: refetchStatuses } = useApparatusStatus();\n  const { \n    requests, \n    loading: requestsLoading, \n    pendingCount,\n    approveRequest,\n    rejectRequest,\n    refetch: refetchRequests \n  } = useVehicleChangeRequests({ pollInterval: 30000 });\n\n  const [actioningRequestId, setActioningRequestId] = useState<string | null>(null);\n  const [showRejectModal, setShowRejectModal] = useState(false);\n  const [rejectId, setRejectId] = useState<string | null>(null);\n  const [rejectNotes, setRejectNotes] = useState('');\n\n  const handleApprove = async (requestId: string) => {\n    if (!confirm('Approve this vehicle change? This will update the Google Sheet.')) {\n      return;\n    }\n\n    setActioningRequestId(requestId);\n    try {\n      await approveRequest(requestId, 'Admin', 'Approved by admin dashboard');\n      alert('Vehicle change approved and sheet updated!');\n      await refetchStatuses(); // Refresh apparatus statuses\n    } catch (error) {\n      console.error('Error approving request:', error);\n      alert('Failed to approve request. Please try again.');\n    } finally {\n      setActioningRequestId(null);\n    }\n  };\n\n  const handleReject = async () => {\n    if (!rejectId) return;\n\n    setActioningRequestId(rejectId);\n    try {\n      await rejectRequest(rejectId, 'Admin', rejectNotes || 'Rejected by admin');\n      alert('Vehicle change request rejected.');\n      setShowRejectModal(false);\n      setRejectId(null);\n      setRejectNotes('');\n    } catch (error) {\n      console.error('Error rejecting request:', error);\n      alert('Failed to reject request. Please try again.');\n    } finally {\n      setActioningRequestId(null);\n    }\n  };\n\n  const openRejectModal = (requestId: string) => {\n    setRejectId(requestId);\n    setShowRejectModal(true);\n  };\n\n  if (statusLoading || requestsLoading) {\n    return (\n      <div className=\"flex items-center justify-center p-12\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4\" />\n          <p className=\"text-gray-600 font-semibold\">Loading apparatus status...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (statusError) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border-2 border-red-300 rounded-xl p-6 text-center\">\n          <AlertTriangle className=\"w-12 h-12 text-red-600 mx-auto mb-3\" />\n          <h3 className=\"text-lg font-bold text-red-900 mb-2\">Error Loading Apparatus Status</h3>\n          <p className=\"text-red-700 mb-4\">{statusError}</p>\n          <Button onClick={refetchStatuses} variant=\"secondary\">\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\n            Retry\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Apparatus Status</h2>\n          <p className=\"text-gray-600 mt-1\">Vehicle assignments from the Apparatus Status Report</p>\n        </div>\n        <Button onClick={() => { refetchStatuses(); refetchRequests(); }} variant=\"secondary\">\n          <RefreshCw className=\"w-4 h-4 mr-2\" />\n          Refresh\n        </Button>\n      </div>\n\n      {/* Pending Change Requests Alert */}\n      {pendingCount > 0 && (\n        <div className=\"bg-amber-50 border-2 border-amber-400 rounded-xl p-4\">\n          <div className=\"flex items-start gap-3\">\n            <Clock className=\"w-6 h-6 text-amber-700 flex-shrink-0 mt-0.5\" />\n            <div>\n              <h3 className=\"font-bold text-amber-900 mb-1\">\n                {pendingCount} Pending Vehicle Change Request{pendingCount !== 1 ? 's' : ''}\n              </h3>\n              <p className=\"text-sm text-amber-800\">\n                Review and approve/reject vehicle changes reported by field personnel below.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Current Apparatus-Vehicle Mappings */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Truck className=\"w-6 h-6 text-blue-700\" />\n            <h3 className=\"text-xl font-bold text-gray-900\">Current Vehicle Assignments</h3>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {statuses.map((status) => (\n              <div\n                key={status.unit}\n                className=\"border-2 border-gray-300 rounded-lg p-4 bg-white hover:border-blue-400 transition-colors\"\n              >\n                <div className=\"flex items-start justify-between mb-2\">\n                  <div>\n                    <h4 className=\"font-bold text-gray-900 text-lg\">{status.unit}</h4>\n                    <p className=\"text-sm text-gray-600\">{status.status}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-2xl font-bold text-blue-700\">#{status.vehicleNo}</p>\n                  </div>\n                </div>\n                {status.notes && (\n                  <p className=\"text-xs text-gray-500 mt-2 italic\">{status.notes}</p>\n                )}\n              </div>\n            ))}\n          </div>\n          {statuses.length === 0 && (\n            <p className=\"text-center text-gray-500 py-8\">No apparatus status data available</p>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Vehicle Change Requests */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Clock className=\"w-6 h-6 text-orange-700\" />\n            <h3 className=\"text-xl font-bold text-gray-900\">Vehicle Change Requests</h3>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {requests\n              .filter(req => req.status === 'pending')\n              .map((request) => (\n                <div\n                  key={request.id}\n                  className=\"border-2 border-orange-300 rounded-lg p-4 bg-orange-50\"\n                >\n                  <div className=\"flex items-start justify-between gap-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <h4 className=\"font-bold text-gray-900 text-lg\">{request.apparatus}</h4>\n                        <span className=\"px-2 py-1 text-xs font-bold bg-orange-200 text-orange-900 rounded\">\n                          PENDING\n                        </span>\n                      </div>\n                      <div className=\"space-y-1 text-sm\">\n                        <p className=\"text-gray-700\">\n                          <span className=\"font-semibold\">Old Vehicle:</span> #{request.oldVehicleNo || 'None'}\n                          {' → '}\n                          <span className=\"font-semibold\">New Vehicle:</span> #{request.newVehicleNo}\n                        </p>\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Reported by:</span> {request.reportedBy}\n                        </p>\n                        <p className=\"text-gray-600\">\n                          <span className=\"font-semibold\">Date:</span>{' '}\n                          {new Date(request.reportedAt).toLocaleString()}\n                        </p>\n                        {request.notes && (\n                          <p className=\"text-gray-500 italic mt-2\">{request.notes}</p>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col gap-2\">\n                      <Button\n                        onClick={() => handleApprove(request.id)}\n                        disabled={actioningRequestId === request.id}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white\"\n                      >\n                        <CheckCircle className=\"w-4 h-4\" />\n                        Approve\n                      </Button>\n                      <Button\n                        onClick={() => openRejectModal(request.id)}\n                        disabled={actioningRequestId === request.id}\n                        variant=\"secondary\"\n                        className=\"flex items-center gap-2 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-900\"\n                      >\n                        <XCircle className=\"w-4 h-4\" />\n                        Reject\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            {requests.filter(req => req.status === 'pending').length === 0 && (\n              <p className=\"text-center text-gray-500 py-8\">No pending vehicle change requests</p>\n            )}\n          </div>\n\n          {/* Recently Processed Requests */}\n          {requests.filter(req => req.status !== 'pending').length > 0 && (\n            <div className=\"mt-8 pt-6 border-t-2 border-gray-200\">\n              <h4 className=\"font-bold text-gray-700 mb-4\">Recently Processed</h4>\n              <div className=\"space-y-3\">\n                {requests\n                  .filter(req => req.status !== 'pending')\n                  .slice(0, 5)\n                  .map((request) => (\n                    <div\n                      key={request.id}\n                      className=\"border border-gray-300 rounded-lg p-3 bg-gray-50 text-sm\"\n                    >\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <span className=\"font-bold text-gray-900\">{request.apparatus}</span>\n                            <span\n                              className={`px-2 py-0.5 text-xs font-bold rounded ${\n                                request.status === 'approved'\n                                  ? 'bg-green-200 text-green-900'\n                                  : 'bg-red-200 text-red-900'\n                              }`}\n                            >\n                              {request.status.toUpperCase()}\n                            </span>\n                          </div>\n                          <p className=\"text-gray-600 text-xs\">\n                            #{request.oldVehicleNo || 'None'} → #{request.newVehicleNo} • Reported by {request.reportedBy}\n                          </p>\n                          {request.reviewedBy && (\n                            <p className=\"text-gray-500 text-xs mt-1\">\n                              Reviewed by {request.reviewedBy} on{' '}\n                              {new Date(request.reviewedAt!).toLocaleString()}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Reject Modal */}\n      {showRejectModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl p-6 max-w-md w-full\">\n            <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Reject Vehicle Change Request</h3>\n            <p className=\"text-gray-700 mb-4\">\n              Provide a reason for rejecting this vehicle change request:\n            </p>\n            <textarea\n              value={rejectNotes}\n              onChange={(e) => setRejectNotes(e.target.value)}\n              placeholder=\"Enter reason for rejection...\"\n              className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none mb-4\"\n              rows={4}\n            />\n            <div className=\"flex gap-3\">\n              <Button\n                onClick={() => {\n                  setShowRejectModal(false);\n                  setRejectId(null);\n                  setRejectNotes('');\n                }}\n                variant=\"secondary\"\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n              <Button\n                onClick={handleReject}\n                disabled={actioningRequestId === rejectId}\n                className=\"flex-1 bg-red-600 hover:bg-red-700 text-white\"\n              >\n                Confirm Reject\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Truck, AlertCircle, CheckCircle, ArrowLeft, Lock, Calendar, TrendingUp, AlertTriangle, Package, Mail, Brain, Warehouse, X as CloseIcon, Image as ImageIcon, Check } from 'lucide-react';\nimport { Button } from './ui/Button';\nimport { Card, CardContent } from './ui/Card';\nimport { Modal } from './ui/Modal';\nimport { AIFleetInsights } from './AIFleetInsights';\nimport { InventoryTab } from './inventory/InventoryTab';\nimport { ApparatusStatusTab } from './ApparatusStatusTab';\nimport { githubService } from '../lib/github';\nimport { formatDateTime } from '../lib/utils';\nimport { APPARATUS_LIST } from '../lib/config';\nimport type { Defect, EmailConfig, GitHubIssue } from '../types';\n\ntype TabType = 'fleet' | 'activity' | 'supplies' | 'inventory' | 'notifications' | 'insights' | 'apparatus-status';\n\ninterface DailySubmissions {\n  today: string[];\n  totals: Map<string, number>;\n  lastSubmission: Map<string, string>;\n}\n\ninterface LowStockItem {\n  item: string;\n  compartment: string;\n  apparatus: string[];\n  occurrences: number;\n}\n\nexport const AdminDashboard: React.FC = () => {\n  const navigate = useNavigate();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [passwordInput, setPasswordInput] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [activeTab, setActiveTab] = useState<TabType>('fleet');\n  const [fleetStatus, setFleetStatus] = useState<Map<string, number>>(new Map());\n  const [defects, setDefects] = useState<Defect[]>([]);\n  const [dailySubmissions, setDailySubmissions] = useState<DailySubmissions | null>(null);\n  const [lowStockItems, setLowStockItems] = useState<LowStockItem[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  // Inspection logs state\n  const [inspectionLogs, setInspectionLogs] = useState<GitHubIssue[]>([]);\n  const [selectedApparatus, setSelectedApparatus] = useState<string | null>(null);\n  const [isLoadingLogs, setIsLoadingLogs] = useState(false);\n\n  // Email notification state\n  const [emailConfig, setEmailConfig] = useState<EmailConfig | null>(null);\n  const [isLoadingConfig, setIsLoadingConfig] = useState(false);\n  const [isSavingConfig, setIsSavingConfig] = useState(false);\n  const [configError, setConfigError] = useState<string | null>(null);\n\n  // AI Insights state\n  const [criticalAlertsCount, setCriticalAlertsCount] = useState(0);\n\n  // Photo lightbox state\n  const [lightboxPhoto, setLightboxPhoto] = useState<string | null>(null);\n\n  // Defect resolution state\n  const [defectToResolve, setDefectToResolve] = useState<Defect | null>(null);\n  const [resolutionNote, setResolutionNote] = useState('');\n  const [isResolvingDefect, setIsResolvingDefect] = useState(false);\n\n  // Defect filter/search state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterApparatus, setFilterApparatus] = useState<string | null>(null);\n\n  // Fleet Status sub-tab state (for toggling between Defects and History)\n  const [fleetSubTab, setFleetSubTab] = useState<'defects' | 'history'>('defects');\n\n  const loadApparatusLogs = async (apparatus: string) => {\n    try {\n      setIsLoadingLogs(true);\n      setSelectedApparatus(apparatus);\n      setActiveTab('activity'); // Switch to activity tab\n      const logs = await githubService.getInspectionLogs(30); // Last 30 days\n      // Filter logs for this apparatus\n      const filteredLogs = logs.filter(log => log.title.includes(`[${apparatus}]`));\n      setInspectionLogs(filteredLogs);\n    } catch (error) {\n      console.error('Error loading apparatus logs:', error);\n      alert('Failed to load inspection history');\n    } finally {\n      setIsLoadingLogs(false);\n    }\n  };\n\n  const loadAllInspectionLogs = async () => {\n    try {\n      setIsLoadingLogs(true);\n      setSelectedApparatus(null);\n      const logs = await githubService.getInspectionLogs(30); // Last 30 days\n      setInspectionLogs(logs);\n    } catch (error) {\n      console.error('Error loading all inspection logs:', error);\n      // Don't alert, just log - this is not critical\n    } finally {\n      setIsLoadingLogs(false);\n    }\n  };\n\n  const loadDashboardData = async () => {\n    try {\n      setIsLoading(true);\n      \n      // Fetch all defects\n      const allDefects = await githubService.getAllDefects();\n      \n      // Compute fleet status from defects\n      const status = githubService.computeFleetStatus(allDefects);\n      \n      setFleetStatus(status);\n      setDefects(allDefects);\n      \n      // Fetch daily submissions and low stock items\n      try {\n        const submissions = await githubService.getDailySubmissions();\n        setDailySubmissions(submissions);\n      } catch (err) {\n        console.error('Error fetching daily submissions:', err);\n      }\n      \n      try {\n        const lowStock = await githubService.analyzeLowStockItems();\n        setLowStockItems(lowStock);\n      } catch (err) {\n        console.error('Error analyzing low stock:', err);\n      }\n    } catch (error) {\n      console.error('Error loading dashboard data:', error);\n      if (error instanceof Error && error.message.includes('Unauthorized')) {\n        setIsAuthenticated(false);\n        githubService.clearAdminPassword();\n        localStorage.removeItem('adminPassword');\n      }\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handlePasswordSubmit = async () => {\n    if (!passwordInput.trim()) {\n      setPasswordError('Please enter a password');\n      return;\n    }\n\n    // Set the password and try to load data\n    githubService.setAdminPassword(passwordInput);\n    // Also store in localStorage for inventory API calls\n    localStorage.setItem('adminPassword', passwordInput);\n    \n    try {\n      await loadDashboardData();\n      setIsAuthenticated(true);\n      setPasswordError('');\n    } catch (err) {\n      console.error('Authentication failed:', err);\n      if (err instanceof Error && err.message.includes('Unauthorized')) {\n        setPasswordError('Incorrect password. Please try again.');\n      } else if (err instanceof Error && err.message.includes('Failed to fetch')) {\n        setPasswordError('Network error. Please check your connection and try again.');\n      } else {\n        setPasswordError('Authentication failed. Please try again.');\n      }\n      githubService.clearAdminPassword();\n      localStorage.removeItem('adminPassword');\n    }\n  };\n\n  const loadEmailConfig = async () => {\n    if (!passwordInput) return;\n    \n    setIsLoadingConfig(true);\n    setConfigError(null);\n    \n    try {\n      const config = await githubService.getEmailConfig(passwordInput);\n      setEmailConfig(config);\n    } catch (error) {\n      setConfigError((error as Error).message || 'Failed to load email configuration');\n    } finally {\n      setIsLoadingConfig(false);\n    }\n  };\n\n  const saveEmailConfig = async (updates: Partial<EmailConfig>) => {\n    if (!passwordInput || !emailConfig) return;\n    \n    setIsSavingConfig(true);\n    setConfigError(null);\n    \n    try {\n      const result = await githubService.updateEmailConfig(passwordInput, updates);\n      setEmailConfig(result.config);\n      alert('Email configuration updated successfully');\n    } catch (error) {\n      setConfigError((error as Error).message || 'Failed to update email configuration');\n    } finally {\n      setIsSavingConfig(false);\n    }\n  };\n\n  const sendTestDigest = async () => {\n    if (!passwordInput) return;\n    \n    if (!confirm('Send a test daily digest email now?')) return;\n    \n    try {\n      await githubService.sendManualDigest(passwordInput);\n      alert('Test digest sent successfully! Check your email.');\n    } catch (error) {\n      alert('Failed to send test digest: ' + ((error as Error).message || 'Unknown error'));\n    }\n  };\n\n  const handleResolveDefect = async () => {\n    if (!defectToResolve || !defectToResolve.issueNumber) return;\n\n    setIsResolvingDefect(true);\n    try {\n      // Call the resolve API\n      await githubService.resolveDefect(\n        defectToResolve.issueNumber,\n        resolutionNote || 'Defect resolved via Admin Dashboard',\n        'Admin'\n      );\n\n      // Update UI optimistically - remove defect from list\n      setDefects(prevDefects => \n        prevDefects.filter(d => d.issueNumber !== defectToResolve.issueNumber)\n      );\n\n      // Update fleet status\n      setFleetStatus(prevStatus => {\n        const newStatus = new Map(prevStatus);\n        const currentCount = newStatus.get(defectToResolve.apparatus) || 0;\n        newStatus.set(defectToResolve.apparatus, Math.max(0, currentCount - 1));\n        return newStatus;\n      });\n\n      // Close modal and reset\n      setDefectToResolve(null);\n      setResolutionNote('');\n      \n      // Optional: Show success message\n      alert('Defect successfully resolved!');\n    } catch (error) {\n      console.error('Error resolving defect:', error);\n      alert(`Failed to resolve defect: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    } finally {\n      setIsResolvingDefect(false);\n    }\n  };\n\n  // Auto-refresh data every 2 minutes when authenticated\n  useEffect(() => {\n    if (!isAuthenticated) return;\n    \n    const interval = setInterval(() => {\n      loadDashboardData().catch(console.error);\n    }, 120000); // 2 minutes\n    \n    return () => clearInterval(interval);\n  }, [isAuthenticated]);\n\n  // Load inspection logs when switching to activity tab\n  useEffect(() => {\n    if (isAuthenticated && activeTab === 'activity' && inspectionLogs.length === 0 && !isLoadingLogs) {\n      loadAllInspectionLogs();\n    }\n  }, [isAuthenticated, activeTab]);\n\n  // Show password prompt if not authenticated\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center p-4\">\n        <Card className=\"max-w-md w-full\">\n          <CardContent className=\"py-8\">\n            <div className=\"text-center mb-8\">\n              <div className=\"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4\">\n                <Lock className=\"w-8 h-8 text-white\" />\n              </div>\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                Admin Access Required\n              </h1>\n              <p className=\"text-gray-600\">Enter the admin password to continue</p>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  Password\n                </label>\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  value={passwordInput}\n                  onChange={(e) => {\n                    setPasswordInput(e.target.value);\n                    setPasswordError('');\n                  }}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      handlePasswordSubmit();\n                    }\n                  }}\n                  placeholder=\"Enter admin password\"\n                  className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\n                  autoFocus\n                />\n                {passwordError && (\n                  <p className=\"text-red-600 text-sm mt-2\">{passwordError}</p>\n                )}\n              </div>\n\n              <Button\n                onClick={handlePasswordSubmit}\n                className=\"w-full\"\n                size=\"lg\"\n              >\n                Access Admin Dashboard\n              </Button>\n\n              <div className=\"text-center mt-4\">\n                <button\n                  onClick={() => navigate('/')}\n                  className=\"text-sm text-gray-600 hover:text-gray-900 font-medium\"\n                >\n                  ← Back to Login\n                </button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const apparatusList: string[] = APPARATUS_LIST;\n  const today = new Date().toLocaleDateString('en-US');\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 py-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Admin Dashboard</h1>\n              <p className=\"text-gray-600 mt-1\">MBFD Fleet Management System</p>\n            </div>\n            <Button\n              onClick={() => navigate('/')}\n              variant=\"secondary\"\n              className=\"flex items-center gap-2\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n              Back to Login\n            </Button>\n          </div>\n\n          {/* Tabs */}\n          <div className=\"flex gap-2 border-b border-gray-200\">\n            <button\n              onClick={() => setActiveTab('fleet')}\n              className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 ${activeTab === 'fleet'\n                ? 'text-blue-600 border-b-2 border-blue-600'\n                : 'text-gray-600 hover:text-gray-900'}`}\n            >\n              <Truck className=\"w-5 h-5\" />\n              Fleet Status\n            </button>\n            <button\n              onClick={() => setActiveTab('activity')}\n              className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 ${activeTab === 'activity'\n                ? 'text-blue-600 border-b-2 border-blue-600'\n                : 'text-gray-600 hover:text-gray-900'}`}\n            >\n              <Calendar className=\"w-5 h-5\" />\n              Daily Activity\n            </button>\n            <button\n              onClick={() => setActiveTab('supplies')}\n              className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 ${activeTab === 'supplies'\n                ? 'text-blue-600 border-b-2 border-blue-600'\n                : 'text-gray-600 hover:text-gray-900'}`}\n            >\n              <Package className=\"w-5 h-5\" />\n              Supply Alerts\n              {lowStockItems.length > 0 && (\n                <span className=\"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full\">\n                  {lowStockItems.length}\n                </span>\n              )}\n            </button>\n            <button\n              onClick={() => setActiveTab('inventory')}\n              className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 ${activeTab === 'inventory'\n                ? 'text-blue-600 border-b-2 border-blue-600'\n                : 'text-gray-600 hover:text-gray-900'}`}\n            >\n              <Warehouse className=\"w-5 h-5\" />\n              Inventory\n            </button>\n            <button\n              onClick={() => {\n                setActiveTab('notifications');\n                if (!emailConfig) loadEmailConfig();\n              }}\n              className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 ${activeTab === 'notifications'\n                ? 'text-blue-600 border-b-2 border-blue-600'\n                : 'text-gray-600 hover:text-gray-900'}`}\n            >\n              <Mail className=\"w-5 h-5\" />\n              Notifications\n            </button>\n            <button\n              onClick={() => {\n                setActiveTab('insights');\n                setCriticalAlertsCount(0); // Clear badge when viewing\n              }}\n              className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 relative ${activeTab === 'insights'\n                ? 'text-blue-600 border-b-2 border-blue-600'\n                : 'text-gray-600 hover:text-gray-900'}`}\n            >\n              <Brain className=\"w-5 h-5\" />\n              Fleet Insights\n              {criticalAlertsCount > 0 && (\n                <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold\">\n                  {criticalAlertsCount}\n                </span>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        {/* Fleet Status Tab */}\n        {activeTab === 'fleet' && (\n          <>\n            {/* Fleet Status Grid */}\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Fleet Status</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n                {apparatusList.map(apparatus => {\n                  const defectCount = fleetStatus.get(apparatus) || 0;\n                  const isOk = defectCount === 0;\n\n                  return (\n                    <div \n                      key={apparatus}\n                      className=\"cursor-pointer hover:scale-105 transition-transform\"\n                      onClick={() => loadApparatusLogs(apparatus)}\n                    >\n                      <Card className={isOk ? 'border-green-500' : 'border-red-500'}>\n                        <CardContent className=\"p-6\">\n                          <div className=\"flex items-center justify-between mb-3\">\n                            <Truck className={`w-8 h-8 ${isOk ? 'text-green-500' : 'text-red-500'}`} />\n                            {isOk ? (\n                              <CheckCircle className=\"w-6 h-6 text-green-500\" />\n                            ) : (\n                              <AlertCircle className=\"w-6 h-6 text-red-500\" />\n                            )}\n                          </div>\n                          <h3 className=\"font-bold text-gray-900 mb-1\">{apparatus}</h3>\n                          <p className={`text-sm font-semibold ${isOk ? 'text-green-600' : 'text-red-600'}`}>\n                            {isOk ? '✓ All Clear' : `${defectCount} Defect${defectCount !== 1 ? 's' : ''}`}\n                          </p>\n                          <p className=\"text-xs text-gray-500 mt-2\">Click to view history</p>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Sub-tab Navigation for Defects and History */}\n            <div className=\"border-b border-gray-200 mb-6\">\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setFleetSubTab('defects')}\n                  className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 ${fleetSubTab === 'defects'\n                    ? 'text-blue-600 border-b-2 border-blue-600'\n                    : 'text-gray-600 hover:text-gray-900'}`}\n                >\n                  <AlertCircle className=\"w-5 h-5\" />\n                  Open Defects ({defects.length})\n                </button>\n                <button\n                  onClick={() => {\n                    setFleetSubTab('history');\n                    if (inspectionLogs.length === 0 && !isLoadingLogs) {\n                      loadAllInspectionLogs();\n                    }\n                  }}\n                  className={`px-6 py-3 font-semibold transition-all flex items-center gap-2 ${fleetSubTab === 'history'\n                    ? 'text-blue-600 border-b-2 border-blue-600'\n                    : 'text-gray-600 hover:text-gray-900'}`}\n                >\n                  <Calendar className=\"w-5 h-5\" />\n                  Inspection History (Last 30 Days)\n                  {selectedApparatus && (\n                    <span className=\"text-sm text-blue-600\">- {selectedApparatus}</span>\n                  )}\n                </button>\n              </div>\n            </div>\n\n            {/* Open Defects Content */}\n            {fleetSubTab === 'defects' && (\n              <div>\n                {/* Search and Filter Controls */}\n                <div className=\"mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search defects...\"\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                  />\n                  <select\n                    value={filterApparatus || ''}\n                    onChange={(e) => setFilterApparatus(e.target.value || null)}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none\"\n                  >\n                    <option value=\"\">All Apparatus</option>\n                    {apparatusList.map(app => (\n                      <option key={app} value={app}>{app}</option>\n                    ))}\n                  </select>\n                </div>\n\n                {defects.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-12 text-center\">\n                      <CheckCircle className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\n                      <p className=\"text-lg font-semibold text-gray-900\">No Open Defects</p>\n                      <p className=\"text-gray-600 mt-1\">All apparatus are fully operational</p>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {/* Filter and sort the defects */}\n                    {defects\n                      .filter(d => \n                        (!filterApparatus || d.apparatus === filterApparatus) &&\n                        (d.item.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         d.compartment.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         d.apparatus.toLowerCase().includes(searchQuery.toLowerCase()))\n                      )\n                      .sort((a, b) =>\n                        a.apparatus.localeCompare(b.apparatus) ||\n                        a.compartment.localeCompare(b.compartment) ||\n                        a.item.localeCompare(b.item)\n                      )\n                      .map(defect => (\n                      <Card key={`${defect.apparatus}-${defect.item}-${defect.issueNumber}`} className=\"hover:shadow-md transition-shadow\">\n                        <CardContent className=\"p-6\">\n                          <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center gap-3 mb-2 flex-wrap\">\n                                <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                                  {defect.apparatus}\n                                </span>\n                                <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\n                                  defect.status === 'missing'\n                                    ? 'bg-red-100 text-red-800'\n                                    : 'bg-yellow-100 text-yellow-800'\n                                }`}>\n                                  {defect.status === 'missing' ? '❌ Missing' : '⚠️ Damaged'}\n                                </span>\n                              </div>\n                              <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\n                                {defect.compartment}: {defect.item}\n                              </h3>\n                              <p className=\"text-gray-600 text-sm mb-2\">\n                                Reported by {defect.reportedBy} on {formatDateTime(defect.reportedAt)}\n                              </p>\n                              {defect.notes && (\n                                <p className=\"text-gray-700 text-sm bg-gray-50 p-3 rounded-lg mb-2 break-words\">\n                                  {defect.notes.split('\\n').slice(0, 3).join('\\n')}\n                                </p>\n                              )}\n                              {defect.photoUrl && (\n                                <div className=\"mt-3\">\n                                  <button\n                                    onClick={() => setLightboxPhoto(defect.photoUrl || null)}\n                                    className=\"inline-flex items-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-colors border border-blue-200\"\n                                  >\n                                    <ImageIcon className=\"w-4 h-4\" />\n                                    <span className=\"text-sm font-semibold\">View Photo</span>\n                                  </button>\n                                </div>\n                              )}\n                            </div>\n\n                            {/* Resolve Button */}\n                            <div className=\"md:text-right flex-shrink-0\">\n                              <Button\n                                onClick={() => {\n                                  setDefectToResolve(defect);\n                                  setResolutionNote('');\n                                }}\n                                className=\"bg-green-600 hover:bg-green-700\"\n                                size=\"sm\"\n                              >\n                                <Check className=\"w-4 h-4 mr-2\" />\n                                Resolve\n                              </Button>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Inspection History Content */}\n            {fleetSubTab === 'history' && (\n              <div>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    {selectedApparatus && (\n                      <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                        Filtered: {selectedApparatus}\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"flex gap-2\">\n                    {selectedApparatus && (\n                      <Button\n                        onClick={loadAllInspectionLogs}\n                        variant=\"secondary\"\n                        size=\"sm\"\n                      >\n                        View All\n                      </Button>\n                    )}\n                    <Button\n                      onClick={() => selectedApparatus ? loadApparatusLogs(selectedApparatus) : loadAllInspectionLogs()}\n                      variant=\"secondary\"\n                      size=\"sm\"\n                      disabled={isLoadingLogs}\n                    >\n                      {isLoadingLogs ? 'Loading...' : 'Refresh'}\n                    </Button>\n                  </div>\n                </div>\n\n                {isLoadingLogs ? (\n                  <div className=\"text-center py-12\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2\"></div>\n                    <p className=\"text-gray-600 text-sm\">Loading inspection logs...</p>\n                  </div>\n                ) : inspectionLogs.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-12 text-center\">\n                      <Calendar className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\n                      <p className=\"text-gray-600\">\n                        {selectedApparatus\n                          ? `No inspection logs found for ${selectedApparatus} in the last 30 days.`\n                          : 'No inspection logs found. Click an apparatus card in Fleet Status to view its history.'}\n                      </p>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {inspectionLogs.map(log => {\n                      // Parse log details from title and body\n                      const titleMatch = log.title.match(/\\[(.+)\\]\\s+Daily Inspection\\s*-\\s*(.+)/);\n                      const apparatus = titleMatch ? titleMatch[1] : 'Unknown';\n                      const dateStr = titleMatch ? titleMatch[2] : formatDateTime(log.created_at);\n                      \n                      // Extract inspector info from body\n                      const inspectorMatch = log.body?.match(/\\*\\*Conducted By:\\*\\*\\s*(.+?)\\s*\\((.+?)\\)/);\n                      const inspector = inspectorMatch ? inspectorMatch[1] : 'Unknown';\n                      const rank = inspectorMatch ? inspectorMatch[2] : '';\n                      \n                      // Extract item count\n                      const itemsMatch = log.body?.match(/\\*\\*Total Items Checked:\\*\\*\\s*(\\d+)/);\n                      const totalItems = itemsMatch ? parseInt(itemsMatch[1]) : 0;\n                      \n                      // Extract defect count\n                      const defectsMatch = log.body?.match(/\\*\\*Issues Found:\\*\\*\\s*(\\d+)/);\n                      const defectCount = defectsMatch ? parseInt(defectsMatch[1]) : 0;\n                      \n                      // Extract receipt URL if present\n                      const receiptMatch = log.body?.match(/\\[View Full Printable Receipt\\]\\((.+?)\\)/);\n                      const receiptUrl = receiptMatch ? receiptMatch[1] : null;\n                      \n                      // Extract defect list\n                      const defectsSection = log.body?.match(/### Issues Reported\\n([\\s\\S]+?)(?:\\n\\n|$)/);\n                      const defectsList = defectsSection \n                        ? defectsSection[1].split('\\n').filter(line => line.trim().startsWith('-'))\n                        : [];\n                      \n                      return (\n                        <Card\n                          key={log.number}\n                          className=\"hover:shadow-md transition-shadow\"\n                        >\n                          <CardContent className=\"p-6\">\n                            <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4\">\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center gap-3 mb-2 flex-wrap\">\n                                  <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                                    {apparatus}\n                                  </span>\n                                  {defectCount === 0 ? (\n                                    <span className=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold flex items-center gap-1\">\n                                      <CheckCircle className=\"w-4 h-4\" />\n                                      All Clear\n                                    </span>\n                                  ) : (\n                                    <span className=\"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-semibold flex items-center gap-1\">\n                                      <AlertCircle className=\"w-4 h-4\" />\n                                      {defectCount} Issue{defectCount !== 1 ? 's' : ''}\n                                    </span>\n                                  )}\n                                </div>\n                                <p className=\"text-sm text-gray-700 mb-1\">\n                                  <strong>Inspector:</strong> {inspector} {rank && `(${rank})`}\n                                </p>\n                                <p className=\"text-sm text-gray-600\">\n                                  <strong>Date:</strong> {dateStr} • <strong>Items Checked:</strong> {totalItems}\n                                </p>\n                              </div>\n                              <div className=\"text-right text-xs text-gray-500 flex-shrink-0\">\n                                #{log.number}\n                              </div>\n                            </div>\n                            \n                            {defectsList.length > 0 && (\n                              <div className=\"mb-4 bg-red-50 border-l-4 border-red-500 p-3 rounded\">\n                                <p className=\"text-sm font-semibold text-red-900 mb-2\">Reported Issues:</p>\n                                <ul className=\"text-sm text-red-800 space-y-1\">\n                                  {defectsList.map((defect, idx) => (\n                                    <li key={idx} className=\"pl-2 break-words\">{defect.replace(/^-\\s*/, '')}</li>\n                                  ))}\n                                </ul>\n                              </div>\n                            )}\n                            \n                            <div className=\"flex flex-wrap gap-2 pt-3 border-t border-gray-200\">\n                              {receiptUrl && (\n                                <a\n                                  href={receiptUrl}\n                                  target=\"_blank\"\n                                  rel=\"noopener noreferrer\"\n                                  className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded text-sm font-semibold transition-colors\"\n                                >\n                                  📋 View Receipt\n                                </a>\n                              )}\n                              <a\n                                href={`https://github.com/pdarleyjr/mbfd-checkout-system/issues/${log.number}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm font-semibold transition-colors\"\n                              >\n                                View on GitHub →\n                              </a>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Resolve Defect Modal */}\n            <Modal\n              isOpen={defectToResolve !== null}\n              onClose={() => {\n                if (!isResolvingDefect) {\n                  setDefectToResolve(null);\n                  setResolutionNote('');\n                }\n              }}\n              title=\"Resolve Defect\"\n            >\n              {defectToResolve && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-1\">Apparatus</p>\n                    <p className=\"font-semibold text-gray-900\">{defectToResolve.apparatus}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-1\">Defect</p>\n                    <p className=\"font-semibold text-gray-900\">\n                      {defectToResolve.compartment}: {defectToResolve.item}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-1\">Status</p>\n                    <span className={`inline-block px-3 py-1 rounded-full text-sm font-semibold ${\n                      defectToResolve.status === 'missing'\n                        ? 'bg-red-100 text-red-800'\n                        : 'bg-yellow-100 text-yellow-800'\n                    }`}>\n                      {defectToResolve.status === 'missing' ? '❌ Missing' : '⚠️ Damaged'}\n                    </span>\n                  </div>\n                  <div>\n                    <label htmlFor=\"resolution-note\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                      Resolution Notes (Optional)\n                    </label>\n                    <textarea\n                      id=\"resolution-note\"\n                      value={resolutionNote}\n                      onChange={(e) => setResolutionNote(e.target.value)}\n                      placeholder=\"Describe how this defect was resolved...\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none\"\n                      rows={4}\n                      disabled={isResolvingDefect}\n                    />\n                  </div>\n                  <div className=\"flex gap-3 pt-4\">\n                    <Button\n                      onClick={handleResolveDefect}\n                      className=\"flex-1 bg-green-600 hover:bg-green-700\"\n                      disabled={isResolvingDefect}\n                    >\n                      {isResolvingDefect ? 'Resolving...' : 'Confirm Resolution'}\n                    </Button>\n                    <Button\n                      onClick={() => {\n                        setDefectToResolve(null);\n                        setResolutionNote('');\n                      }}\n                      variant=\"secondary\"\n                      disabled={isResolvingDefect}\n                    >\n                      Cancel\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </Modal>\n\n            {/* Photo Lightbox Modal */}\n            {lightboxPhoto && (\n              <div\n                className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 p-4\"\n                onClick={() => setLightboxPhoto(null)}\n              >\n                <button\n                  onClick={() => setLightboxPhoto(null)}\n                  className=\"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 transition-colors\"\n                  aria-label=\"Close\"\n                >\n                  <CloseIcon className=\"w-6 h-6 text-gray-900\" />\n                </button>\n                <img\n                  src={lightboxPhoto}\n                  alt=\"Defect photo\"\n                  className=\"max-w-full max-h-full object-contain rounded-lg shadow-2xl\"\n                  onClick={(e) => e.stopPropagation()}\n                />\n              </div>\n            )}\n          </>\n        )}\n\n        {/* Daily Activity Tab */}\n        {activeTab === 'activity' && (\n          <div className=\"space-y-6\">\n            <div>\n              <h2 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                <Calendar className=\"w-6 h-6\" />\n                Daily Activity - {today}\n              </h2>\n\n              {/* Today's Submissions */}\n              <Card className=\"mb-6\">\n                <CardContent className=\"p-6\">\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Today's Submissions</h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n                    {apparatusList.map(apparatus => {\n                      const hasSubmitted = dailySubmissions?.today.includes(apparatus) || false;\n                      return (\n                        <div\n                          key={apparatus}\n                          className={`p-4 rounded-lg border-2 ${\n                            hasSubmitted\n                              ? 'bg-green-50 border-green-500'\n                              : 'bg-gray-50 border-gray-300'\n                          }`}\n                        >\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <Truck className={`w-6 h-6 ${hasSubmitted ? 'text-green-600' : 'text-gray-400'}`} />\n                            {hasSubmitted ? (\n                              <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                            ) : (\n                              <AlertCircle className=\"w-5 h-5 text-gray-400\" />\n                            )}\n                          </div>\n                          <p className=\"font-bold text-gray-900\">{apparatus}</p>\n                          <p className={`text-sm font-semibold ${hasSubmitted ? 'text-green-600' : 'text-gray-500'}`}>\n                            {hasSubmitted ? '✓ Submitted' : 'Pending'}\n                          </p>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Submission Statistics */}\n              <Card>\n                <CardContent className=\"p-6\">\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                    <TrendingUp className=\"w-5 h-5\" />\n                    Submission Statistics (Last 30 Days)\n                  </h3>\n                  <div className=\"space-y-3\">\n                    {apparatusList.map(apparatus => {\n                      const total = dailySubmissions?.totals.get(apparatus) || 0;\n                      const lastDate = dailySubmissions?.lastSubmission.get(apparatus);\n                      const percentage = Math.round((total / 30) * 100);\n                      \n                      return (\n                        <div key={apparatus} className=\"border-b border-gray-200 pb-3 last:border-0\">\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <div className=\"flex items-center gap-3\">\n                              <Truck className=\"w-5 h-5 text-blue-600\" />\n                              <span className=\"font-semibold text-gray-900\">{apparatus}</span>\n                            </div>\n                            <div className=\"text-right\">\n                              <span className=\"text-2xl font-bold text-blue-600\">{total}</span>\n                              <span className=\"text-sm text-gray-600 ml-1\">submissions</span>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n                            <span>{percentage}% compliance rate</span>\n                            {lastDate && <span>Last: {lastDate}</span>}\n                          </div>\n                          <div className=\"mt-2 w-full bg-gray-200 rounded-full h-2\">\n                            <div\n                              className={`h-2 rounded-full ${\n                                percentage >= 80 ? 'bg-green-500' : percentage >= 50 ? 'bg-yellow-500' : 'bg-red-500'\n                              }`}\n                              style={{ width: `${Math.min(percentage, 100)}%` }}\n                            />\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        )}\n\n        {/* Supply Alerts Tab */}\n        {activeTab === 'supplies' && (\n          <div>\n            <h2 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\n              <AlertTriangle className=\"w-6 h-6 text-orange-600\" />\n              Supply Alerts\n            </h2>\n\n            {lowStockItems.length === 0 ? (\n              <Card>\n                <CardContent className=\"py-12 text-center\">\n                  <Package className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\n                  <p className=\"text-lg font-semibold text-gray-900\">No Supply Concerns</p>\n                  <p className=\"text-gray-600 mt-1\">All items are adequately stocked</p>\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"space-y-4\">\n                <div className=\"bg-orange-50 border-l-4 border-orange-500 p-4 rounded\">\n                  <p className=\"text-sm text-orange-800\">\n                    <strong>Note:</strong> Items listed below have been reported missing multiple times across different apparatus in the last 30 days. \n                    This may indicate a supply shortage requiring attention.\n                  </p>\n                </div>\n\n                {lowStockItems.map((item, index) => (\n                  <Card key={index} className=\"border-orange-300\">\n                    <CardContent className=\"p-6\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-3 mb-2\">\n                            <AlertTriangle className=\"w-6 h-6 text-orange-600\" />\n                            <h3 className=\"text-lg font-bold text-gray-900\">\n                              {item.compartment}: {item.item}\n                            </h3>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <p className=\"text-sm text-gray-700\">\n                              <strong>Reported missing {item.occurrences} time{(item.occurrences !== 1 ? 's' : '')}</strong> in the last 30 days\n                            </p>\n                            <div className=\"flex items-center gap-2 flex-wrap\">\n                              <span className=\"text-sm font-semibold text-gray-700\">Affected apparatus:</span>\n                              {item.apparatus.map(apparatus => (\n                                <span\n                                  key={apparatus}\n                                  className=\"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-semibold\"\n                                >\n                                  {apparatus}\n                                </span>\n                              ))}\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"ml-4\">\n                          <span className=\"inline-flex items-center justify-center w-12 h-12 bg-orange-100 rounded-full\">\n                            <span className=\"text-xl font-bold text-orange-600\">{item.occurrences}</span>\n                          </span>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Inventory Tab */}\n        {activeTab === 'inventory' && (\n          <InventoryTab />\n        )}\n\n        {/* Apparatus Status Tab */}\n        {activeTab === 'apparatus-status' && (\n          <ApparatusStatusTab />\n        )}\n\n        {/* Fleet Insights Tab */}\n        {activeTab === 'insights' && (\n          <>\n            <AIFleetInsights \n              adminPassword={passwordInput}\n              onCriticalAlertCount={setCriticalAlertsCount}\n            />\n          </>\n        )}\n\n        {/* Notifications Tab */}\n        {activeTab === 'notifications' && (\n          <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">Email Notifications</h2>\n              <Button\n                onClick={sendTestDigest}\n                variant=\"secondary\"\n                className=\"flex items-center gap-2\"\n              >\n                <Mail className=\"w-5 h-5\" />\n                Send Test Digest\n              </Button>\n            </div>\n\n            {configError && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg\">\n                {configError}\n              </div>\n            )}\n\n            {isLoadingConfig ? (\n              <div className=\"text-center py-12\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n                <p className=\"text-gray-600\">Loading configuration...</p>\n              </div>\n            ) : emailConfig ? (\n              <div className=\"space-y-6\">\n                {/* Master Enable/Disable */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <h3 className=\"text-lg font-semibold text-gray-900\">Email Notifications</h3>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          {emailConfig.enabled ? 'Notifications are currently enabled' : 'Notifications are currently disabled'}\n                        </p>\n                      </div>\n                      <Button\n                        onClick={() => saveEmailConfig({ enabled: !emailConfig.enabled })}\n                        className={emailConfig.enabled ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'}\n                        disabled={isSavingConfig}\n                      >\n                        {emailConfig.enabled ? 'Disable' : 'Enable'}\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Email Mode */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Mode</h3>\n                    <div className=\"space-y-3\">\n                      <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\n                        <input\n                          type=\"radio\"\n                          name=\"email_mode\"\n                          value=\"daily_digest\"\n                          checked={emailConfig.email_mode === 'daily_digest'}\n                          onChange={(e) => saveEmailConfig({ email_mode: (e.target as any).value as any })}\n                          className=\"mt-1 w-5 h-5 text-blue-600\"\n                        />\n                        <div>\n                          <span className=\"font-semibold\">Daily Digest (Recommended)</span>\n                          <p className=\"text-sm text-gray-600\">Send one summary email per day at {emailConfig.digest_send_time}</p>\n                        </div>\n                      </label>\n                      <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\n                        <input\n                          type=\"radio\"\n                          name=\"email_mode\"\n                          value=\"per_submission\"\n                          checked={emailConfig.email_mode === 'per_submission'}\n                          onChange={(e) => saveEmailConfig({ email_mode: (e.target as any).value as any })}\n                          className=\"mt-1 w-5 h-5 text-blue-600\"\n                        />\n                        <div>\n                          <span className=\"font-semibold\">Per Submission</span>\n                          <p className=\"text-sm text-gray-600\">Send an email immediately after each inspection</p>\n                        </div>\n                      </label>\n                      <label className=\"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\n                        <input\n                          type=\"radio\"\n                          name=\"email_mode\"\n                          value=\"hybrid\"\n                          checked={emailConfig.email_mode === 'hybrid'}\n                          onChange={(e) => saveEmailConfig({ email_mode: (e.target as any).value as any })}\n                          className=\"mt-1 w-5 h-5 text-blue-600\"\n                        />\n                        <div>\n                          <span className=\"font-semibold\">Hybrid</span>\n                          <p className=\"text-sm text-gray-600\">Immediate for critical defects, daily digest for routine</p>\n                        </div>\n                      </label>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Recipients */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Recipients</h3>\n                    <div className=\"space-y-3\">\n                      {emailConfig.recipients.map((email, idx) => (\n                        <div key={idx} className=\"flex items-center gap-2\">\n                          <input\n                            type=\"email\"\n                            value={email}\n                            onChange={(e) => {\n                              const newRecipients = [...emailConfig.recipients];\n                              newRecipients[idx] = e.target.value;\n                              setEmailConfig({ ...emailConfig, recipients: newRecipients });\n                            }}\n                            className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                            placeholder=\"email@example.com\"\n                          />\n                          <Button\n                            onClick={() => {\n                              const newRecipients = emailConfig.recipients.filter((_, i) => i !== idx);\n                              saveEmailConfig({ recipients: newRecipients });\n                            }}\n                            variant=\"secondary\"\n                            className=\"bg-red-50 hover:bg-red-100 text-red-700\"\n                          >\n                            Remove\n                          </Button>\n                        </div>\n                      ))}\n                      <div className=\"flex gap-2\">\n                        <Button\n                          onClick={() => {\n                            const newRecipients = [...emailConfig.recipients, ''];\n                            setEmailConfig({ ...emailConfig, recipients: newRecipients });\n                          }}\n                          variant=\"secondary\"\n                        >\n                          + Add Recipient\n                        </Button>\n                        <Button\n                          onClick={() => saveEmailConfig({ recipients: emailConfig.recipients.filter(email => email !== '') })}\n                          disabled={isSavingConfig}\n                        >\n                          Save Recipients\n                        </Button>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Critical Defect Alert */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <label className=\"flex items-start gap-3 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        checked={emailConfig.enable_immediate_for_critical}\n                        onChange={(e) => saveEmailConfig({ enable_immediate_for_critical: (e.target as any).checked })}\n                        className=\"mt-1 w-5 h-5 text-blue-600 rounded\"\n                      />\n                      <div>\n                        <span className=\"font-semibold text-gray-900\">Immediate Alerts for Critical Defects</span>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          Send immediate email when critical defects are found (only in hybrid mode)\n                        </p>\n                      </div>\n                    </label>\n                  </CardContent>\n                </Card>\n\n                {/* Daily Email Limit */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Daily Email Limit</h3>\n                    <div className=\"flex items-center gap-4\">\n                      <input\n                        type=\"number\"\n                        value={emailConfig.daily_email_hard_cap}\n                        onChange={(e) => setEmailConfig({ ...emailConfig, daily_email_hard_cap: parseInt((e.target as any).value) || 250 })}\n                        className=\"w-32 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        min=\"1\"\n                        max=\"500\"\n                      />\n                      <span className=\"text-gray-600\">emails per day (max: 500)</span>\n                      <Button\n                        onClick={() => saveEmailConfig({ daily_email_hard_cap: emailConfig.daily_email_hard_cap })}\n                        disabled={isSavingConfig}\n                      >\n                        Save\n                      </Button>\n                    </div>\n                    <p className=\"text-sm text-gray-500 mt-2\">\n                      Current: {emailConfig.daily_email_hard_cap} / Recommended: 250\n                    </p>\n                  </CardContent>\n                </Card>\n\n                {/* Email Subject Template */}\n                <Card>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Subject Template</h3>\n                    <div className=\"space-y-2\">\n                      <input\n                        type=\"text\"\n                        value={emailConfig.email_subject_template}\n                        onChange={(e) => setEmailConfig({ ...emailConfig, email_subject_template: (e.target as any).value })}\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"MBFD Daily Inspection Summary - {date}\"\n                      />\n                      <p className=\"text-sm text-gray-500\">Use {'{date}'} for the current date</p>\n                      <Button\n                        onClick={() => saveEmailConfig({ email_subject_template: emailConfig.email_subject_template })}\n                        disabled={isSavingConfig}\n                      >\n                        Save Template\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            ) : (\n              <Card>\n                <CardContent className=\"py-12 text-center\">\n                  <Mail className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                  <p className=\"text-gray-600 mb-4\">Click the button below to load email configuration</p>\n                  <Button onClick={loadEmailConfig}>\n                    Load Configuration\n                  </Button>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};"],"names":["__iconNode","ArrowLeft","createLucideIcon","Brain","CircleAlert","CircleX","ClipboardList","Clock","Image","Lightbulb","Lock","Mail","Package","RefreshCw","Search","Sparkles","TrendingUp","Truck","Warehouse","AIFleetInsights","adminPassword","onCriticalAlertCount","aiInsights","setAiInsights","useState","isLoadingInsights","setIsLoadingInsights","insightsError","setInsightsError","selectedTimeframe","setSelectedTimeframe","selectedApparatus","setSelectedApparatus","loadAIInsights","apparatus","insights","githubService","criticalCount","insight","error","renderInsightCard","index","isCritical","isWarning","isPositive","bgColor","borderColor","textColor","icon","jsx","CheckCircle","AlertTriangle","jsxs","Button","Card","CardContent","value","label","e","APPARATUS_LIST","i","SupplyListPanel","items","isLoading","onRefresh","searchTerm","setSearchTerm","sortField","setSortField","sortDirection","setSortDirection","filteredAndSortedItems","useMemo","results","term","item","a","b","compareValue","toggleSort","field","isLowStock","useSupplyTasks","status","tasks","setTasks","setIsLoading","setError","count","setCount","loadTasks","useCallback","data","fetchTasks","err","errorMessage","completeTask","taskId","chosenReplacement","completedBy","notes","updateTask","cancelTask","useEffect","TasksPanel","activeStatus","setActiveStatus","refresh","processingTaskId","setProcessingTaskId","handleComplete","itemName","handleCancel","AlertCircle","XCircle","task","formatDateTime","Fragment","useInventory","setItems","lastFetchedAt","setLastFetchedAt","loadInventory","fetchInventory","SuggestionsPanel","tasksLoading","inventoryLoading","tasksWithSuggestions","React","suggestions","s","itemType","confidence","suggestion","idx","AIInsightsPanel","inventory","isGenerating","setIsGenerating","setInsights","aiNotConfigured","setAiNotConfigured","loadInsights","result","fetchAIInsights","handleGenerateInsights","generateAIInsights","t","parseInsightData","insightJson","latestInsight","parsedInsight","issue","anomaly","InventoryTab","activeSubTab","setActiveSubTab","useVehicleChangeRequests","options","pollInterval","autoFetch","requests","setRequests","loading","setLoading","pendingCount","setPendingCount","totalCount","setTotalCount","loadRequests","fetchVehicleChangeRequests","submitRequest","request","submitVehicleChangeRequest","approveRequest","requestId","reviewedBy","reviewVehicleChangeRequest","rejectRequest","interval","ApparatusStatusTab","statuses","statusLoading","statusError","refetchStatuses","useApparatusStatus","requestsLoading","refetchRequests","actioningRequestId","setActioningRequestId","showRejectModal","setShowRejectModal","rejectId","setRejectId","rejectNotes","setRejectNotes","handleApprove","handleReject","openRejectModal","CardHeader","req","AdminDashboard","navigate","useNavigate","isAuthenticated","setIsAuthenticated","passwordInput","setPasswordInput","passwordError","setPasswordError","activeTab","setActiveTab","fleetStatus","setFleetStatus","defects","setDefects","dailySubmissions","setDailySubmissions","lowStockItems","setLowStockItems","inspectionLogs","setInspectionLogs","isLoadingLogs","setIsLoadingLogs","emailConfig","setEmailConfig","isLoadingConfig","setIsLoadingConfig","isSavingConfig","setIsSavingConfig","configError","setConfigError","criticalAlertsCount","setCriticalAlertsCount","lightboxPhoto","setLightboxPhoto","defectToResolve","setDefectToResolve","resolutionNote","setResolutionNote","isResolvingDefect","setIsResolvingDefect","searchQuery","setSearchQuery","filterApparatus","setFilterApparatus","fleetSubTab","setFleetSubTab","loadApparatusLogs","filteredLogs","log","loadAllInspectionLogs","logs","loadDashboardData","allDefects","submissions","lowStock","handlePasswordSubmit","loadEmailConfig","config","saveEmailConfig","updates","sendTestDigest","handleResolveDefect","prevDefects","d","prevStatus","newStatus","currentCount","apparatusList","today","Calendar","defectCount","isOk","app","defect","ImageIcon","Check","titleMatch","dateStr","inspectorMatch","inspector","rank","itemsMatch","totalItems","defectsMatch","receiptMatch","receiptUrl","defectsSection","defectsList","line","Modal","CloseIcon","hasSubmitted","total","lastDate","percentage","email","newRecipients","_"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}