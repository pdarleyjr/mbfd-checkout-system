{"version":3,"file":"InspectionWizard-D2SeMKKg.js","sources":["../../node_modules/lucide-react/dist/esm/icons/check-check.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/chevron-left.js","../../node_modules/lucide-react/dist/esm/icons/chevron-right.js","../../node_modules/lucide-react/dist/esm/icons/gauge.js","../../node_modules/lucide-react/dist/esm/icons/shield.js","../../node_modules/lucide-react/dist/esm/icons/wrench.js","../../src/components/InspectionCard.tsx","../../src/hooks/useDeviceDetection.ts","../../src/hooks/useLocalStorage.ts","../../src/components/InspectionWizard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 6 7 17l-5-5\", key: \"116fxf\" }],\n  [\"path\", { d: \"m22 10-7.5 7.5L13 16\", key: \"ke71qq\" }]\n];\nconst CheckCheck = createLucideIcon(\"check-check\", __iconNode);\n\nexport { __iconNode, CheckCheck as default };\n//# sourceMappingURL=check-check.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]];\nconst Check = createLucideIcon(\"check\", __iconNode);\n\nexport { __iconNode, Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]];\nconst ChevronLeft = createLucideIcon(\"chevron-left\", __iconNode);\n\nexport { __iconNode, ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]];\nconst ChevronRight = createLucideIcon(\"chevron-right\", __iconNode);\n\nexport { __iconNode, ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 14 4-4\", key: \"9kzdfg\" }],\n  [\"path\", { d: \"M3.34 19a10 10 0 1 1 17.32 0\", key: \"19p75a\" }]\n];\nconst Gauge = createLucideIcon(\"gauge\", __iconNode);\n\nexport { __iconNode, Gauge as default };\n//# sourceMappingURL=gauge.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ]\n];\nconst Shield = createLucideIcon(\"shield\", __iconNode);\n\nexport { __iconNode, Shield as default };\n//# sourceMappingURL=shield.js.map\n","/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z\",\n      key: \"1ngwbx\"\n    }\n  ]\n];\nconst Wrench = createLucideIcon(\"wrench\", __iconNode);\n\nexport { __iconNode, Wrench as default };\n//# sourceMappingURL=wrench.js.map\n","import React, { useState } from 'react';\nimport { Check, X, AlertTriangle, WrenchIcon } from 'lucide-react';\nimport { cn } from '../lib/utils';\nimport { Modal } from './ui/Modal';\nimport { Button } from './ui/Button';\nimport type { ItemStatus, CompartmentItem } from '../types';\n\ninterface InspectionCardProps {\n  item: string | CompartmentItem;\n  compartmentId: string;\n  status: ItemStatus;\n  hasExistingDefect: boolean;\n  onStatusChange: (status: ItemStatus, notes?: string, photoUrl?: string, fixedStatus?: 'fixed' | 'still_damaged', radioNumber?: string) => void;\n}\n\nexport const InspectionCard: React.FC<InspectionCardProps> = ({\n  item,\n  status,\n  hasExistingDefect,\n  onStatusChange,\n}) => {\n  const [showNotesModal, setShowNotesModal] = useState(false);\n  const [modalType, setModalType] = useState<'missing' | 'damaged'>('missing');\n  const [notes, setNotes] = useState('');\n  const [showDefectStatusModal, setShowDefectStatusModal] = useState(false);\n  const [radioNumber, setRadioNumber] = useState('');\n\n  // Extract item data\n  const itemName = typeof item === 'string' ? item : item.name;\n  const expectedQuantity = typeof item === 'object' ? item.expectedQuantity : undefined;\n  const itemNote = typeof item === 'object' ? item.note : undefined;\n  const inputType = typeof item === 'object' ? item.inputType : 'checkbox';\n\n  // Check if this is a radio item that needs special handling\n  const isRadioItem = inputType === 'radio' || (typeof item === 'object' && item.name.toLowerCase().includes('radio'));\n\n  const handleStatusClick = (newStatus: ItemStatus) => {\n    if (newStatus === 'present') {\n      // If there's an existing defect, show the fixed/still damaged modal\n      if (hasExistingDefect) {\n        setShowDefectStatusModal(true);\n      } else {\n        onStatusChange('present', undefined, undefined, undefined, radioNumber);\n        setNotes('');\n      }\n    } else {\n      setModalType(newStatus);\n      setShowNotesModal(true);\n    }\n  };\n\n  const handleDefectStatusChoice = (choice: 'fixed' | 'still_damaged' | 'no_change') => {\n    if (choice === 'fixed') {\n      onStatusChange('present', 'Item has been fixed and is now back in service', undefined, 'fixed');\n    } else if (choice === 'still_damaged') {\n      onStatusChange('damaged', 'Issue still present - previously reported', undefined, 'still_damaged');\n    } else {\n      // no_change - just mark as present without additional notification\n      onStatusChange('present');\n    }\n    setShowDefectStatusModal(false);\n  };\n\n  const handleSubmitNotes = () => {\n    if (!notes.trim()) {\n      alert('Please enter notes describing the issue');\n      return;\n    }\n    onStatusChange(modalType, notes, undefined, undefined, radioNumber);\n    setShowNotesModal(false);\n    setNotes('');\n  };\n\n  const handleCancel = () => {\n    setShowNotesModal(false);\n    setNotes('');\n  };\n\n  // Special rendering for radio items with text input\n  if (isRadioItem) {\n    return (\n      <>\n        <div\n          className={cn(\n            'p-4 rounded-2xl transition-all duration-200 border-2 shadow-sm space-y-3',\n            {\n              'bg-white border-gray-200 hover:border-gray-300': status === 'present' && !hasExistingDefect,\n              'bg-green-50 border-green-500 shadow-green-100': status === 'present' && !hasExistingDefect,\n              'bg-red-50 border-red-500 shadow-red-100': status === 'missing',\n              'bg-yellow-50 border-yellow-500 shadow-yellow-100': status === 'damaged',\n              'bg-orange-50 border-orange-500 shadow-orange-100': hasExistingDefect,\n            }\n          )}\n        >\n          {/* Item Name and Status Buttons Row */}\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex-1 min-w-0 pr-3\">\n              <p className=\"font-semibold text-gray-900 text-base leading-tight\">\n                {itemName}\n              </p>\n              {itemNote && (\n                <p className=\"text-xs text-gray-500 mt-1\">{itemNote}</p>\n              )}\n              {hasExistingDefect && (\n                <span className=\"inline-block mt-2 px-3  py-1 bg-orange-600 text-white text-xs font-bold rounded-full shadow-sm\">\n                  ‚ö†Ô∏è Previously Reported\n                </span>\n              )}\n            </div>\n\n            {/* Status Buttons */}\n            <div className=\"flex gap-2 flex-shrink-0\">\n              <button\n                onClick={() => handleStatusClick('present')}\n                className={cn(\n                  'flex items-center justify-center w-14 h-14 rounded-2xl transition-all duration-200 active:scale-95',\n                  status === 'present'\n                    ? 'bg-green-500 text-white shadow-lg scale-105 shadow-green-200'\n                    : 'bg-gray-100 text-gray-400 hover:bg-gray-200 active:bg-gray-300'\n                )}\n                title=\"Present/Working\"\n              >\n                <Check className=\"w-7 h-7 stroke-[3]\" />\n              </button>\n\n              <button\n                onClick={() => handleStatusClick('missing')}\n                className={cn(\n                  'flex items-center justify-center w-14 h-14 rounded-2xl transition-all duration-200 active:scale-95',\n                  status === 'missing'\n                    ? 'bg-red-500 text-white shadow-lg scale-105 shadow-red-200'\n                    : 'bg-gray-100 text-gray-400 hover:bg-gray-200 active:bg-gray-300'\n                )}\n                title=\"Missing\"\n              >\n                <X className=\"w-7 h-7 stroke-[3]\" />\n              </button>\n\n              <button\n                onClick={() => handleStatusClick('damaged')}\n                className={cn(\n                  'flex items-center justify-center w-14 h-14 rounded-2xl transition-all duration-200 active:scale-95',\n                  status === 'damaged'\n                    ? 'bg-yellow-500 text-white shadow-lg scale-105 shadow-yellow-200'\n                    : 'bg-gray-100 text-gray-400 hover:bg-gray-200 active:bg-gray-300'\n                )}\n                title=\"Damaged\"\n              >\n                <AlertTriangle className=\"w-7 h-7 stroke-[3]\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Radio Number Input */}\n          <div>\n            <label className=\"block text-xs font-semibold text-gray-600 mb-1\">\n              Radio Number (Optional):\n            </label>\n            <input\n              type=\"text\"\n              value={radioNumber}\n              onChange={(e) => setRadioNumber(e.target.value)}\n              placeholder=\"Enter radio #\"\n              className=\"w-full px-3 py-2 text-sm rounded-lg border-2 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-600 outline-none bg-white text-gray-900 font-medium\"\n            />\n          </div>\n        </div>\n\n        {/* Include the modals for radio items too */}\n        <Modal\n          isOpen={showDefectStatusModal}\n          onClose={() => setShowDefectStatusModal(false)}\n          title={`Previously Reported Issue: \"${itemName}\"`}\n        >\n          <div className=\"space-y-4\">\n            <div className=\"bg-orange-50 border-2 border-orange-300 rounded-xl p-4\">\n              <p className=\"text-sm text-orange-900 font-semibold mb-2\">\n                ‚ö†Ô∏è This item was previously reported as defective.\n              </p>\n              <p className=\"text-xs text-orange-800\">\n                Please select the current status of this item:\n              </p>\n            </div>\n\n            <div className=\"space-y-3\">\n              <Button\n                onClick={() => handleDefectStatusChoice('fixed')}\n                className=\"w-full h-14 text-base font-bold rounded-xl bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 flex items-center justify-center gap-2\"\n              >\n                <WrenchIcon className=\"w-5 h-5\" />\n                Fixed / Back in Service\n              </Button>\n\n              <Button\n                onClick={() => handleDefectStatusChoice('still_damaged')}\n                variant=\"secondary\"\n                className=\"w-full h-14 text-base font-bold rounded-xl bg-yellow-100 hover:bg-yellow-200 text-yellow-900 flex items-center justify-center gap-2\"\n              >\n                <AlertTriangle className=\"w-5 h-5\" />\n                Still Damaged / Missing\n              </Button>\n\n              <Button\n                onClick={() => handleDefectStatusChoice('no_change')}\n                variant=\"secondary\"\n                className=\"w-full h-12 text-sm font-bold rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-700\"\n              >\n                Skip - No Change\n              </Button>\n            </div>\n          </div>\n        </Modal>\n\n        <Modal\n          isOpen={showNotesModal}\n          onClose={handleCancel}\n          title={`Item ${modalType === 'missing' ? 'Missing' : 'Damaged'}: \"${itemName}\"`}\n        >\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-3 p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100\">\n              {modalType === 'missing' ? (\n                <div className=\"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0\">\n                  <X className=\"w-6 h-6 text-red-600\" />\n                </div>\n              ) : (\n                <div className=\"w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center flex-shrink-0\">\n                  <AlertTriangle className=\"w-6 h-6 text-yellow-600\" />\n                </div>\n              )}\n              <div>\n                <p className=\"text-sm font-semibold text-gray-600\">\n                  {modalType === 'missing' ? 'Missing Equipment' : 'Damaged Equipment'}\n                </p>\n                <p className=\"text-xs text-gray-500\">Please provide detailed information</p>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                Description *\n              </label>\n              <textarea\n                value={notes}\n                onChange={(e) => setNotes(e.target.value)}\n                placeholder=\"Describe the issue in detail...\"\n                rows={4}\n                className=\"w-full px-4 py-3 rounded-xl border-2 border-gray-300 focus:ring-4 focus:ring-blue-400 focus:border-blue-500 outline-none transition-all resize-none text-base\"\n                autoFocus\n              />\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Provide as much detail as possible to help with resolution\n              </p>\n            </div>\n\n            {isRadioItem && (\n              <div>\n                <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                  Radio Number (if known)\n                </label>\n                <input\n                  type=\"text\"\n                  value={radioNumber}\n                  onChange={(e) => setRadioNumber(e.target.value)}\n                  placeholder=\"Enter radio # if known\"\n                  className=\"w-full px-4 py-3 rounded-xl border-2 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-600 outline-none bg-white text-gray-900\"\n                />\n              </div>\n            )}\n\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n              <p className=\"text-xs text-blue-800\">\n                üì∏ <strong>Photo upload coming soon!</strong> For now, please include detailed descriptions in your notes.\n              </p>\n            </div>\n\n            <div className=\"flex gap-3 pt-2\">\n              <Button\n                onClick={handleSubmitNotes}\n                className=\"flex-1 h-12 text-base font-bold rounded-xl\"\n              >\n                Submit Report\n              </Button>\n              <Button\n                onClick={handleCancel}\n                variant=\"secondary\"\n                className=\"flex-1 h-12 text-base font-bold rounded-xl\"\n              >\n                Cancel\n              </Button>\n            </div>\n          </div>\n        </Modal>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div\n        className={cn(\n          'flex items-center justify-between p-4 rounded-2xl transition-all duration-200 border-2 shadow-sm',\n          {\n            'bg-white border-gray-200 hover:border-gray-300': status === 'present' && !hasExistingDefect,\n            'bg-green-50 border-green-500 shadow-green-100': status === 'present' && !hasExistingDefect,\n            'bg-red-50 border-red-500 shadow-red-100': status === 'missing',\n            'bg-yellow-50 border-yellow-500 shadow-yellow-100': status === 'damaged',\n            'bg-orange-50 border-orange-500 shadow-orange-100': hasExistingDefect,\n          }\n        )}\n      >\n        {/* Item Name */}\n        <div className=\"flex-1 min-w-0 pr-3\">\n          <p className=\"font-semibold text-gray-900 text-base leading-tight\">\n            {itemName}\n            {expectedQuantity && (\n              <span className=\"text-sm text-gray-600 ml-1\">({expectedQuantity})</span>\n            )}\n          </p>\n          {itemNote && (\n            <p className=\"text-xs text-gray-500 mt-1\">{itemNote}</p>\n          )}\n          {hasExistingDefect && (\n            <span className=\"inline-block mt-2 px-3 py-1 bg-orange-600 text-white text-xs font-bold rounded-full shadow-sm\">\n              ‚ö†Ô∏è Previously Reported\n            </span>\n          )}\n        </div>\n\n        {/* Status Buttons */}\n        <div className=\"flex gap-2 flex-shrink-0\">\n          {/* Present Button */}\n          <button\n            onClick={() => handleStatusClick('present')}\n            className={cn(\n              'flex items-center justify-center w-14 h-14 rounded-2xl transition-all duration-200 active:scale-95',\n              status === 'present'\n                ? 'bg-green-500 text-white shadow-lg scale-105 shadow-green-200'\n                : 'bg-gray-100 text-gray-400 hover:bg-gray-200 active:bg-gray-300'\n            )}\n            title=\"Present/Working\"\n          >\n            <Check className=\"w-7 h-7 stroke-[3]\" />\n          </button>\n\n          {/* Missing Button */}\n          <button\n            onClick={() => handleStatusClick('missing')}\n            className={cn(\n              'flex items-center justify-center w-14 h-14 rounded-2xl transition-all duration-200 active:scale-95',\n              status === 'missing'\n                ? 'bg-red-500 text-white shadow-lg scale-105 shadow-red-200'\n                : 'bg-gray-100 text-gray-400 hover:bg-gray-200 active:bg-gray-300'\n            )}\n            title=\"Missing\"\n          >\n            <X className=\"w-7 h-7 stroke-[3]\" />\n          </button>\n\n          {/* Damaged Button */}\n          <button\n            onClick={() => handleStatusClick('damaged')}\n            className={cn(\n              'flex items-center justify-center w-14 h-14 rounded-2xl transition-all duration-200 active:scale-95',\n              status === 'damaged'\n                ? 'bg-yellow-500 text-white shadow-lg scale-105 shadow-yellow-200'\n                : 'bg-gray-100 text-gray-400 hover:bg-gray-200 active:bg-gray-300'\n            )}\n            title=\"Damaged\"\n          >\n            <AlertTriangle className=\"w-7 h-7 stroke-[3]\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Defect Status Modal (for previously reported items) */}\n      <Modal\n        isOpen={showDefectStatusModal}\n        onClose={() => setShowDefectStatusModal(false)}\n        title={`Previously Reported Issue: \"${itemName}\"`}\n      >\n        <div className=\"space-y-4\">\n          <div className=\"bg-orange-50 border-2 border-orange-300 rounded-xl p-4\">\n            <p className=\"text-sm text-orange-900 font-semibold mb-2\">\n              ‚ö†Ô∏è This item was previously reported as defective.\n            </p>\n            <p className=\"text-xs text-orange-800\">\n              Please select the current status of this item:\n            </p>\n          </div>\n\n          <div className=\"space-y-3\">\n            <Button\n              onClick={() => handleDefectStatusChoice('fixed')}\n              className=\"w-full h-14 text-base font-bold rounded-xl bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 flex items-center justify-center gap-2\"\n            >\n              <WrenchIcon className=\"w-5 h-5\" />\n              Fixed / Back in Service\n            </Button>\n\n            <Button\n              onClick={() => handleDefectStatusChoice('still_damaged')}\n              variant=\"secondary\"\n              className=\"w-full h-14 text-base font-bold rounded-xl bg-yellow-100 hover:bg-yellow-200 text-yellow-900 flex items-center justify-center gap-2\"\n            >\n              <AlertTriangle className=\"w-5 h-5\" />\n              Still Damaged / Missing\n            </Button>\n\n            <Button\n              onClick={() => handleDefectStatusChoice('no_change')}\n              variant=\"secondary\"\n              className=\"w-full h-12 text-sm font-bold rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-700\"\n            >\n              Skip - No Change\n            </Button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Notes Modal */}\n      <Modal\n        isOpen={showNotesModal}\n        onClose={handleCancel}\n        title={`Item ${modalType === 'missing' ? 'Missing' : 'Damaged'}: \"${itemName}\"`}\n      >\n        <div className=\"space-y-4\">\n          {/* Issue Type Badge */}\n          <div className=\"flex items-center gap-3 p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100\">\n            {modalType === 'missing' ? (\n              <div className=\"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0\">\n                <X className=\"w-6 h-6 text-red-600\" />\n              </div>\n            ) : (\n              <div className=\"w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center flex-shrink-0\">\n                <AlertTriangle className=\"w-6 h-6 text-yellow-600\" />\n              </div>\n            )}\n            <div>\n              <p className=\"text-sm font-semibold text-gray-600\">\n                {modalType === 'missing' ? 'Missing Equipment' : 'Damaged Equipment'}\n              </p>\n              <p className=\"text-xs text-gray-500\">Please provide detailed information</p>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n              Description *\n            </label>\n            <textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Describe the issue in detail...\"\n              rows={4}\n              className=\"w-full px-4 py-3 rounded-xl border-2 border-gray-300 focus:ring-4 focus:ring-blue-400 focus:border-blue-500 outline-none transition-all resize-none text-base\"\n              autoFocus\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Provide as much detail as possible to help with resolution\n            </p>\n          </div>\n\n          {/* TODO: Photo upload will be implemented in future update */}\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n            <p className=\"text-xs text-blue-800\">\n              üì∏ <strong>Photo upload coming soon!</strong> For now, please include detailed descriptions in your notes.\n            </p>\n          </div>\n\n          <div className=\"flex gap-3 pt-2\">\n            <Button\n              onClick={handleSubmitNotes}\n              className=\"flex-1 h-12 text-base font-bold rounded-xl\"\n            >\n              Submit Report\n            </Button>\n            <Button\n              onClick={handleCancel}\n              variant=\"secondary\"\n              className=\"flex-1 h-12 text-base font-bold rounded-xl\"\n            >\n              Cancel\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </>\n  );\n};","import { useState, useEffect } from 'react';\n\nexport interface DeviceInfo {\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  screenWidth: number;\n  screenHeight: number;\n  orientation: 'portrait' | 'landscape';\n}\n\nexport const useDeviceDetection = (): DeviceInfo => {\n  const [deviceInfo, setDeviceInfo] = useState<DeviceInfo>(() => {\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    \n    return {\n      isMobile: width < 768,\n      isTablet: width >= 768 && width < 1024,\n      isDesktop: width >= 1024,\n      screenWidth: width,\n      screenHeight: height,\n      orientation: width > height ? 'landscape' : 'portrait',\n    };\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n      \n      setDeviceInfo({\n        isMobile: width < 768,\n        isTablet: width >= 768 && width < 1024,\n        isDesktop: width >= 1024,\n        screenWidth: width,\n        screenHeight: height,\n        orientation: width > height ? 'landscape' : 'portrait',\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return deviceInfo;\n};","import { useState, useEffect } from 'react';\n\nexport function useLocalStorage<T>(key: string, initialValue: T): [T, (value: T | ((val: T) => T)) => void] {\n  // Get from local storage then parse stored json or return initialValue\n  const readValue = (): T => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\n      return initialValue;\n    }\n  };\n\n  const [storedValue, setStoredValue] = useState<T>(readValue);\n\n  // Return a wrapped version of useState's setter function that persists the new value to localStorage.\n  const setValue = (value: T | ((val: T) => T)) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      \n      // Save state\n      setStoredValue(valueToStore);\n      \n      // Save to local storage\n      if (typeof window !== 'undefined') {\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\n      }\n    } catch (error) {\n      console.warn(`Error setting localStorage key \"${key}\":`, error);\n    }\n  };\n\n  useEffect(() => {\n    setStoredValue(readValue());\n  }, []);\n\n  return [storedValue, setValue];\n}\n\n// Hook for remembering text field values with autocomplete suggestions\nexport function useFieldHistory(fieldKey: string, maxHistory: number = 10) {\n  const [history, setHistory] = useLocalStorage<string[]>(`field_history_${fieldKey}`, []);\n\n  const addToHistory = (value: string) => {\n    if (!value || !value.trim()) return;\n    \n    setHistory((prev) => {\n      const filtered = prev.filter((item) => item !== value);\n      const newHistory = [value, ...filtered].slice(0, maxHistory);\n      return newHistory;\n    });\n  };\n\n  const clearHistory = () => {\n    setHistory([]);\n  };\n\n  return { history, addToHistory, clearHistory };\n}","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ChevronLeft, ChevronRight, CheckCircle, Calendar, Shield, Gauge, CheckCheck } from 'lucide-react';\nimport { Button } from './ui/Button';\nimport { Card, CardHeader, CardContent } from './ui/Card';\nimport { Modal } from './ui/Modal';\nimport { InspectionCard } from './InspectionCard';\nimport { githubService } from '../lib/github';\nimport { useDeviceDetection } from '../hooks/useDeviceDetection';\nimport { useLocalStorage, useFieldHistory } from '../hooks/useLocalStorage';\nimport type { User, ChecklistData, ChecklistItem, GitHubIssue, ItemStatus, OfficerChecklistItem } from '../types';\n\nexport const InspectionWizard: React.FC = () => {\n  const navigate = useNavigate();\n  const device = useDeviceDetection();\n  const [user, setUser] = useState<User | null>(null);\n  const [checklist, setChecklist] = useState<ChecklistData | null>(null);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [items, setItems] = useState<Map<string, ChecklistItem>>(new Map());\n  const [existingDefects, setExistingDefects] = useState<Map<string, GitHubIssue>>(new Map());\n  const [officerItems, setOfficerItems] = useState<OfficerChecklistItem[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [submissionDefectCount, setSubmissionDefectCount] = useState(0);\n  const [userEmail, setUserEmail] = useState('');\n  const [isSendingEmail, setIsSendingEmail] = useState(false);\n\n  // LocalStorage for remembering last entries\n  const [lastOfficerValues, setLastOfficerValues] = useLocalStorage<Record<string, string | number>>('mbfd_last_officer_values', {});\n\n  useEffect(() => {\n    // Load user data from session storage\n    const userData = sessionStorage.getItem('user');\n    if (!userData) {\n      navigate('/');\n      return;\n    }\n\n    const parsedUser: User = JSON.parse(userData);\n    setUser(parsedUser);\n\n    // Load checklist data\n    loadChecklistData(parsedUser);\n  }, [navigate]);\n\n  const loadChecklistData = async (userData: User) => {\n    try {\n      // Determine which checklist to load based on apparatus type\n      let checklistFile: string;\n      \n      if (userData.apparatus.startsWith('Engine')) {\n        checklistFile = 'engine_checklist.json';\n      } else if (userData.apparatus === 'Ladder 1') {\n        checklistFile = 'ladder1_checklist.json';\n      } else if (userData.apparatus === 'Ladder 3') {\n        checklistFile = 'ladder3_checklist.json';\n      } else if (userData.apparatus === 'Rope Inventory') {\n        checklistFile = 'rope_checklist.json';\n      } else {\n        // All Rescue units use the same checklist\n        checklistFile = 'rescue_checklist.json';\n      }\n      \n      // Load checklist JSON\n      const response = await fetch(`/mbfd-checkout-system/data/${checklistFile}`);\n      const data: ChecklistData = await response.json();\n      setChecklist(data);\n\n      // Initialize all items with 'present' status\n      const itemsMap = new Map<string, ChecklistItem>();\n      data.compartments.forEach(compartment => {\n        compartment.items.forEach(item => {\n          // Handle both string and object format\n          const itemName = typeof item === 'string' ? item : item.name;\n          const itemId = `${compartment.id}:${itemName}`;\n          itemsMap.set(itemId, {\n            name: itemName,\n            status: 'present',\n            inputType: typeof item === 'object' ? item.inputType : 'checkbox',\n            expectedQuantity: typeof item === 'object' ? item.expectedQuantity : undefined,\n          });\n        });\n      });\n      setItems(itemsMap);\n\n      // Initialize officer checklist with last saved values\n      if (data.officerChecklist) {\n        setOfficerItems(data.officerChecklist.map(item => ({\n          ...item,\n          checked: false,\n          value: lastOfficerValues[item.id] || ''\n        })));\n      }\n\n      // Fetch existing defects for this apparatus\n      const defects = await githubService.checkExistingDefects(userData.apparatus);\n      setExistingDefects(defects);\n\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Error loading data:', error);\n      alert('Error loading inspection data. Please try again.');\n      setIsLoading(false);\n    }\n  };\n\n  const handleItemStatusChange = (itemId: string, status: ItemStatus, notes?: string, photoUrl?: string) => {\n    setItems(prevItems => {\n      const newItems = new Map(prevItems);\n      const item = newItems.get(itemId);\n      if (item) {\n        newItems.set(itemId, { ...item, status, notes, photoUrl });\n      }\n      return newItems;\n    });\n  };\n\n  const handleOfficerItemChange = (index: number, checked: boolean, value?: string | number) => {\n    setOfficerItems(prev => {\n      const newItems = [...prev];\n      newItems[index] = { ...newItems[index], checked, value };\n      \n      // Save to localStorage for next time\n      const newValues = { ...lastOfficerValues };\n      newValues[newItems[index].id] = value || '';\n      setLastOfficerValues(newValues);\n      \n      return newItems;\n    });\n  };\n\n  const handleCheckAllOfficer = () => {\n    setOfficerItems(prev => prev.map(item => {\n      // Auto-fill with sensible default values for specific fields\n      let defaultValue: string | number = item.value || '';\n      \n      // If field is empty and required, set appropriate defaults\n      if (!item.value || item.value === '') {\n        switch (item.id) {\n          case 'psi_front':\n          case 'psi_rear':\n            defaultValue = 115; // Typical Freightliner rescue truck tire PSI\n            break;\n          case 'brake_psi':\n            defaultValue = 120; // Typical brake PSI\n            break;\n          case 'm_cylinder_psi':\n            defaultValue = 1800; // Mid-range M Cylinder PSI (1000-2000)\n            break;\n          case 'fuel_percent':\n            defaultValue = 100; // Full tank\n            break;\n          case 'def_percent':\n            defaultValue = 100; // Full DEF\n            break;\n          default:\n            if (item.required && item.inputType !== 'checkbox') {\n              defaultValue = 'N/A';\n            }\n            break;\n        }\n      }\n      \n      return {\n        ...item,\n        checked: true,\n        value: defaultValue\n      };\n    }));\n  };\n\n  const handleCheckAllCompartment = () => {\n    if (!currentCompartment) return;\n    \n    setItems(prevItems => {\n      const newItems = new Map(prevItems);\n      currentCompartment.items.forEach(item => {\n        const itemName = typeof item === 'string' ? item : item.name;\n        const itemId = `${currentCompartment.id}:${itemName}`;\n        const existingItem = newItems.get(itemId);\n        if (existingItem) {\n          newItems.set(itemId, { ...existingItem, status: 'present' });\n        }\n      });\n      return newItems;\n    });\n  };\n\n  const handleSubmit = async () => {\n    if (!user || !checklist) return;\n\n    setIsSubmitting(true);\n\n    try {\n      // Collect all defects\n      const defects: Array<{\n        compartment: string;\n        item: string;\n        status: 'missing' | 'damaged';\n        notes: string;\n        photoUrl?: string;\n      }> = [];\n\n      items.forEach((item) => {\n        if (item.status !== 'present') {\n          const compartment = checklist.compartments.find(\n            c => c.items.some(i => (typeof i === 'string' ? i : i.name) === item.name)\n          );\n          defects.push({\n            compartment: compartment?.title || 'Unknown',\n            item: item.name,\n            status: item.status,\n            notes: item.notes || '',\n            photoUrl: item.photoUrl,\n          });\n        }\n      });\n\n      // Submit inspection\n      await githubService.submitChecklist({\n        user,\n        apparatus: user.apparatus,\n        date: new Date().toISOString(),\n        items: Array.from(items.values()),\n        defects,\n        shift: user.shift,\n        unitNumber: user.unitNumber,\n        officerChecklist: officerItems,\n      });\n\n      // Send notification after successful submission\n      try {\n        const totalItems = items.size;\n        const completedItems = Array.from(items.values()).filter(item => item.status === 'present').length;\n        \n        // Determine checklist type from apparatus\n        let checklistType = 'rescue';\n        if (user.apparatus.startsWith('Engine')) {\n          checklistType = 'engine';\n        } else if (user.apparatus.startsWith('Ladder')) {\n          checklistType = 'ladder';\n        } else if (user.apparatus === 'Rope Inventory') {\n          checklistType = 'rope';\n        }\n        \n        // Map defects to notification format with severity\n        const notificationDefects = defects.map(defect => ({\n          item: defect.item,\n          category: defect.compartment,\n          severity: defect.status === 'missing' ? ('critical' as const) : ('high' as const)\n        }));\n        \n        await githubService.sendNotification({\n          apparatus: user.apparatus,\n          operator: user.name,\n          checklistType,\n          totalItems,\n          completedItems,\n          defects: notificationDefects,\n          githubIssueUrl: undefined // Issue URL not available from submitChecklist\n        });\n        \n        console.log('Notification queued/sent successfully');\n      } catch (notifyError) {\n        // Log but don't fail the entire submission if notification fails\n        console.error('Failed to send notification (non-critical):', notifyError);\n      }\n\n      // Clear session and show success modal\n      sessionStorage.removeItem('user');\n      setSubmissionDefectCount(defects.length);\n      setShowSuccessModal(true);\n    } catch (error) {\n      console.error('Error submitting inspection:', error);\n      \n      // Show user-friendly error message\n      let errorMessage = 'Error submitting inspection. Please try again.';\n      if (error instanceof Error) {\n        if (error.message.includes('Failed to fetch')) {\n          errorMessage = 'No internet connection. Please check your connection and try again.';\n        } else if (error.message.includes('defect submissions failed')) {\n          errorMessage = 'Some defects failed to submit. Please check your connection and try again. Partial data may have been recorded.';\n        }\n      }\n      alert(errorMessage);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleSendEmail = async () => {\n    if (!userEmail || !userEmail.includes('@')) {\n      alert('Please enter a valid email address');\n      return;\n    }\n\n    setIsSendingEmail(true);\n    try {\n      // Create a summary of the inspection for email\n      const emailBody = {\n        to: userEmail,\n        subject: `MBFD Inspection Summary - ${user?.apparatus} - ${new Date().toLocaleDateString()}`,\n        inspection: {\n          apparatus: user?.apparatus,\n          operator: user?.name,\n          rank: user?.rank,\n          date: new Date().toISOString(),\n          shift: user?.shift,\n          unitNumber: user?.unitNumber,\n          defectCount: submissionDefectCount,\n          officerChecklist: officerItems,\n        },\n      };\n\n      // Send via Gmail API through the worker\n      const response = await fetch('https://mbfd-github-proxy.pdarleyjr.workers.dev/api/send-email', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(emailBody),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to send email');\n      }\n\n      alert('‚úÖ Inspection summary sent to your email!');\n      setUserEmail('');\n    } catch (error) {\n      console.error('Error sending email:', error);\n      alert('Failed to send email. Please try again.');\n    } finally {\n      setIsSendingEmail(false);\n    }\n  };\n\n  const handleSuccessModalClose = () => {\n    setShowSuccessModal(false);\n    navigate('/');\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4\" />\n          <p className=\"text-gray-600 font-semibold\">Loading inspection checklist...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user || !checklist) {\n    return null;\n  }\n\n  // Calculate total steps (officer checklist + all compartments)\n  const hasOfficerChecklist = officerItems.length > 0;\n  const totalSteps = (hasOfficerChecklist ? 1 : 0) + checklist.compartments.length;\n  \n  // Determine if we're on officer checklist step\n  const isOfficerStep = hasOfficerChecklist && currentStep === 0;\n  const compartmentIndex = hasOfficerChecklist ? currentStep - 1 : currentStep;\n  const currentCompartment = !isOfficerStep ? checklist.compartments[compartmentIndex] : null;\n  \n  const isLastStep = currentStep === totalSteps - 1;\n  \n  // Check if current step is complete\n  const canProceed = isOfficerStep \n    ? officerItems.every(item => {\n        if (item.inputType === 'checkbox') return item.checked;\n        if (item.required) return item.checked && item.value && item.value.toString().trim() !== '';\n        return item.checked || (item.value && item.value.toString().trim() !== '');\n      })\n    : currentCompartment?.items.every(item => {\n        const itemName = typeof item === 'string' ? item : item.name;\n        const itemId = `${currentCompartment.id}:${itemName}`;\n        const checkedItem = items.get(itemId);\n        return checkedItem?.status !== undefined;\n      });\n\n  // Get today's schedule\n  const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });\n  const todaySchedule = checklist.dailySchedule?.find(s => s.day === today);\n\n  // Determine container width based on device\n  const containerClass = device.isDesktop \n    ? 'max-w-7xl mx-auto' \n    : device.isTablet \n    ? 'max-w-4xl px-4' \n    : 'max-w-2xl px-4';\n\n  // Grid columns based on device\n  const gridClass = device.isDesktop \n    ? 'grid grid-cols-2 lg:grid-cols-3 gap-4' \n    : 'space-y-3';\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 pb-24\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-blue-800 via-blue-900 to-blue-800 text-white sticky top-0 z-10 shadow-2xl\">\n        <div className={`${containerClass} mx-auto ${device.isDesktop ? 'px-6' : 'px-4'} py-4`}>\n          <div className=\"flex items-center justify-between mb-3\">\n            <div>\n              <h1 className=\"text-2xl font-bold\">{user.apparatus}</h1>\n              <p className=\"text-sm text-blue-100\">\n                {user.name} ‚Ä¢ {user.rank}\n              </p>\n            </div>\n            <div className=\"text-right\">\n              <p className=\"text-xs text-blue-200\">Shift {user.shift}</p>\n              <p className=\"text-sm font-semibold\">Unit {user.unitNumber}</p>\n              {device.isDesktop && (\n                <p className=\"text-xs text-blue-300 mt-1\">üñ•Ô∏è Desktop Mode</p>\n              )}\n            </div>\n          </div>\n          \n          {/* Progress Bar */}\n          <div className=\"flex items-center gap-1.5\">\n            {Array.from({ length: totalSteps }).map((_, idx) => (\n              <div\n                key={idx}\n                className={`h-2 flex-1 rounded-full transition-all duration-300 ${\n                  idx < currentStep\n                    ? 'bg-green-400'\n                    : idx === currentStep\n                    ? 'bg-white'\n                    : 'bg-blue-600'\n                }`}\n              />\n            ))}\n          </div>\n          <p className=\"text-xs text-blue-100 mt-2 text-center font-medium\">\n            Step {currentStep + 1} of {totalSteps}\n          </p>\n        </div>\n      </div>\n\n      {/* Daily Schedule Banner */}\n      {todaySchedule && todaySchedule.tasks.length > 0 && todaySchedule.tasks[0] !== 'None' && (\n        <div className={`${containerClass} mx-auto ${device.isDesktop ? 'px-6' : 'px-4'} mt-4`}>\n          <div className=\"bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-400 rounded-2xl p-4 shadow-md\">\n            <div className=\"flex items-start gap-3\">\n              <Calendar className=\"w-6 h-6 text-amber-700 flex-shrink-0 mt-0.5\" />\n              <div>\n                <h3 className=\"font-bold text-amber-900 mb-1\">Today's Schedule - {today}</h3>\n                <ul className=\"space-y-1\">\n                  {todaySchedule.tasks.map((task, idx) => (\n                    <li key={idx} className=\"text-sm text-amber-800 font-medium\">‚Ä¢ {task}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Content */}\n      <div className={`${containerClass} mx-auto ${device.isDesktop ? 'px-6' : 'px-4'} py-6`}>\n        <Card className={`shadow-2xl ${device.isDesktop ? 'rounded-xl' : 'rounded-2xl'}`}>\n          <CardHeader className=\"bg-gradient-to-r from-gray-50 to-slate-50 border-b-2 border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                {isOfficerStep ? (\n                  <Shield className=\"w-8 h-8 text-blue-700\" />\n                ) : (\n                  <Gauge className=\"w-8 h-8 text-red-600\" />\n                )}\n                <div>\n                  <h2 className=\"text-2xl font-bold text-gray-900\">\n                    {isOfficerStep ? 'Officer Checklist' : currentCompartment?.title}\n                  </h2>\n                  <p className=\"text-sm text-gray-600 font-medium\">\n                    {isOfficerStep \n                      ? 'Complete all officer-specific checks'\n                      : 'Check all equipment in this compartment'\n                    }\n                  </p>\n                </div>\n              </div>\n              \n              {/* Check All Button */}\n              <Button\n                onClick={isOfficerStep ? handleCheckAllOfficer : handleCheckAllCompartment}\n                variant=\"secondary\"\n                className=\"flex items-center gap-2 h-10 px-4 text-sm font-bold bg-blue-100 hover:bg-blue-200 text-blue-800\"\n              >\n                <CheckCheck className=\"w-5 h-5\" />\n                {device.isMobile ? 'All OK' : 'Check All'}\n              </Button>\n            </div>\n          </CardHeader>\n          <CardContent className={device.isDesktop ? \"p-6\" : \"p-4\"}>\n            {isOfficerStep ? (\n              <div className={gridClass}>\n                {officerItems.map((item, idx) => (\n                  <OfficerChecklistField\n                    key={item.id}\n                    item={item}\n                    index={idx}\n                    onChange={handleOfficerItemChange}\n                  />\n                ))}\n              </div>\n            ) : (\n              <div className={gridClass}>\n                {currentCompartment?.items.map((item) => {\n                  const itemName = typeof item === 'string' ? item : item.name;\n                  const itemId = `${currentCompartment.id}:${itemName}`;\n                  const checkedItem = items.get(itemId);\n                  const defectKey = `${currentCompartment.title}:${itemName}`;\n                  const hasExistingDefect = existingDefects.has(defectKey);\n                  const itemData = typeof item === 'object' ? item : { name: item, inputType: 'checkbox' as const };\n\n                  return (\n                    <InspectionCard\n                      key={itemId}\n                      item={itemData}\n                      compartmentId={currentCompartment.id}\n                      status={checkedItem?.status || 'present'}\n                      hasExistingDefect={hasExistingDefect}\n                      onStatusChange={(status, notes, photoUrl) =>\n                        handleItemStatusChange(itemId, status, notes, photoUrl)\n                      }\n                    />\n                  );\n                })}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Navigation Footer */}\n      <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 p-4 shadow-2xl\">\n        <div className={`${containerClass} mx-auto ${device.isDesktop ? 'px-6' : ''} flex gap-3`}>\n          {currentStep > 0 && (\n            <Button\n              onClick={() => setCurrentStep(currentStep - 1)}\n              variant=\"secondary\"\n              className=\"flex items-center gap-2 h-14 px-6 rounded-xl font-bold bg-gray-100 hover:bg-gray-200 text-gray-800\"\n            >\n              <ChevronLeft className=\"w-5 h-5\" />\n              Previous\n            </Button>\n          )}\n\n          <div className=\"flex-1\" />\n\n          {!isLastStep ? (\n            <Button\n              onClick={() => setCurrentStep(currentStep + 1)}\n              disabled={!canProceed}\n              className=\"flex items-center gap-2 h-14 px-8 rounded-xl font-bold shadow-lg bg-gradient-to-r from-blue-700 to-blue-800 hover:from-blue-800 hover:to-blue-900 disabled:from-gray-400 disabled:to-gray-500\"\n            >\n              Next\n              <ChevronRight className=\"w-5 h-5\" />\n            </Button>\n          ) : (\n            <Button\n              onClick={handleSubmit}\n              disabled={!canProceed || isSubmitting}\n              className=\"flex items-center gap-2 h-14 px-8 rounded-xl font-bold shadow-lg bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 disabled:from-gray-400 disabled:to-gray-500\"\n            >\n              {isSubmitting ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent\" />\n                  Submitting...\n                </>\n              ) : (\n                <>\n                  <CheckCircle className=\"w-6 h-6\" />\n                  Complete Inspection\n                </>\n              )}\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* Success Modal */}\n      <Modal\n        isOpen={showSuccessModal}\n        onClose={handleSuccessModalClose}\n        title=\"Inspection Complete!\"\n      >\n        <div className=\"text-center space-y-4\">\n          <div className=\"flex justify-center\">\n            <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center\">\n              <CheckCircle className=\"w-12 h-12 text-green-600\" />\n            </div>\n          </div>\n          \n          <div>\n            <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              ‚úÖ Inspection Submitted Successfully!\n            </h3>\n            <p className=\"text-gray-700 font-medium\">\n              Your {user?.apparatus} inspection has been recorded.\n            </p>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-xl p-4 border-2 border-gray-200\">\n            <p className=\"text-sm text-gray-800 font-semibold\">\n              <strong>Defects Reported:</strong> {submissionDefectCount}\n            </p>\n            {submissionDefectCount > 0 && (\n              <p className=\"text-xs text-gray-600 mt-1\">\n                Issues have been logged and will be reviewed by maintenance.\n              </p>\n            )}\n          </div>\n\n          {/* Email Section */}\n          <div className=\"bg-blue-50 rounded-xl p-4 border-2 border-blue-200\">\n            <p className=\"text-sm font-bold text-blue-900 mb-3\">\n              üìß Get a copy of this inspection via email\n            </p>\n            <div className=\"space-y-2\">\n              <input\n                type=\"email\"\n                value={userEmail}\n                onChange={(e) => setUserEmail(e.target.value)}\n                placeholder=\"Enter your email address\"\n                className=\"w-full px-4 py-3 rounded-xl border-2 border-blue-300 focus:ring-4 focus:ring-blue-400 focus:border-blue-600 outline-none transition-all text-base\"\n                disabled={isSendingEmail}\n              />\n              <Button\n                onClick={handleSendEmail}\n                disabled={isSendingEmail || !userEmail}\n                variant=\"secondary\"\n                className=\"w-full h-10 text-sm font-bold rounded-xl bg-blue-600 hover:bg-blue-700 text-white disabled:bg-gray-400\"\n              >\n                {isSendingEmail ? 'Sending...' : 'Send Summary'}\n              </Button>\n            </div>\n          </div>\n\n          <Button\n            onClick={handleSuccessModalClose}\n            className=\"w-full h-12 text-base font-bold rounded-xl bg-gradient-to-r from-blue-700 to-blue-800 hover:from-blue-800 hover:to-blue-900\"\n          >\n            Return to Home\n          </Button>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\n// Officer Checklist Field Component\ninterface OfficerChecklistFieldProps {\n  item: OfficerChecklistItem;\n  index: number;\n  onChange: (index: number, checked: boolean, value?: string | number) => void;\n}\n\nconst OfficerChecklistField: React.FC<OfficerChecklistFieldProps> = ({ item, index, onChange }) => {\n  const { history, addToHistory } = useFieldHistory(item.id);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n\n  const handleChange = (checked: boolean, value?: string | number) => {\n    onChange(index, checked, value);\n    if (value && typeof value === 'string') {\n      addToHistory(value);\n    }\n  };\n\n  if (item.inputType === 'checkbox') {\n    return (\n      <div className=\"flex items-center gap-3 p-4 rounded-xl bg-white border-2 border-gray-300 transition-all hover:border-blue-400 shadow-sm\">\n        <input\n          type=\"checkbox\"\n          checked={item.checked}\n          onChange={(e) => handleChange(e.target.checked)}\n          className=\"w-6 h-6 rounded-lg border-2 border-gray-400 text-blue-600 focus:ring-4 focus:ring-blue-400 cursor-pointer\"\n        />\n        <label className=\"flex-1 font-semibold text-gray-900 cursor-pointer\">\n          {item.name}\n        </label>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-4 rounded-xl bg-white border-2 border-gray-300 space-y-2 shadow-sm\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          type=\"checkbox\"\n          checked={item.checked}\n          onChange={() => handleChange(!item.checked, item.value)}\n          className=\"w-5 h-5 rounded border-2 border-gray-400 text-blue-600 cursor-pointer\"\n        />\n        <label className=\"font-semibold text-gray-900 text-sm\">\n          {item.name}\n          {item.required && <span className=\"text-red-600 ml-1\">*</span>}\n        </label>\n      </div>\n      <div className=\"relative\">\n        <input\n          type={item.inputType === 'number' || item.inputType === 'percentage' ? 'number' : 'text'}\n          value={item.value || ''}\n          onChange={(e) => handleChange(item.checked, item.inputType === 'number' ? parseFloat(e.target.value) || '' : e.target.value)}\n          onFocus={() => setShowSuggestions(true)}\n          onBlur={() => setTimeout(() => setShowSuggestions(false), 200)}\n          placeholder={item.inputType === 'percentage' ? 'Enter %' : item.inputType === 'number' ? 'Enter number' : 'Enter value'}\n          className=\"w-full px-3 py-3 text-base rounded-lg border-2 border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-600 outline-none bg-white text-gray-900 font-medium\"\n        />\n        {showSuggestions && history.length > 0 && item.inputType === 'text' && (\n          <div className=\"absolute z-10 w-full mt-1 bg-white border-2 border-gray-300 rounded-lg shadow-xl max-h-40 overflow-y-auto\">\n            {history.map((val, idx) => (\n              <button\n                key={idx}\n                onClick={() => {\n                  handleChange(true, val);\n                  setShowSuggestions(false);\n                }}\n                className=\"w-full text-left px-3 py-2 text-sm hover:bg-blue-50 transition-colors text-gray-900 font-medium\"\n              >\n                {val}\n              </button>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};"],"names":["__iconNode","CheckCheck","createLucideIcon","Check","ChevronLeft","ChevronRight","Gauge","Shield","Wrench","InspectionCard","item","status","hasExistingDefect","onStatusChange","showNotesModal","setShowNotesModal","useState","modalType","setModalType","notes","setNotes","showDefectStatusModal","setShowDefectStatusModal","radioNumber","setRadioNumber","itemName","expectedQuantity","itemNote","isRadioItem","handleStatusClick","newStatus","handleDefectStatusChoice","choice","handleSubmitNotes","handleCancel","jsxs","Fragment","cn","jsx","X","AlertTriangle","e","Modal","Button","WrenchIcon","useDeviceDetection","deviceInfo","setDeviceInfo","width","height","useEffect","handleResize","useLocalStorage","key","initialValue","readValue","error","storedValue","setStoredValue","setValue","value","valueToStore","useFieldHistory","fieldKey","maxHistory","history","setHistory","prev","filtered","InspectionWizard","navigate","useNavigate","device","user","setUser","checklist","setChecklist","currentStep","setCurrentStep","items","setItems","existingDefects","setExistingDefects","officerItems","setOfficerItems","isLoading","setIsLoading","isSubmitting","setIsSubmitting","showSuccessModal","setShowSuccessModal","submissionDefectCount","setSubmissionDefectCount","userEmail","setUserEmail","isSendingEmail","setIsSendingEmail","lastOfficerValues","setLastOfficerValues","userData","parsedUser","loadChecklistData","checklistFile","data","itemsMap","compartment","itemId","defects","githubService","handleItemStatusChange","photoUrl","prevItems","newItems","handleOfficerItemChange","index","checked","newValues","handleCheckAllOfficer","defaultValue","handleCheckAllCompartment","currentCompartment","existingItem","handleSubmit","c","i","totalItems","completedItems","checklistType","notificationDefects","defect","notifyError","errorMessage","handleSendEmail","emailBody","handleSuccessModalClose","hasOfficerChecklist","totalSteps","isOfficerStep","compartmentIndex","isLastStep","canProceed","today","todaySchedule","containerClass","gridClass","_","idx","Calendar","task","Card","CardHeader","CardContent","OfficerChecklistField","checkedItem","defectKey","itemData","CheckCircle","onChange","addToHistory","showSuggestions","setShowSuggestions","handleChange","val"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}