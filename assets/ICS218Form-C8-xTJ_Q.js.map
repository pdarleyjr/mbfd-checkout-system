{"version":3,"file":"ICS218Form-C8-xTJ_Q.js","sources":["../../src/components/ics218/IncidentInfoStep.tsx","../../src/components/VehicleAutocomplete.tsx","../../src/components/ics218/VehicleTableStep.tsx","../../src/components/ics218/PreparedByStep.tsx","../../src/components/ics218/ReviewStep.tsx","../../src/components/ics218/ICS218Form.tsx"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport type { ICS218FormData } from '../../types';\n\ninterface IncidentInfoStepProps {\n  formData: Partial<ICS218FormData>;\n  onChange: (field: keyof ICS218FormData, value: any) => void;\n  onNext: () => void;\n  errors: Record<string, string>;\n}\n\nconst VEHICLE_CATEGORIES = [\n  'Buses',\n  'Generators',\n  'Dozers',\n  'Pickups/Sedans',\n  'Rental Cars',\n  'Heavy Equipment',\n  'Emergency Vehicles',\n  'Support Vehicles',\n  'Other',\n];\n\nexport const IncidentInfoStep: React.FC<IncidentInfoStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  errors,\n}) => {\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onNext();\n  };\n\n  const getCurrentDate = () => {\n    return new Date().toISOString().split('T')[0]; // YYYY-MM-DD\n  };\n\n  const getCurrentTime = () => {\n    const now = new Date();\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`; // HH:MM\n  };\n\n  return (\n    <motion.form\n      className=\"space-y-6 p-4 md:p-6\"\n      onSubmit={handleSubmit}\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Incident Information\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Basic incident details for vehicle inventory\n        </p>\n      </div>\n\n      {/* Incident Name */}\n      <div>\n        <label\n          htmlFor=\"incidentName\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Incident Name *\n        </label>\n        <input\n          type=\"text\"\n          id=\"incidentName\"\n          value={formData.incidentName || ''}\n          onChange={(e) => onChange('incidentName', e.target.value)}\n          placeholder=\"e.g., Wildfire Response 2024\"\n          maxLength={100}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.incidentName \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-orange-500 focus:ring-orange-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.incidentName && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.incidentName}</p>\n        )}\n      </div>\n\n      {/* Incident Number */}\n      <div>\n        <label\n          htmlFor=\"incidentNumber\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Incident Number *\n        </label>\n        <input\n          type=\"text\"\n          id=\"incidentNumber\"\n          value={formData.incidentNumber || ''}\n          onChange={(e) => onChange('incidentNumber', e.target.value)}\n          placeholder=\"e.g., INC-2024-00123\"\n          maxLength={50}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.incidentNumber \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-orange-500 focus:ring-orange-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.incidentNumber && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.incidentNumber}</p>\n        )}\n      </div>\n\n      {/* Date/Time Prepared Row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label\n            htmlFor=\"datePrepared\"\n            className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n          >\n            Date Prepared *\n          </label>\n          <input\n            type=\"date\"\n            id=\"datePrepared\"\n            value={formData.datePrepared || getCurrentDate()}\n            onChange={(e) => onChange('datePrepared', e.target.value)}\n            max={getCurrentDate()}\n            className={`\n              w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n              focus:outline-none focus:ring-4\n              ${errors.datePrepared \n                ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n                : 'border-gray-300 focus:border-orange-500 focus:ring-orange-100'\n              }\n            `}\n            style={{ minHeight: '56px' }}\n          />\n          {errors.datePrepared && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.datePrepared}</p>\n          )}\n        </div>\n\n        <div>\n          <label\n            htmlFor=\"timePrepared\"\n            className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n          >\n            Time Prepared *\n          </label>\n          <input\n            type=\"time\"\n            id=\"timePrepared\"\n            value={formData.timePrepared || getCurrentTime()}\n            onChange={(e) => onChange('timePrepared', e.target.value)}\n            className={`\n              w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n              focus:outline-none focus:ring-4\n              ${errors.timePrepared \n                ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n                : 'border-gray-300 focus:border-orange-500 focus:ring-orange-100'\n              }\n            `}\n            style={{ minHeight: '56px' }}\n          />\n          {errors.timePrepared && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.timePrepared}</p>\n          )}\n        </div>\n      </div>\n\n      {/* Vehicle Category */}\n      <div>\n        <label\n          htmlFor=\"vehicleCategory\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Vehicle/Equipment Category *\n        </label>\n        <select\n          id=\"vehicleCategory\"\n          value={formData.vehicleCategory || ''}\n          onChange={(e) => onChange('vehicleCategory', e.target.value)}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.vehicleCategory \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-orange-500 focus:ring-orange-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        >\n          <option value=\"\">Select a category...</option>\n          {VEHICLE_CATEGORIES.map(category => (\n            <option key={category} value={category}>\n              {category}\n            </option>\n          ))}\n        </select>\n        {errors.vehicleCategory && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.vehicleCategory}</p>\n        )}\n      </div>\n\n      {/* Operational Period (Optional) */}\n      <div>\n        <label\n          htmlFor=\"operationalPeriod\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Operational Period <span className=\"text-gray-500\">(Optional)</span>\n        </label>\n        <input\n          type=\"text\"\n          id=\"operationalPeriod\"\n          value={formData.operationalPeriod || ''}\n          onChange={(e) => onChange('operationalPeriod', e.target.value)}\n          placeholder=\"e.g., 0800-2000 Day 1\"\n          maxLength={50}\n          className=\"\n            w-full px-4 py-3 text-base rounded-xl border-2 border-gray-300\n            transition-all focus:outline-none focus:ring-4\n            focus:border-orange-500 focus:ring-orange-100\n          \"\n          style={{ minHeight: '56px' }}\n        />\n      </div>\n\n      {/* Next Button */}\n      <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n        <button\n          type=\"submit\"\n          className=\"\n            w-full bg-orange-600 hover:bg-orange-700 text-white font-bold\n            py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n            focus:outline-none focus:ring-4 focus:ring-orange-300\n          \"\n          style={{ minHeight: '56px' }}\n        >\n          Next: Vehicle Table\n        </button>\n      </TouchFeedback>\n    </motion.form>\n  );\n};\n\nexport default IncidentInfoStep;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport type { Vehicle } from '../types';\nimport SkeletonLoader from './mobile/SkeletonLoader';\n\ninterface VehicleAutocompleteProps {\n  value: string;\n  onChange: (value: string, vehicle?: Vehicle) => void;\n  onVehicleSelect?: (vehicle: Vehicle) => void;\n  apiEndpoint?: string;\n  className?: string;\n  error?: string;\n}\n\nexport const VehicleAutocomplete: React.FC<VehicleAutocompleteProps> = ({\n  value,\n  onChange,\n  onVehicleSelect,\n  apiEndpoint = '/api/vehicles/autocomplete',\n  className = '',\n  error,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(value);\n  const debounceTimer = useRef<number | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Debounced search\n  useEffect(() => {\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n\n    if (searchQuery.trim().length < 2) {\n      setVehicles([]);\n      setIsOpen(false);\n      return;\n    }\n\n    debounceTimer.current = setTimeout(async () => {\n      setIsLoading(true);\n      try {\n        const response = await fetch(`${apiEndpoint}?q=${encodeURIComponent(searchQuery)}`);\n        if (response.ok) {\n          const data = await response.json();\n          setVehicles(data.vehicles || []);\n          setIsOpen(true);\n        }\n      } catch (error)  {\n        console.error('Vehicle search error:', error);\n        setVehicles([]);\n      } finally {\n        setIsLoading(false);\n      }\n    }, 300);\n\n    return () => {\n      if (debounceTimer.current) {\n        clearTimeout(debounceTimer.current);\n      }\n    };\n  }, [searchQuery, apiEndpoint]);\n\n  // Handle click outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    setSearchQuery(newValue);\n    onChange(newValue);\n  };\n\n  const handleVehicleSelect = (vehicle: Vehicle) => {\n    setSearchQuery(vehicle.regUnit || '');\n    onChange(vehicle.regUnit || '', vehicle);\n    onVehicleSelect?.(vehicle);\n    setIsOpen(false);\n  };\n\n  return (\n    <div ref={containerRef} className={`relative ${className}`}>\n      {/* Input Field */}\n      <div className=\"relative\">\n        <input\n          type=\"text\"\n          value={searchQuery}\n          onChange={handleInputChange}\n          onFocus={() => searchQuery.length >= 2 && setIsOpen(true)}\n          placeholder=\"Search vehicle ID, make, or type...\"\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${error \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n            }\n            ${isLoading ? 'pr-12' : ''}\n          `}\n          style={{ minHeight: '48px' }} // 88px touch target with padding\n        />\n        {isLoading && (\n          <div className=\"absolute right-4 top-1/2 -translate-y-1/2\">\n            <motion.div\n              className=\"w-5 h-5 border-3 border-blue-500 border-t-transparent rounded-full\"\n              animate={{ rotate: 360 }}\n              transition={{ repeat: Infinity, duration: 1, ease: 'linear' }}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <p className=\"mt-1 text-sm text-red-600\">{error}</p>\n      )}\n\n      {/* Dropdown Results */}\n      <AnimatePresence>\n        {isOpen && vehicles.length > 0 && (\n          <motion.div\n            className=\"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-h-80 overflow-y-auto\"\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            transition={{ duration: 0.2 }}\n          >\n            {vehicles.map((vehicle) => (\n              <motion.button\n                key={vehicle.id}\n                onClick={() => handleVehicleSelect(vehicle)}\n                className=\"w-full px-4 py-3 text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors border-b border-gray-200 dark:border-gray-700 last:border-b-0\"\n                style={{ minHeight: '56px' }}\n                whileHover={{ backgroundColor: 'rgba(59, 130, 246, 0.1)' }}\n                whileTap={{ scale: 0.98 }}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <p className=\"font-semibold text-gray-900 dark:text-white\">\n                      {vehicle.regUnit}\n                    </p>\n                    {(vehicle.vehicleMake || vehicle.vehicleType) && (\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        {[vehicle.vehicleMake, vehicle.vehicleType]\n                          .filter(Boolean)\n                          .join(' ')}\n                      </p>\n                    )}\n                    {vehicle.licenseNumber && (\n                      <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-0.5\">\n                        {vehicle.licenseNumber}\n                      </p>\n                    )}\n                  </div>\n                  {vehicle.vehicleStatus && (\n                    <span\n                      className={`\n                        ml-3 px-2 py-1 text-xs font-medium rounded-full\n                        ${vehicle.vehicleStatus === 'Active' \n                          ? 'bg-green-100 text-green-800' \n                          : vehicle.vehicleStatus === 'Inactive'\n                          ? 'bg-red-100 text-red-800'\n                          : 'bg-yellow-100 text-yellow-800'\n                        }\n                      `}\n                    >\n                      {vehicle.vehicleStatus}\n                    </span>\n                  )}\n                </div>\n              </motion.button>\n            ))}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Loading Skeleton */}\n      {isLoading && isOpen && (\n        <div className=\"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-4\">\n          <SkeletonLoader type=\"text\" count={3} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VehicleAutocomplete;\n","import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport VehicleAutocomplete from '../VehicleAutocomplete';\nimport type { ICS218FormData, Vehicle } from '../../types';\n\ninterface VehicleTableStepProps {\n  formData: Partial<ICS218FormData>;\n  onChange: (field: keyof ICS218FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n  errors: Record<string, string>;\n}\n\nexport const VehicleTableStep: React.FC<VehicleTableStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n  errors,\n}) => {\n  const [expandedRow, setExpandedRow] = useState<number | null>(0);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onNext();\n  };\n\n  const handleAddVehicle = () => {\n    const newVehicle = {\n      orderRequestNumber: '',\n      incidentIdNo: '',\n      classification: '',\n      make: '',\n      categoryKindType: '',\n      features: '',\n      agencyOwner: '',\n      operatorNameContact: '',\n      vehicleLicenseId: '',\n      incidentAssignment: '',\n      startDateTime: new Date().toISOString().slice(0, 16), // Format for datetime-local input\n      releaseDateTime: '',\n      airtableId: '',\n    };\n    \n    const updatedVehicles = [...(formData.vehicles || []), newVehicle];\n    onChange('vehicles', updatedVehicles);\n    setExpandedRow(updatedVehicles.length - 1); // Expand new row\n  };\n\n  const handleRemoveVehicle = (index: number) => {\n    const updatedVehicles = (formData.vehicles || []).filter((_, i) => i !== index);\n    onChange('vehicles', updatedVehicles);\n    if (expandedRow === index) {\n      setExpandedRow(null);\n    } else if (expandedRow !== null && expandedRow > index) {\n      setExpandedRow(expandedRow - 1);\n    }\n  };\n\n  const handleVehicleFieldChange = (index: number, field: string, value: any) => {\n    const updatedVehicles = [...(formData.vehicles || [])];\n    updatedVehicles[index] = {\n      ...updatedVehicles[index],\n      [field]: value,\n    };\n    onChange('vehicles', updatedVehicles);\n  };\n\n  const handleAirtableVehicleSelect = (index: number, vehicle: Vehicle) => {\n    // Auto-populate 7 fields from Airtable per ICS218_FORM_ANALYSIS.md\n    const updatedVehicles = [...(formData.vehicles || [])];\n    updatedVehicles[index] = {\n      ...updatedVehicles[index],\n      // Auto-populated fields\n      incidentIdNo: vehicle.vehicleId || '',         // Incident ID from Vehicle ID\n      classification: vehicle.vehicleType || '',       // Classification\n      make: vehicle.vehicleMake || '',                // Make\n      categoryKindType: vehicle.vehicleType || '',    // Category/Kind/Type\n      features: vehicle.features || '',               // Features\n      agencyOwner: vehicle.agency || '',              // Agency/Owner\n      vehicleLicenseId: vehicle.licenseNumber || '',  // License/ID\n      airtableId: vehicle.id || '',                   // Store Airtable reference\n    };\n    onChange('vehicles', updatedVehicles);\n  };\n\n  return (\n    <motion.form\n      className=\"space-y-6 p-4 md:p-6\"\n      onSubmit={handleSubmit}\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Vehicle/Equipment Inventory\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Add vehicles using Airtable autocomplete. Many fields auto-fill from database.\n        </p>\n      </div>\n\n      {/* Vehicle List */}\n      <div className=\"space-y-4\">\n        {(formData.vehicles || []).map((vehicle, index) => (\n          <motion.div\n            key={index}\n            className=\"border-2 border-gray-300 dark:border-gray-600 rounded-xl overflow-hidden bg-white dark:bg-gray-800\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.05 }}\n          >\n            {/* Vehicle Header */}\n            <div\n              className=\"flex items-center justify-between p-4 cursor-pointer bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors\"\n              onClick={() => setExpandedRow(expandedRow === index ? null : index)}\n            >\n              <div className=\"flex items-center gap-3\">\n                <span className=\"text-lg font-bold text-gray-700 dark:text-gray-300\">\n                  #{index + 1}\n                </span>\n                <div>\n                  <p className=\"font-semibold text-gray-900 dark:text-white\">\n                    {vehicle.make || 'New Vehicle'}\n                  </p>\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    {vehicle.vehicleLicenseId || 'No license set'}\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleRemoveVehicle(index);\n                  }}\n                  className=\"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-lg transition-colors\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </button>\n                <svg\n                  className={`w-5 h-5 transition-transform ${expandedRow === index ? 'rotate-180' : ''}`}\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </div>\n            </div>\n\n            {/* Expanded Form */}\n            <AnimatePresence>\n              {expandedRow === index && (\n                <motion.div\n                  className=\"p-4 space-y-4 border-t border-gray-200 dark:border-gray-700\"\n                  initial={{ height: 0, opacity: 0 }}\n                  animate={{ height: 'auto', opacity: 1 }}\n                  exit={{ height: 0, opacity: 0 }}\n                  transition={{ duration: 0.2 }}\n                >\n                  {/* Airtable Autocomplete */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                      üîç Search Vehicle (Auto-populate from Airtable)\n                    </label>\n                    <VehicleAutocomplete\n                      value={vehicle.make || ''}\n                      onChange={(value) => handleVehicleFieldChange(index, 'make', value)}\n                      onVehicleSelect={(selectedVehicle) => handleAirtableVehicleSelect(index, selectedVehicle)}\n                      className=\"w-full\"\n                    />\n                    <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                      Search by vehicle ID, make, or type to auto-fill fields\n                    </p>\n                  </div>\n\n                  {/* Grid Layout for Fields */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {/* Order Request Number (Manual) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Order Request # (optional)\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.orderRequestNumber || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'orderRequestNumber', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n                      />\n                    </div>\n\n                    {/* Incident ID (Auto-filled) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Incident ID # ‚ú® Auto\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.incidentIdNo || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'incidentIdNo', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white bg-blue-50 dark:bg-blue-900/20\"\n                      />\n                    </div>\n\n                    {/* Classification (Auto-filled) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Classification ‚ú® Auto *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.classification || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'classification', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white bg-blue-50 dark:bg-blue-900/20\"\n                        required\n                      />\n                    </div>\n\n                    {/* Make (Auto-filled) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Make ‚ú® Auto *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.make || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'make', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white bg-blue-50 dark:bg-blue-900/20\"\n                        required\n                      />\n                    </div>\n\n                    {/* Category/Kind/Type (Auto-filled) */}\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Category/Kind/Type ‚ú® Auto *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.categoryKindType || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'categoryKindType', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white bg-blue-50 dark:bg-blue-900/20\"\n                        required\n                      />\n                    </div>\n\n                    {/* Features (Auto-filled) */}\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Features ‚ú® Auto\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.features || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'features', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white bg-blue-50 dark:bg-blue-900/20\"\n                      />\n                    </div>\n\n                    {/* Agency/Owner (Auto-filled) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Agency/Owner ‚ú® Auto *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.agencyOwner || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'agencyOwner', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white bg-blue-50 dark:bg-blue-900/20\"\n                        required\n                      />\n                    </div>\n\n                    {/* Operator Name/Contact (Manual) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Operator Name/Contact *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.operatorNameContact || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'operatorNameContact', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n                        required\n                      />\n                    </div>\n\n                    {/* License/ID (Auto-filled) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        License/ID # ‚ú® Auto *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.vehicleLicenseId || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'vehicleLicenseId', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white bg-blue-50 dark:bg-blue-900/20\"\n                        required\n                      />\n                    </div>\n\n                    {/* Incident Assignment (Manual) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Incident Assignment *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={vehicle.incidentAssignment || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'incidentAssignment', e.target.value)}\n                        placeholder=\"e.g., Search & Rescue, Transport\"\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n                        required\n                      />\n                    </div>\n\n                    {/* Start Date/Time (Manual) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Start Date/Time *\n                      </label>\n                      <input\n                        type=\"datetime-local\"\n                        value={vehicle.startDateTime || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'startDateTime', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n                        required\n                      />\n                    </div>\n\n                    {/* Release Date/Time (Manual, Optional) */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Release Date/Time (optional)\n                      </label>\n                      <input\n                        type=\"datetime-local\"\n                        value={vehicle.releaseDateTime || ''}\n                        onChange={(e) => handleVehicleFieldChange(index, 'releaseDateTime', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n                      />\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </motion.div>\n        ))}\n      </div>\n\n      {/* Add Vehicle Button */}\n      <TouchFeedback onTap={handleAddVehicle} hapticType=\"light\">\n        <button\n          type=\"button\"\n          onClick={handleAddVehicle}\n          className=\"\n            w-full bg-blue-600 hover:bg-blue-700 text-white font-medium\n            py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n            focus:outline-none focus:ring-4 focus:ring-blue-300\n            flex items-center justify-center gap-2\n          \"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Add Vehicle\n        </button>\n      </TouchFeedback>\n\n      {errors.vehicles && (\n        <p className=\"text-sm text-red-600 bg-red-50 dark:bg-red-900/20 rounded-lg p-3\">\n          {errors.vehicles}\n        </p>\n      )}\n\n      <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n        * Required fields | ‚ú® Auto = Auto-populated from Airtable\n      </p>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3\">\n        <TouchFeedback onTap={onBack} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"submit\"\n            className=\"\n              flex-1 bg-orange-600 hover:bg-orange-700 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-orange-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Next: Prepared By ({(formData.vehicles || []).length} Vehicles)\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.form>\n  );\n};\n\nexport default VehicleTableStep;\n","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport SignatureCanvas from '../SignatureCanvas';\nimport type { ICS218FormData } from '../../types';\n\ninterface PreparedByStepProps {\n  formData: Partial<ICS218FormData>;\n  onChange: (field: keyof ICS218FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n  errors: Record<string, string>;\n}\n\nexport const PreparedByStep: React.FC<PreparedByStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n  errors,\n}) => {\n  const [showSignaturePad, setShowSignaturePad] = useState(false);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onNext();\n  };\n\n  const handleSignatureSave = (signature: string) => {\n    onChange('preparedBy', {\n      ...formData.preparedBy,\n      signature,\n      signatureTimestamp: new Date().toISOString(),\n    });\n    setShowSignaturePad(false);\n  };\n\n  const handleSignatureClear = () => {\n    onChange('preparedBy', {\n      ...formData.preparedBy,\n      signature: '',\n      signatureTimestamp: '',\n    });\n  };\n\n  return (\n    <motion.form\n      className=\"space-y-6 p-4 md:p-6\"\n      onSubmit={handleSubmit}\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Prepared By Information\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n         Form preparer details and signature\n        </p>\n      </div>\n\n      {/* Name */}\n      <div>\n        <label\n          htmlFor=\"preparedByName\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Name *\n        </label>\n        <input\n          type=\"text\"\n          id=\"preparedByName\"\n          value={formData.preparedBy?.name || ''}\n          onChange={(e) => onChange('preparedBy', {\n            ...formData.preparedBy,\n            name: e.target.value,\n          })}\n          placeholder=\"Enter your full name\"\n          maxLength={100}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.preparedByName \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-orange-500 focus:ring-orange-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.preparedByName && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.preparedByName}</p>\n        )}\n      </div>\n\n      {/* Position/Title */}\n      <div>\n        <label\n          htmlFor=\"preparedByPosition\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Position/Title *\n        </label>\n        <input\n          type=\"text\"\n          id=\"preparedByPosition\"\n          value={formData.preparedBy?.positionTitle || ''}\n          onChange={(e) => onChange('preparedBy', {\n            ...formData.preparedBy,\n            positionTitle: e.target.value,\n          })}\n          placeholder=\"e.g., Equipment Manager, Logistics Chief\"\n          maxLength={100}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.preparedByPosition \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-orange-500 focus:ring-orange-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.preparedByPosition && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.preparedByPosition}</p>\n        )}\n      </div>\n\n      {/* Signature */}\n      <div>\n        <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n          Signature *\n        </label>\n        \n        {!formData.preparedBy?.signature ? (\n          <div className=\"space-y-3\">\n            <button\n              type=\"button\"\n              onClick={() => setShowSignaturePad(true)}\n              className=\"\n                w-full bg-orange-100 hover:bg-orange-200 text-orange-700 font-medium\n                py-4 px-6 rounded-xl transition-all border-2 border-dashed border-orange-300\n                focus:outline-none focus:ring-4 focus:ring-orange-200\n              \"\n              style={{ minHeight: '56px' }}\n            >\n              <span className=\"text-lg\">‚úçÔ∏è</span> Tap to Sign\n            </button>\n            {errors.preparedBySignature && (\n              <p className=\"text-sm text-red-600\">{errors.preparedBySignature}</p>\n            )}\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            <div className=\"bg-white dark:bg-gray-700 border-2 border-green-500 rounded-xl p-4\">\n              <img\n                src={formData.preparedBy.signature}\n                alt=\"Signature\"\n                className=\"max-w-full h-auto\"\n                style={{ maxHeight: '100px' }}\n              />\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-2\">\n                Signed: {formData.preparedBy.signatureTimestamp ? new Date(formData.preparedBy.signatureTimestamp).toLocaleString() : 'Unknown'}\n              </p>\n            </div>\n            <button\n              type=\"button\"\n              onClick={handleSignatureClear}\n              className=\"\n                w-full bg-red-100 hover:bg-red-200 text-red-700 font-medium\n                py-3 px-6 rounded-xl transition-all\n                focus:outline-none focus:ring-4 focus:ring-red-200\n              \"\n            >\n              Clear Signature\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3\">\n        <TouchFeedback onTap={onBack} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"submit\"\n            className=\"\n              flex-1 bg-orange-600 hover:bg-orange-700 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-orange-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Next: Review & Submit\n          </button>\n        </TouchFeedback>\n      </div>\n\n      {/* Signature Pad Modal */}\n      {showSignaturePad && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                Sign Here\n              </h3>\n              <button\n                type=\"button\"\n                onClick={() => setShowSignaturePad(false)}\n                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\">\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <SignatureCanvas\n              onSave={handleSignatureSave}\n            />\n          </div>\n        </div>\n      )}\n    </motion.form>\n  );\n};\n\nexport default PreparedByStep;\n","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport type { ICS218FormData } from '../../types';\n\ninterface ReviewStepProps {\n  formData: Partial<ICS218FormData>;\n  onSubmit: () => void;\n  onBack: () => void;\n  onGoToStep: (step: number) => void;\n}\n\nexport const ReviewStep: React.FC<ReviewStepProps> = ({\n  formData,\n  onSubmit,\n  onBack,\n  onGoToStep,\n}) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n    try {\n      await onSubmit();\n    } catch (error) {\n      console.error('Submission error:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Review & Submit\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Review all information before submitting\n        </p>\n      </div>\n\n      {/* Incident Information Section */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Incident Information\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(0)}\n            className=\"text-orange-600 hover:text-orange-700 text-sm font-medium\"\n          >\n            Edit\n          </button>\n        </div>\n        <div className=\"space-y-2 text-sm\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600 dark:text-gray-400\">Incident Name:</span>\n            <span className=\"font-medium text-gray-900 dark:text-white\">{formData.incidentName}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600 dark:text-gray-400\">Incident Number:</span>\n            <span className=\"font-medium text-gray-900 dark:text-white\">{formData.incidentNumber}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600 dark:text-gray-400\">Date Prepared:</span>\n            <span className=\"font-medium text-gray-900 dark:text-white\">{formData.datePrepared} {formData.timePrepared}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-600 dark:text-gray-400\">Vehicle Category:</span>\n            <span className=\"font-medium text-gray-900 dark:text-white\">{formData.vehicleCategory}</span>\n          </div>\n          {formData.operationalPeriod && (\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600 dark:text-gray-400\">Operational Period:</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{formData.operationalPeriod}</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Vehicle Table Section */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Vehicle Inventory\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(1)}\n            className=\"text-orange-600 hover:text-orange-700 text-sm font-medium\"\n          >\n            Edit\n          </button>\n        </div>\n        <div className=\"text-sm\">\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Total vehicles: <span className=\"font-semibold text-gray-900 dark:text-white\">{formData.vehicles?.length || 0}</span>\n          </p>\n          {formData.vehicles && formData.vehicles.length > 0 && (\n            <div className=\"mt-3 space-y-2\">\n              {formData.vehicles.map((vehicle, index) => (\n                <div key={index} className=\"flex items-center gap-2 text-gray-700 dark:text-gray-300\">\n                  <span className=\"text-orange-600 font-medium\">#{index + 1}</span>\n                  <span className=\"truncate\">\n                    {vehicle.make} {vehicle.classification} - {vehicle.vehicleLicenseId}\n                  </span>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Prepared By Section */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Prepared By\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(2)}\n            className=\"text-orange-600 hover:text-orange-700 text-sm font-medium\"\n          >\n            Edit\n          </button>\n        </div>\n        <div className=\"space-y-3\">\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600 dark:text-gray-400\">Name:</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{formData.preparedBy?.name}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600 dark:text-gray-400\">Position/Title:</span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">{formData.preparedBy?.positionTitle}</span>\n            </div>\n          </div>\n          {formData.preparedBy?.signature && (\n            <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2\">Signature:</p>\n              <img\n                src={formData.preparedBy.signature}\n                alt=\"Signature\"\n                className=\"max-w-full h-auto\"\n                style={{ maxHeight: '60px' }}\n              />\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                {formData.preparedBy.signatureTimestamp && new Date(formData.preparedBy.signatureTimestamp).toLocaleString()}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Important Notice */}\n      <div className=\"bg-orange-50 dark:bg-orange-900/20 border-2 border-orange-200 dark:border-orange-800 rounded-xl p-4\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"text-orange-600 dark:text-orange-400 text-2xl\">‚ö†Ô∏è</div>\n          <div>\n            <h4 className=\"font-semibold text-orange-900 dark:text-orange-300 mb-1\">\n              Before Submitting\n            </h4>\n            <p className=\"text-sm text-orange-800 dark:text-orange-400\">\n              Please verify all information is correct. Once submitted, this form will be logged\n              and cannot be edited.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3\">\n        <TouchFeedback onTap={onBack} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            disabled={isSubmitting}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n              disabled:cursor-not-allowed\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={handleSubmit} hapticType=\"heavy\">\n          <button\n            type=\"button\"\n            onClick={handleSubmit}\n            disabled={isSubmitting}\n            className=\"\n              flex-1 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800\n              disabled:from-gray-300 disabled:to-gray-400 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-orange-300\n              disabled:cursor-not-allowed\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            {isSubmitting ? (\n              <span className=\"flex items-center justify-center gap-2\">\n                <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                </svg>\n                Submitting...\n              </span>\n            ) : (\n              '‚úì Submit Form'\n            )}\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default ReviewStep;\n","import React, { useState, useEffect } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport toast from 'react-hot-toast';\nimport { Save, Trash2, Home } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport ProgressIndicator from '../mobile/ProgressIndicator';\nimport IncidentInfoStep from './IncidentInfoStep';\nimport VehicleTableStep from './VehicleTableStep';\nimport PreparedByStep from './PreparedByStep';\nimport ReviewStep from './ReviewStep';\nimport type { ICS218FormData, ICS218DraftData } from '../../types';\n\nconst STEPS = [\n  { id: 0, title: 'Incident Info', component: IncidentInfoStep },\n  { id: 1, title: 'Vehicle Table', component: VehicleTableStep },\n  { id: 2, title: 'Prepared By', component: PreparedByStep },\n  { id: 3, title: 'Review & Submit', component: ReviewStep },\n];\n\nconst INITIAL_FORM_DATA: Partial<ICS218FormData> = {\n  status: 'draft',\n  incidentName: '',\n  incidentNumber: '',\n  datePrepared: new Date().toISOString().split('T')[0],\n  timePrepared: new Date().toTimeString().slice(0, 5),\n  vehicleCategory: '',\n  operationalPeriod: '',\n  vehicles: [],\n  preparedBy: {\n    name: '',\n    positionTitle: '',\n    signature: '',\n    signatureTimestamp: '',\n  },\n};\n\nexport const ICS218Form: React.FC = () => {\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [formData, setFormData] = useState<Partial<ICS218FormData>>(INITIAL_FORM_DATA);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [showDraftDialog, setShowDraftDialog] = useState(false);\n  const [recoveredDraft, setRecoveredDraft] = useState<ICS218DraftData | null>(null);\n\n  // Auto-save to localStorage every 30 seconds\n  useEffect(() => {\n    const saveInterval = setInterval(() => {\n      if (formData && !isSubmitted && currentStep > 0) {\n        const draft: ICS218DraftData = {\n          formData,\n          currentStep,\n          savedAt: new Date().toISOString(),\n          expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 days\n        };\n        localStorage.setItem('ics218-draft', JSON.stringify(draft));\n        toast.success('Draft auto-saved', { duration: 1500, icon: 'üíæ' });\n      }\n    }, 30000); // 30 seconds\n\n    return () => clearInterval(saveInterval);\n  }, [formData, currentStep, isSubmitted]);\n\n  // Draft recovery on mount\n  useEffect(() => {\n    const draftJson = localStorage.getItem('ics218-draft');\n    if (draftJson) {\n      try {\n        const draft = JSON.parse(draftJson) as ICS218DraftData;\n        const expiryDate = new Date(draft.expiresAt);\n        const now = new Date();\n        \n        if (expiryDate > now) {\n          setRecoveredDraft(draft);\n          setShowDraftDialog(true);\n        } else {\n          // Draft expired, clear it\n          localStorage.removeItem('ics218-draft');\n        }\n      } catch (error) {\n        console.error('Failed to parse draft:', error);\n        localStorage.removeItem('ics218-draft');\n      }\n    }\n  }, []);\n\n  const handleResumeDraft = () => {\n    if (recoveredDraft) {\n      setFormData(recoveredDraft.formData);\n      setCurrentStep(recoveredDraft.currentStep);\n      setShowDraftDialog(false);\n      toast.success('Draft restored!');\n    }\n  };\n\n  const handleDiscardDraft = () => {\n    localStorage.removeItem('ics218-draft');\n    setShowDraftDialog(false);\n    setRecoveredDraft(null);\n    toast('Draft discarded', { icon: 'üóëÔ∏è' });\n  };\n\n  const handleFieldChange = (field: keyof ICS218FormData, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error for this field\n    if (errors[field]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  };\n\n  const validateStep = (step: number): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    switch (step) {\n      case 0: // Incident Info\n        if (!formData.incidentName || formData.incidentName.length < 3) {\n          newErrors.incidentName = 'Incident name must be at least 3 characters';\n        }\n        if (!formData.incidentNumber) {\n          newErrors.incidentNumber = 'Incident number is required';\n        }\n        if (!formData.datePrepared) {\n          newErrors.datePrepared = 'Date is required';\n        }\n        if (!formData.timePrepared) {\n          newErrors.timePrepared = 'Time is required';\n        }\n        if (!formData.vehicleCategory) {\n          newErrors.vehicleCategory = 'Vehicle category is required';\n        }\n        break;\n\n      case 1: // Vehicle Table\n        if (!formData.vehicles || formData.vehicles.length === 0) {\n          newErrors.vehicles = 'At least one vehicle must be added';\n        }\n        break;\n\n      case 2: // Prepared By\n        if (!formData.preparedBy?.name || (formData.preparedBy?.name || '').length < 2) {\n          newErrors.preparedByName = 'Name must be at least 2 characters';\n        }\n        if (!formData.preparedBy?.positionTitle) {\n          newErrors.preparedByPosition = 'Position/Title is required';\n        }\n        if (!formData.preparedBy?.signature) {\n          newErrors.preparedBySignature = 'Signature is required';\n        }\n        break;\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleNext = () => {\n    if (validateStep(currentStep)) {\n      if (currentStep < STEPS.length - 1) {\n        setCurrentStep(currentStep + 1);\n      }\n    } else {\n      toast.error('Please complete all required fields');\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleGoToStep = (step: number) => {\n    if (step >= 0 && step < STEPS.length) {\n      setCurrentStep(step);\n    }\n  };\n\n  const handleManualSave = () => {\n    const draft: ICS218DraftData = {\n      formData,\n      currentStep,\n      savedAt: new Date().toISOString(),\n      expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n    };\n    localStorage.setItem('ics218-draft', JSON.stringify(draft));\n    toast.success('Draft saved manually!', { icon: 'üíæ' });\n  };\n\n  const handleClearForm = () => {\n    if (confirm('Are you sure you want to clear all form data? This cannot be undone.')) {\n      setFormData(INITIAL_FORM_DATA);\n      setCurrentStep(0);\n      setErrors({});\n      localStorage.removeItem('ics218-draft');\n      toast('Form cleared', { icon: 'üóëÔ∏è' });\n    }\n  };\n\n  const handleSubmit = async () => {\n    try {\n      // Prepare submission data\n      const submissionData: Partial<ICS218FormData> = {\n        ...formData,\n        id: `ICS218-${Date.now()}`,\n        submittedAt: new Date().toISOString(),\n        status: 'submitted',\n      };\n\n      // Submit to backend (Phase 3 will implement this)\n      // const response = await fetch('/api/ics218/submit', {\n      //   method: 'POST',\n      //   headers: {\n      //     'Content-Type': 'application/json',\n      //     'Authorization': `Bearer ${sessionStorage.getItem('ics218_access_token')}`,\n      //   },\n      //   body: JSON.stringify(submissionData),\n      // });\n\n      // For Phase 1/2, just show success\n      console.log('ICS 218 Form Data:', submissionData);\n      setIsSubmitted(true);\n      localStorage.removeItem('ics218-draft');\n      toast.success('Form submitted successfully!');\n      \n    } catch (error) {\n      console.error('Submission error:', error);\n      toast.error('Failed to submit form. Please try again.');\n      throw error;\n    }\n  };\n\n  const CurrentStepComponent = STEPS[currentStep].component;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40 shadow-sm\">\n        <div className=\"max-w-4xl mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3 flex-1\">\n              <img \n                src=\"/taskforce-io-logo.png\" \n                alt=\"TASKFORCE IO\" \n                className=\"w-10 h-10 object-contain\"\n              />\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                  ICS-218 Support Vehicle/Equipment Inventory\n                </h1>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  Step {currentStep + 1} of {STEPS.length}: {STEPS[currentStep].title}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={() => navigate('/')}\n                className=\"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors\"\n                title=\"Home\"\n              >\n                <Home className=\"w-5 h-5\" />\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleManualSave}\n                className=\"p-2 rounded-lg bg-orange-100 text-orange-600 hover:bg-orange-200 transition-colors\"\n                title=\"Save Draft\"\n              >\n                <Save className=\"w-5 h-5\" />\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleClearForm}\n                className=\"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors\"\n                title=\"Clear Form\"\n              >\n                <Trash2 className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Progress Indicator */}\n          <ProgressIndicator\n            currentStep={currentStep + 1}\n            totalSteps={STEPS.length}\n            labels={STEPS.map(s => s.title)}\n          />\n        </div>\n      </div>\n\n      {/* Form Content */}\n      <div className=\"max-w-4xl mx-auto\">\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={currentStep}\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: -20 }}\n            transition={{ duration: 0.3 }}\n          >\n            <CurrentStepComponent\n              formData={formData}\n              onChange={handleFieldChange}\n              onNext={handleNext}\n              onBack={handleBack}\n              onGoToStep={handleGoToStep}\n              onSubmit={handleSubmit}\n              errors={errors}\n            />\n          </motion.div>\n        </AnimatePresence>\n      </div>\n\n      {/* Draft Recovery Dialog */}\n      <AnimatePresence>\n        {showDraftDialog && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            <motion.div\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6\"\n              initial={{ scale: 0.9, y: 20 }}\n              animate={{ scale: 1, y: 0 }}\n              exit={{ scale: 0.9, y: 20 }}\n            >\n              <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                Resume Draft?\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                We found a saved draft from{' '}\n                {recoveredDraft && new Date(recoveredDraft.savedAt).toLocaleString()}.\n                Would you like to resume where you left off?\n              </p>\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={handleDiscardDraft}\n                  className=\"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-xl transition-colors\"\n                >\n                  Start Fresh\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleResumeDraft}\n                  className=\"flex-1 px-4 py-3 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-xl transition-colors\"\n                >\n                  Resume Draft\n                </button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Submission Success Screen */}\n      <AnimatePresence>\n        {isSubmitted && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n          >\n            <motion.div\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-8 text-center\"\n              initial={{ scale: 0.9, y: 20 }}\n              animate={{ scale: 1, y: 0 }}\n            >\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n              <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n                Form Submitted!\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n                Your ICS-218 form has been successfully submitted and logged.\n              </p>\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => navigate('/')}\n                  className=\"flex-1 px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-xl transition-colors\"\n                >\n                  Go Home\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setIsSubmitted(false);\n                    setFormData(INITIAL_FORM_DATA);\n                    setCurrentStep(0);\n                  }}\n                  className=\"flex-1 px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-xl transition-colors\"\n                >\n                  New Form\n                </button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default ICS218Form;\n"],"names":["VEHICLE_CATEGORIES","IncidentInfoStep","formData","onChange","onNext","errors","handleSubmit","e","getCurrentDate","getCurrentTime","now","hours","minutes","jsxs","motion","jsx","category","TouchFeedback","VehicleAutocomplete","value","onVehicleSelect","apiEndpoint","className","error","isOpen","setIsOpen","useState","vehicles","setVehicles","isLoading","setIsLoading","searchQuery","setSearchQuery","debounceTimer","useRef","containerRef","useEffect","response","data","handleClickOutside","event","handleInputChange","newValue","handleVehicleSelect","vehicle","AnimatePresence","SkeletonLoader","VehicleTableStep","onBack","expandedRow","setExpandedRow","handleAddVehicle","newVehicle","updatedVehicles","handleRemoveVehicle","index","_","i","handleVehicleFieldChange","field","handleAirtableVehicleSelect","selectedVehicle","PreparedByStep","showSignaturePad","setShowSignaturePad","handleSignatureSave","signature","handleSignatureClear","SignatureCanvas","ReviewStep","onSubmit","onGoToStep","isSubmitting","setIsSubmitting","STEPS","INITIAL_FORM_DATA","ICS218Form","navigate","useNavigate","currentStep","setCurrentStep","setFormData","setErrors","isSubmitted","setIsSubmitted","showDraftDialog","setShowDraftDialog","recoveredDraft","setRecoveredDraft","saveInterval","draft","toast","draftJson","handleResumeDraft","handleDiscardDraft","handleFieldChange","prev","newErrors","validateStep","step","handleNext","handleBack","handleGoToStep","handleManualSave","handleClearForm","submissionData","CurrentStepComponent","Home","Save","Trash2","ProgressIndicator","s"],"mappings":"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"}