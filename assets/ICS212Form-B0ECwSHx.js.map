{"version":3,"file":"ICS212Form-B0ECwSHx.js","sources":["../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../src/components/ics212/IncidentInfoStep.tsx","../../src/components/ics212/AddVehicleModal.tsx","../../src/components/ics212/VehicleSelectionStep.tsx","../../src/components/ics212/InspectionItemsStep.tsx","../../src/components/ics212/CommentsStep.tsx","../../src/components/ics212/InspectorSignatureStep.tsx","../../src/components/ics212/ReviewSubmitStep.tsx","../../src/components/ICS212Form.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.556.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]];\nconst LoaderCircle = createLucideIcon(\"loader-circle\", __iconNode);\n\nexport { __iconNode, LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","import React from 'react';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport type { ICS212FormData } from '../../types';\n\ninterface IncidentInfoStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  errors: Record<string, string>;\n}\n\nexport const IncidentInfoStep: React.FC<IncidentInfoStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  errors,\n}) => {\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onNext();\n  };\n\n  // Generate current date and time in proper format\n  const getCurrentDate = () => {\n    return new Date().toISOString().split('T')[0]; // YYYY-MM-DD\n  };\n\n  const getCurrentTime = () => {\n    const now = new Date();\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`; // HH:MM\n  };\n\n  return (\n    <motion.form\n      className=\"space-y-6 p-4 md:p-6\"\n      onSubmit={handleSubmit}\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Incident Information\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Complete prior to vehicle inspection\n        </p>\n      </div>\n\n      {/* Incident Name */}\n      <div>\n        <label\n          htmlFor=\"incidentName\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Incident Name *\n        </label>\n        <input\n          type=\"text\"\n          id=\"incidentName\"\n          value={formData.incidentName || ''}\n          onChange={(e) => onChange('incidentName', e.target.value)}\n          placeholder=\"e.g., Wildfire Response 2024\"\n          maxLength={100}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.incidentName \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.incidentName && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.incidentName}</p>\n        )}\n      </div>\n\n      {/* Date/Time Row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label\n            htmlFor=\"inspectorDate\"\n            className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n          >\n            Date *\n          </label>\n          <input\n            type=\"date\"\n            id=\"inspectorDate\"\n            value={formData.inspectorDate || getCurrentDate()}\n            onChange={(e) => onChange('inspectorDate', e.target.value)}\n            max={getCurrentDate()}\n            className={`\n              w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n              focus:outline-none focus:ring-4\n              ${errors.inspectorDate \n                ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n                : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n              }\n            `}\n            style={{ minHeight: '56px' }}\n          />\n          {errors.inspectorDate && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.inspectorDate}</p>\n          )}\n        </div>\n\n        <div>\n          <label\n            htmlFor=\"inspectorTime\"\n            className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n          >\n            Time *\n          </label>\n          <input\n            type=\"time\"\n            id=\"inspectorTime\"\n            value={formData.inspectorTime || getCurrentTime()}\n            onChange={(e) => onChange('inspectorTime', e.target.value)}\n            className={`\n              w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n              focus:outline-none focus:ring-4\n              ${errors.inspectorTime \n                ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n                : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n              }\n            `}\n            style={{ minHeight: '56px' }}\n          />\n          {errors.inspectorTime && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.inspectorTime}</p>\n          )}\n        </div>\n      </div>\n\n      {/* Order Number (Optional) */}\n      <div>\n        <label\n          htmlFor=\"orderNo\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Order Number <span className=\"text-gray-500\">(Optional)</span>\n        </label>\n        <input\n          type=\"text\"\n          id=\"orderNo\"\n          value={formData.orderNo || ''}\n          onChange={(e) => onChange('orderNo', e.target.value)}\n          placeholder=\"e.g., ORDER-2024-00123\"\n          maxLength={50}\n          className=\"\n            w-full px-4 py-3 text-base rounded-xl border-2 border-gray-300\n            transition-all focus:outline-none focus:ring-4\n            focus:border-blue-500 focus:ring-blue-100\n          \"\n          style={{ minHeight: '56px' }}\n        />\n      </div>\n\n      {/* Next Button */}\n      <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n        <button\n          type=\"submit\"\n          className=\"\n            w-full bg-blue-600 hover:bg-blue-700 text-white font-bold\n            py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n            focus:outline-none focus:ring-4 focus:ring-blue-300\n          \"\n          style={{ minHeight: '56px' }}\n        >\n          Next: Vehicle Selection\n        </button>\n      </TouchFeedback>\n    </motion.form>\n  );\n};\n\nexport default IncidentInfoStep;\n","/**\n * AddVehicleModal Component\n * \n * Modal for adding a new vehicle inline within the ICS-212 form\n * Adapted from VehicleManagement component\n */\n\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, Save } from 'lucide-react';\nimport { API_BASE_URL } from '../../lib/config';\nimport { showToast } from '../mobile/Toast';\nimport type { Vehicle } from '../../types';\n\ninterface AddVehicleModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onVehicleAdded: (vehicle: Vehicle) => void;\n}\n\ninterface VehicleFormData {\n  regUnit: string;\n  agency: string;\n  vehicleMake: string;\n  vehicleType: string;\n  incidentId: string;\n  vehicleId: string;\n  features: string;\n  licenseNumber: string;\n  notes: string;\n  vehicleStatus: 'Active' | 'Inactive' | 'Maintenance' | 'Deployed';\n}\n\nexport function AddVehicleModal({ isOpen, onClose, onVehicleAdded }: AddVehicleModalProps) {\n  const [formData, setFormData] = useState<VehicleFormData>({\n    regUnit: '',\n    agency: '',\n    vehicleMake: '',\n    vehicleType: '',\n    incidentId: '',\n    vehicleId: '',\n    features: '',\n    licenseNumber: '',\n    notes: '',\n    vehicleStatus: 'Active'\n  });\n  const [formErrors, setFormErrors] = useState<Record<string, string>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const resetForm = () => {\n    setFormData({\n      regUnit: '',\n      agency: '',\n      vehicleMake: '',\n      vehicleType: '',\n      incidentId: '',\n      vehicleId: '',\n      features: '',\n      licenseNumber: '',\n      notes: '',\n      vehicleStatus: 'Active'\n    });\n    setFormErrors({});\n  };\n\n  const handleClose = () => {\n    if (!isSubmitting) {\n      resetForm();\n      onClose();\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const errors: Record<string, string> = {};\n    \n    // Required: Registered Unit\n    if (!formData.regUnit.trim()) {\n      errors.regUnit = 'Registered Unit is required';\n    } else if (formData.regUnit.length > 100) {\n      errors.regUnit = 'Registered Unit must be 100 characters or less';\n    }\n    \n    // Required: Make\n    if (!formData.vehicleMake.trim()) {\n      errors.vehicleMake = 'Vehicle Make is required';\n    }\n    \n    // At least one other field must be filled\n    const otherFields = [\n      formData.agency,\n      formData.vehicleType,\n      formData.incidentId,\n      formData.vehicleId,\n      formData.features,\n      formData.licenseNumber,\n      formData.notes\n    ];\n    \n    if (!otherFields.some(field => field.trim())) {\n      errors.general = 'At least one additional field must be filled';\n    }\n    \n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      showToast({ message: 'Please fix the validation errors', type: 'error' });\n      return;\n    }\n    \n    setIsSubmitting(true);\n    \n    try {\n      const response = await fetch(`${API_BASE_URL}/vehicles`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || 'Failed to create vehicle');\n      }\n      \n      const result = await response.json();\n      showToast({ message: 'Vehicle created successfully', type: 'success' });\n      \n      // Return the newly created vehicle to parent\n      onVehicleAdded(result.vehicle);\n      \n      // Close modal and reset form\n      resetForm();\n      onClose();\n    } catch (error) {\n      console.error('Error creating vehicle:', error);\n      showToast({ \n        message: error instanceof Error ? error.message : 'Failed to create vehicle', \n        type: 'error' \n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n        <div className=\"flex min-h-screen items-center justify-center p-4\">\n          {/* Backdrop */}\n          <motion.div \n            className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"\n            onClick={handleClose}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          />\n          \n          {/* Modal */}\n          <motion.div \n            className=\"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\"\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\n            transition={{ duration: 0.2 }}\n          >\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10\">\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                Add New Vehicle\n              </h2>\n              <button\n                onClick={handleClose}\n                disabled={isSubmitting}\n                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n            \n            {/* Content */}\n            <form onSubmit={handleSubmit} className=\"p-6\">\n              <div className=\"space-y-4\">\n                {/* General Error */}\n                {formErrors.general && (\n                  <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm\">\n                    {formErrors.general}\n                  </div>\n                )}\n\n                {/* Registered Unit */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Registered Unit <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.regUnit}\n                    onChange={(e) => setFormData({ ...formData, regUnit: e.target.value })}\n                    className={`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white ${\n                      formErrors.regUnit ? 'border-red-500' : 'border-gray-300 dark:border-gray-600'\n                    }`}\n                    placeholder=\"e.g., USAR-01\"\n                    disabled={isSubmitting}\n                  />\n                  {formErrors.regUnit && (\n                    <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">{formErrors.regUnit}</p>\n                  )}\n                </div>\n\n                {/* Agency */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Agency\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.agency}\n                    onChange={(e) => setFormData({ ...formData, agency: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white\"\n                    placeholder=\"e.g., FEMA\"\n                    disabled={isSubmitting}\n                  />\n                </div>\n\n                {/* Make */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Make <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.vehicleMake}\n                    onChange={(e) => setFormData({ ...formData, vehicleMake: e.target.value })}\n                    className={`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white ${\n                      formErrors.vehicleMake ? 'border-red-500' : 'border-gray-300 dark:border-gray-600'\n                    }`}\n                    placeholder=\"e.g., Ford, Chevrolet, International\"\n                    disabled={isSubmitting}\n                  />\n                  {formErrors.vehicleMake && (\n                    <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">{formErrors.vehicleMake}</p>\n                  )}\n                </div>\n\n                {/* Category/Type */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Category/Type\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.vehicleType}\n                    onChange={(e) => setFormData({ ...formData, vehicleType: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white\"\n                    placeholder=\"e.g., Heavy Rescue Truck, Cargo Trailer\"\n                    disabled={isSubmitting}\n                  />\n                </div>\n\n                {/* License Number */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    License Number\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.licenseNumber}\n                    onChange={(e) => setFormData({ ...formData, licenseNumber: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white\"\n                    placeholder=\"e.g., ABC-1234\"\n                    disabled={isSubmitting}\n                  />\n                </div>\n\n                {/* Incident ID */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Incident ID\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.incidentId}\n                    onChange={(e) => setFormData({ ...formData, incidentId: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white\"\n                    placeholder=\"e.g., INC-2024-001\"\n                    disabled={isSubmitting}\n                  />\n                </div>\n\n                {/* Classification (Vehicle ID) */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Classification\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.vehicleId}\n                    onChange={(e) => setFormData({ ...formData, vehicleId: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white\"\n                    placeholder=\"e.g., VEHICLE-001\"\n                    disabled={isSubmitting}\n                  />\n                </div>\n\n                {/* Features */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Features\n                  </label>\n                  <textarea\n                    value={formData.features}\n                    onChange={(e) => setFormData({ ...formData, features: e.target.value })}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white\"\n                    placeholder=\"Describe special features, equipment, or capabilities\"\n                    disabled={isSubmitting}\n                  />\n                </div>\n\n                {/* Status */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Status\n                  </label>\n                  <select\n                    value={formData.vehicleStatus}\n                    onChange={(e) => setFormData({ ...formData, vehicleStatus: e.target.value as VehicleFormData['vehicleStatus'] })}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white\"\n                    disabled={isSubmitting}\n                  >\n                    <option value=\"Active\">Active</option>\n                    <option value=\"Inactive\">Inactive</option>\n                    <option value=\"Maintenance\">Maintenance</option>\n                    <option value=\"Deployed\">Deployed</option>\n                  </select>\n                </div>\n\n                {/* Notes */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Notes\n                  </label>\n                  <textarea\n                    value={formData.notes}\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white\"\n                    placeholder=\"Additional notes or comments\"\n                    disabled={isSubmitting}\n                  />\n                </div>\n              </div>\n\n              {/* Buttons */}\n              <div className=\"flex gap-3 justify-end pt-6 sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 -mx-6 px-6 py-4 mt-6\">\n                <button\n                  type=\"button\"\n                  onClick={handleClose}\n                  disabled={isSubmitting}\n                  className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className=\"px-4 py-2 bg-[#0066FF] text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n                >\n                  {isSubmitting ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\" />\n                      Creating...\n                    </>\n                  ) : (\n                    <>\n                      <Save className=\"w-4 h-4\" />\n                      Create Vehicle\n                    </>\n                  )}\n                </button>\n              </div>\n            </form>\n          </motion.div>\n        </div>\n      </div>\n    </AnimatePresence>\n  );\n}\n\nexport default AddVehicleModal;\n","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Plus } from 'lucide-react';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport SkeletonLoader from '../mobile/SkeletonLoader';\nimport { AddVehicleModal } from './AddVehicleModal';\nimport { API_BASE_URL } from '../../lib/config';\nimport { showToast } from '../mobile/Toast';\nimport type { ICS212FormData, Vehicle } from '../../types';\n\ninterface VehicleSelectionStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n  errors: Record<string, string>;\n}\n\nexport const VehicleSelectionStep: React.FC<VehicleSelectionStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n  errors,\n}) => {\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\n  const [loadingVehicles, setLoadingVehicles] = useState(true);\n  const [selectedVehicle, setSelectedVehicle] = useState<Vehicle | null>(null);\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\n  \n  // Fetch vehicles on mount\n  useEffect(() => {\n    fetchVehicles();\n  }, []);\n\n  const fetchVehicles = async () => {\n    setLoadingVehicles(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/vehicles`);\n      if (!response.ok) throw new Error('Failed to fetch vehicles');\n      const data = await response.json();\n      setVehicles(data.vehicles || []);\n    } catch (error) {\n      console.error('Error fetching vehicles:', error);\n      showToast({ message: 'Failed to load vehicles', type: 'error' });\n    } finally {\n      setLoadingVehicles(false);\n    }\n  };\n\n  const handleVehicleSelect = (vehicleId: string) => {\n    if (!vehicleId) {\n      // Clear selection\n      setSelectedVehicle(null);\n      onChange('selectedVehicleId', '');\n      onChange('vehicleIdNo', '');\n      onChange('vehicleLicenseNo', '');\n      onChange('vehicleType', '');\n      onChange('agencyRegUnit', '');\n      return;\n    }\n\n    // Special value for adding new vehicle\n    if (vehicleId === '__ADD_NEW__') {\n      setIsAddModalOpen(true);\n      return;\n    }\n\n    const vehicle = vehicles.find(v => v.id === vehicleId);\n    if (vehicle) {\n      setSelectedVehicle(vehicle);\n      \n      // Store the Airtable vehicle ID to track that a vehicle was selected\n      onChange('selectedVehicleId', vehicle.id);\n      \n      // Auto-populate vehicle fields\n      onChange('vehicleIdNo', vehicle.vehicleId || '');\n      onChange('vehicleLicenseNo', vehicle.licenseNumber || '');\n      onChange('vehicleType', vehicle.vehicleType || '');\n      onChange('agencyRegUnit', vehicle.regUnit || '');\n    }\n  };\n\n  const handleVehicleAdded = async (newVehicle: Vehicle) => {\n    // Refresh vehicles list\n    await fetchVehicles();\n    \n    // Auto-select the newly added vehicle\n    setSelectedVehicle(newVehicle);\n    onChange('vehicleIdNo', newVehicle.vehicleId || '');\n    onChange('vehicleLicenseNo', newVehicle.licenseNumber || '');\n    onChange('vehicleType', newVehicle.vehicleType || '');\n    onChange('agencyRegUnit', newVehicle.regUnit || '');\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onNext();\n  };\n\n  return (\n    <motion.form\n      className=\"space-y-6 p-4 md:p-6\"\n      onSubmit={handleSubmit}\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Vehicle Selection\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Select the vehicle to inspect or add a new one\n        </p>\n      </div>\n\n      {/* Vehicle Dropdown */}\n      <div>\n        <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n          Vehicle Type\n        </label>\n        {loadingVehicles ? (\n          <SkeletonLoader type=\"rectangle\" />\n        ) : (\n          <select\n            value={selectedVehicle?.id || ''}\n            onChange={(e) => handleVehicleSelect(e.target.value)}\n            className={`\n              w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n              focus:outline-none focus:ring-4\n              ${errors.vehicleIdNo \n                ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n                : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n              }\n              dark:bg-gray-700 dark:text-white\n            `}\n            style={{ minHeight: '56px' }}\n          >\n            <option value=\"\">Select a vehicle (optional)</option>\n            {vehicles.map((vehicle) => (\n              <option key={vehicle.id} value={vehicle.id}>\n                {vehicle.vehicleType && vehicle.vehicleMake \n                  ? `${vehicle.vehicleType} - ${vehicle.vehicleMake} ${vehicle.regUnit || ''}`\n                  : vehicle.regUnit || vehicle.vehicleType || vehicle.vehicleMake || 'Unknown Vehicle'\n                }\n              </option>\n            ))}\n            <option value=\"__ADD_NEW__\" className=\"font-semibold\">\n              + Add New Vehicle\n            </option>\n          </select>\n        )}\n        {!loadingVehicles && vehicles.length === 0 && (\n          <p className=\"mt-1 text-xs text-gray-500\">\n            No vehicles found. Click \"+ Add New Vehicle\" to create one.\n          </p>\n        )}\n      </div>\n\n      {/* Add Vehicle Button (alternative placement) */}\n      <div className=\"flex justify-center\">\n        <button\n          type=\"button\"\n          onClick={() => setIsAddModalOpen(true)}\n          className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Add New Vehicle\n        </button>\n      </div>\n\n      {/* Selected Vehicle Info Card */}\n      {selectedVehicle && (\n        <motion.div\n          className=\"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-4\"\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.3 }}\n        >\n          <h3 className=\"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-3\">\n            Selected Vehicle Details\n          </h3>\n          <div className=\"grid grid-cols-2 gap-3 text-sm\">\n            <div>\n              <p className=\"text-gray-600 dark:text-gray-400\">Make/Type</p>\n              <p className=\"font-semibold text-gray-900 dark:text-white\">\n                {[selectedVehicle.vehicleMake, selectedVehicle.vehicleType]\n                  .filter(Boolean)\n                  .join(' ') || 'N/A'}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-gray-600 dark:text-gray-400\">License Plate</p>\n              <p className=\"font-semibold text-gray-900 dark:text-white\">\n                {selectedVehicle.licenseNumber || 'N/A'}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-gray-600 dark:text-gray-400\">Agency Unit</p>\n              <p className=\"font-semibold text-gray-900 dark:text-white\">\n                {selectedVehicle.regUnit || 'N/A'}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-gray-600 dark:text-gray-400\">Status</p>\n              <span\n                className={`\n                  inline-block px-2 py-1 text-xs font-medium rounded-full\n                  ${selectedVehicle.vehicleStatus === 'Active' \n                    ? 'bg-green-100 text-green-800' \n                    : selectedVehicle.vehicleStatus === 'Inactive'\n                    ? 'bg-red-100 text-red-800'\n                    : 'bg-yellow-100 text-yellow-800'\n                  }\n                `}\n              >\n                {selectedVehicle.vehicleStatus || 'Unknown'}\n              </span>\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Odometer Reading */}\n      <div>\n        <label\n          htmlFor=\"odometerReading\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Odometer Reading (miles)\n        </label>\n        <input\n          type=\"number\"\n          id=\"odometerReading\"\n          value={formData.odometerReading || ''}\n          onChange={(e) => onChange('odometerReading', parseInt(e.target.value) || 0)}\n          placeholder=\"Enter current odometer reading\"\n          min={0}\n          max={999999999}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${errors.odometerReading \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n            }\n            dark:bg-gray-700 dark:text-white\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.odometerReading && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.odometerReading}</p>\n        )}\n      </div>\n\n      {/* Auto-populated fields (editable) */}\n      <div className=\"space-y-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4\">\n        <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n          Vehicle Information (Auto-populated, editable)\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\n              License Number\n            </label>\n            <input\n              type=\"text\"\n              value={formData.vehicleLicenseNo || ''}\n              onChange={(e) => onChange('vehicleLicenseNo', e.target.value)}\n              placeholder=\"Enter license number\"\n              className=\"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\n              Agency Reg/Unit\n            </label>\n            <input\n              type=\"text\"\n              value={formData.agencyRegUnit || ''}\n              onChange={(e) => onChange('agencyRegUnit', e.target.value)}\n              placeholder=\"Enter agency unit\"\n              className=\"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white\"\n            />\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-xs text-gray-600 dark:text-gray-400 mb-1\">\n              Vehicle Type\n            </label>\n            <input\n              type=\"text\"\n              value={formData.vehicleType || ''}\n              onChange={(e) => onChange('vehicleType', e.target.value)}\n              placeholder=\"e.g., Rescue, Engine, Ladder\"\n              className=\"w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3\">\n        <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"submit\"\n            className=\"\n              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-blue-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Next: Inspection Items\n          </button>\n        </TouchFeedback>\n      </div>\n\n      {/* Add Vehicle Modal */}\n      <AddVehicleModal\n        isOpen={isAddModalOpen}\n        onClose={() => setIsAddModalOpen(false)}\n        onVehicleAdded={handleVehicleAdded}\n      />\n    </motion.form>\n  );\n};\n\nexport default VehicleSelectionStep;\n","import React, { useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ChevronDown, AlertTriangle, CheckCircle, XCircle } from 'lucide-react';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport type { ICS212FormData, InspectionItem } from '../../types';\n\ninterface InspectionItemsStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n  errors: Record<string, string>;\n}\n\n// Define all 17 inspection items (items 1-13 are safety-critical)\nconst INSPECTION_ITEMS: InspectionItem[] = [\n  { itemNumber: 1, description: 'Gauges and lights', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 2, description: 'Seat belts', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 3, description: 'Glass and mirrors', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 4, description: 'Wipers and horn', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 5, description: 'Engine compartment', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 6, description: 'Fuel System', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 7, description: 'Steering', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 8, description: 'Brakes', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 9, description: 'Drive line U-joints', status: 'n/a', isSafetyItem: false, reference: 'Check play' },\n  { itemNumber: 10, description: 'Springs and shocks', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 11, description: 'Exhaust system', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 12, description: 'Frame', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 13, description: 'Tire and wheels', status: 'n/a', isSafetyItem: true, reference: 'See back*' },\n  { itemNumber: 14, description: 'Coupling devices / Emergency exit (buses)', status: 'n/a', isSafetyItem: false },\n  { itemNumber: 15, description: 'Pump operation', status: 'n/a', isSafetyItem: false },\n  { itemNumber: 16, description: 'Damage on incident', status: 'n/a', isSafetyItem: false },\n  { itemNumber: 17, description: 'Other', status: 'n/a', isSafetyItem: false },\n];\n\nexport const InspectionItemsStep: React.FC<InspectionItemsStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n  errors: _errors,\n}) => {\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set(['pre-trip', 'safety', 'operational']));\n  \n  // Initialize inspection items if not already set\n  const inspectionItems = formData.inspectionItems || INSPECTION_ITEMS;\n\n  // Calculate release decision\n  const releaseDecision = useMemo(() => {\n    const safetyItemsFailed = inspectionItems.some(\n      item => item.isSafetyItem && item.status === 'fail'\n    );\n    return safetyItemsFailed ? 'hold' : 'release';\n  }, [inspectionItems]);\n\n  const handleItemStatusChange = (itemNumber: number, status: 'pass' | 'fail' | 'n/a') => {\n    const updatedItems = inspectionItems.map(item =>\n      item.itemNumber === itemNumber ? { ...item, status } : item\n    );\n    onChange('inspectionItems', updatedItems);\n    onChange('releaseStatus', releaseDecision);\n  };\n\n  const toggleSection = (section: string) => {\n    const newExpanded = new Set(expandedSections);\n    if (newExpanded.has(section)) {\n      newExpanded.delete(section);\n    } else {\n      newExpanded.add(section);\n    }\n    setExpandedSections(newExpanded);\n  };\n\n  const renderInspectionItem = (item: InspectionItem) => {\n    const itemData = inspectionItems.find(i => i.itemNumber === item.itemNumber) || item;\n\n    return (\n      <div key={item.itemNumber} className=\"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-start gap-3\">\n          {item.isSafetyItem && (\n            <AlertTriangle className=\"w-5 h-5 text-amber-500 flex-shrink-0 mt-1\" />\n          )}\n          <div className=\"flex-1\">\n            <div className=\"flex items-start justify-between mb-2\">\n              <div>\n                <h4 className=\"font-semibold text-gray-900 dark:text-white\">\n                  {item.itemNumber}. {item.description}\n                </h4>\n                {item.reference && (\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400\">{item.reference}</p>\n                )}\n              </div>\n            </div>\n\n            {/* Status Toggle Buttons */}\n            <div className=\"flex gap-2 mt-3\">\n              <TouchFeedback onTap={() => handleItemStatusChange(item.itemNumber, 'pass')} hapticType=\"light\">\n                <button\n                  type=\"button\"\n                  onClick={() => handleItemStatusChange(item.itemNumber, 'pass')}\n                  className={`\n                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg\n                    font-semibold transition-all border-2\n                    ${itemData.status === 'pass'\n                      ? 'bg-green-500 text-white border-green-600 shadow-lg'\n                      : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600'\n                    }\n                  `}\n                  style={{ minHeight: '48px' }}\n                >\n                  <CheckCircle className=\"w-4 h-4\" />\n                  Pass\n                </button>\n              </TouchFeedback>\n\n              <TouchFeedback onTap={() => handleItemStatusChange(item.itemNumber, 'fail')} hapticType=\"medium\">\n                <button\n                  type=\"button\"\n                  onClick={() => handleItemStatusChange(item.itemNumber, 'fail')}\n                  className={`\n                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg\n                    font-semibold transition-all border-2\n                    ${itemData.status === 'fail'\n                      ? 'bg-red-500 text-white border-red-600 shadow-lg'\n                      : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600'\n                    }\n                  `}\n                  style={{ minHeight: '48px' }}\n                >\n                  <XCircle className=\"w-4 h-4\" />\n                  Fail\n                </button>\n              </TouchFeedback>\n\n              <TouchFeedback onTap={() => handleItemStatusChange(item.itemNumber, 'n/a')} hapticType=\"light\">\n                <button\n                  type=\"button\"\n                  onClick={() => handleItemStatusChange(item.itemNumber, 'n/a')}\n                  className={`\n                    flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg\n                    font-semibold transition-all border-2\n                    ${itemData.status === 'n/a'\n                      ? 'bg-gray-400 text-white border-gray-500 shadow-lg'\n                      : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600'\n                    }\n                  `}\n                  style={{ minHeight: '48px' }}\n                >\n                  N/A\n                </button>\n              </TouchFeedback>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderSection = (title: string, sectionKey: string, items: InspectionItem[], subtitle?: string) => {\n    const isExpanded = expandedSections.has(sectionKey);\n\n    return (\n      <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl overflow-hidden\">\n        <button\n          type=\"button\"\n          onClick={() => toggleSection(sectionKey)}\n          className=\"w-full p-4 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors\"\n        >\n          <div className=\"text-left\">\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n              {title}\n            </h3>\n            {subtitle && (\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">{subtitle}</p>\n            )}\n          </div>\n          <ChevronDown\n            className={`w-6 h-6 text-gray-600 dark:text-gray-400 transition-transform ${isExpanded ? 'rotate-180' : ''}`}\n          />\n        </button>\n\n        <AnimatePresence>\n          {isExpanded && (\n            <motion.div\n              initial={{ height: 0, opacity: 0 }}\n              animate={{ height: 'auto', opacity: 1 }}\n              exit={{ height: 0, opacity: 0 }}\n              transition={{ duration: 0.3 }}\n              className=\"overflow-hidden\"\n            >\n              <div className=\"p-4 space-y-3\">\n                {items.map(renderInspectionItem)}\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    );\n  };\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Vehicle Inspection\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Inspect all items and mark Pass, Fail, or N/A\n        </p>\n      </div>\n\n      {/* Release Decision Banner */}\n      <motion.div\n        className={`\n          p-4 rounded-xl border-2 flex items-center justify-between\n          ${releaseDecision === 'hold'\n            ? 'bg-red-50 border-red-500 dark:bg-red-900/20 dark:border-red-700'\n            : 'bg-green-50 border-green-500 dark:bg-green-900/20 dark:border-green-700'\n          }\n        `}\n        layout\n      >\n        <div className=\"flex items-center gap-3\">\n          {releaseDecision === 'hold' ? (\n            <AlertTriangle className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\n          ) : (\n            <CheckCircle className=\"w-6 h-6 text-green-600 dark:text-green-400\" />\n          )}\n          <div>\n            <p className={`font-bold text-lg ${releaseDecision === 'hold' ? 'text-red-900 dark:text-red-100' : 'text-green-900 dark:text-green-100'}`}>\n              {releaseDecision === 'hold' ? 'üî¥ HOLD FOR REPAIRS' : 'üü¢ RELEASED'}\n            </p>\n            {releaseDecision === 'hold' && (\n              <p className=\"text-sm text-red-700 dark:text-red-300\">\n                Safety Item ‚Äì Do Not Release Until Repaired\n              </p>\n            )}\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Inspection Sections */}\n      <div className=\"space-y-4\">\n        {renderSection(\n          'Pre-Trip Items',\n          'pre-trip',\n          INSPECTION_ITEMS.slice(0, 5),\n          'Items 1-5'\n        )}\n        \n        {renderSection(\n          'Safety Equipment',\n          'safety',\n          INSPECTION_ITEMS.slice(5, 13),\n          '‚ö†Ô∏è Items 6-13 - All Safety-Critical'\n        )}\n        \n        {renderSection(\n          'Operational Systems',\n          'operational',\n          INSPECTION_ITEMS.slice(13),\n          'Items 14-17'\n        )}\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg\">\n        <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onNext}\n            className=\"\n              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-blue-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Next: Comments\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default InspectionItemsStep;\n","import React, { useRef, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport type { ICS212FormData } from '../../types';\n\ninterface CommentsStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n}\n\nexport const CommentsStep: React.FC<CommentsStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n}) => {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const maxLength = 2000;\n  const currentLength = (formData.additionalComments || '').length;\n\n  // Auto-resize textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  }, [formData.additionalComments]);\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Additional Comments\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Add any notes, repair recommendations, or additional findings (optional)\n        </p>\n      </div>\n\n      {/* Comments Textarea */}\n      <div>\n        <label\n          htmlFor=\"additionalComments\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Comments <span className=\"text-gray-500\">(Optional)</span>\n        </label>\n        <textarea\n          ref={textareaRef}\n          id=\"additionalComments\"\n          value={formData.additionalComments || ''}\n          onChange={(e) => onChange('additionalComments', e.target.value)}\n          placeholder=\"Enter any additional comments, notes, or repair recommendations...\"\n          maxLength={maxLength}\n          rows={10}\n          className=\"\n            w-full px-4 py-3 text-base rounded-xl border-2 border-gray-300\n            transition-all focus:outline-none focus:ring-4\n            focus:border-blue-500 focus:ring-blue-100 resize-none\n            dark:bg-gray-800 dark:border-gray-600 dark:text-white\n          \"\n          style={{ minHeight: '200px' }}\n        />\n        <div className=\"flex justify-between items-center mt-2\">\n          <p className=\"text-xs text-gray-500\">\n            Detailed notes help with repairs and maintenance tracking\n          </p>\n          <p className={`text-sm font-medium ${currentLength > maxLength * 0.9 ? 'text-red-600' : 'text-gray-600'}`}>\n            {currentLength} / {maxLength}\n          </p>\n        </div>\n      </div>\n\n      {/* Quick Suggestion Buttons */}\n      <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4\">\n        <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3\">\n          Quick Suggestions\n        </h3>\n        <div className=\"flex flex-wrap gap-2\">\n          {[\n            'No issues found',\n            'Minor wear observed',\n            'Requires immediate attention',\n            'Scheduled maintenance due',\n            'Pre-incident condition noted',\n          ].map((suggestion) => (\n            <button\n              key={suggestion}\n              type=\"button\"\n              onClick={() => {\n                const current = formData.additionalComments || '';\n                const separator = current ? '\\n' : '';\n                onChange('additionalComments', `${current}${separator}${suggestion}`);\n              }}\n              className=\"\n                px-3 py-2 text-sm rounded-lg bg-white dark:bg-gray-700\n                border border-gray-300 dark:border-gray-600\n                hover:bg-blue-50 hover:border-blue-300 dark:hover:bg-gray-600\n                transition-colors text-gray-700 dark:text-gray-300\n              \"\n            >\n              + {suggestion}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg\">\n        <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n          <button\n            type=\"button\"\n            onClick={onBack}\n            className=\"\n              flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n              py-4 px-6 rounded-xl transition-all\n              focus:outline-none focus:ring-4 focus:ring-gray-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Back\n          </button>\n        </TouchFeedback>\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onNext}\n            className=\"\n              flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold\n              py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl\n              focus:outline-none focus:ring-4 focus:ring-blue-300\n            \"\n            style={{ minHeight: '56px' }}\n          >\n            Next: Inspector Signature\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default CommentsStep;\n","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Lock, CheckCircle } from 'lucide-react';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport SignatureCanvas from '../SignatureCanvas';\nimport type { ICS212FormData, DigitalSignature } from '../../types';\n\ninterface InspectorSignatureStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onNext: () => void;\n  onBack: () => void;\n  errors: Record<string, string>;\n}\n\nexport const InspectorSignatureStep: React.FC<InspectorSignatureStepProps> = ({\n  formData,\n  onChange,\n  onNext,\n  onBack,\n  errors,\n}) => {\n  const [hasSignedForm, setHasSignedForm] = useState(!!formData.inspectorSignature);\n\n  const handleSignatureSave = (signatureData: string) => {\n    const signature: DigitalSignature = {\n      imageData: signatureData,\n      signedAt: new Date().toISOString(),\n      signedBy: formData.inspectorNamePrint || '',\n      ipAddress: undefined,\n      deviceId: navigator.userAgent,\n    };\n    \n    onChange('inspectorSignature', signature);\n    setHasSignedForm(true);\n    \n    // Transition form status to inspector_signed\n    onChange('status', 'inspector_signed');\n  };\n\n  const getCurrentDateTime = () => {\n    const now = new Date();\n    return {\n      date: now.toISOString().split('T')[0],\n      time: now.toTimeString().slice(0, 5),\n    };\n  };\n\n  const { date: currentDate, time: currentTime } = getCurrentDateTime();\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Inspector Signature\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Sign to lock the inspection form and proceed to review\n        </p>\n      </div>\n\n      {/* Form Lock Warning */}\n      {hasSignedForm && (\n        <motion.div\n          className=\"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-500 rounded-xl p-4\"\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n        >\n          <div className=\"flex items-center gap-3\">\n            <Lock className=\"w-6 h-6 text-amber-600 dark:text-amber-400\" />\n            <div>\n              <p className=\"font-bold text-amber-900 dark:text-amber-100\">\n                Form Locked\n              </p>\n              <p className=\"text-sm text-amber-700 dark:text-amber-300\">\n                Inspector signature has been recorded. Form is read-only.\n              </p>\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Inspector Name */}\n      <div>\n        <label\n          htmlFor=\"inspectorNamePrint\"\n          className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          Inspector Name (Print) *\n        </label>\n        <input\n          type=\"text\"\n          id=\"inspectorNamePrint\"\n          value={formData.inspectorNamePrint || ''}\n          onChange={(e) => onChange('inspectorNamePrint', e.target.value)}\n          placeholder=\"Enter your full name\"\n          maxLength={100}\n          disabled={hasSignedForm}\n          className={`\n            w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n            focus:outline-none focus:ring-4\n            ${hasSignedForm \n              ? 'bg-gray-100 dark:bg-gray-800 border-gray-300 cursor-not-allowed' \n              : errors.inspectorNamePrint \n              ? 'border-red-500 focus:border-red-500 focus:ring-red-100' \n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n            }\n          `}\n          style={{ minHeight: '56px' }}\n        />\n        {errors.inspectorNamePrint && !hasSignedForm && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.inspectorNamePrint}</p>\n        )}\n      </div>\n\n      {/* Date and Time Display */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4\">\n          <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-1\">Date</p>\n          <p className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            {new Date(formData.inspectorDate || currentDate).toLocaleDateString()}\n          </p>\n        </div>\n        <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4\">\n          <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-1\">Time</p>\n          <p className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            {formData.inspectorTime || currentTime}\n          </p>\n        </div>\n      </div>\n\n      {/* Signature Canvas */}\n      <div>\n        <SignatureCanvas\n          onSave={handleSignatureSave}\n          initialSignature={formData.inspectorSignature?.imageData}\n          disabled={hasSignedForm}\n          label=\"Inspector Signature\"\n        />\n      </div>\n\n      {/* Signature Confirmation */}\n      {hasSignedForm && formData.inspectorSignature && (\n        <motion.div\n          className=\"bg-green-50 dark:bg-green-900/20 border-2 border-green-500 rounded-xl p-4\"\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n        >\n          <div className=\"flex items-center gap-3\">\n            <CheckCircle className=\"w-6 h-6 text-green-600 dark:text-green-400\" />\n            <div>\n              <p className=\"font-bold text-green-900 dark:text-green-100\">\n                Signature Recorded\n              </p>\n              <p className=\"text-sm text-green-700 dark:text-green-300\">\n                Signed by {formData.inspectorNamePrint} on{' '}\n                {new Date(formData.inspectorSignature.signedAt).toLocaleString()}\n              </p>\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Legal Notice */}\n      <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3\">\n        <p className=\"text-xs text-blue-900 dark:text-blue-100\">\n          <strong>Notice:</strong> By signing this form, you certify that the inspection was conducted\n          in accordance with ICS-212 standards and that all information is accurate to the best of your knowledge.\n        </p>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex gap-3 sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg\">\n        {!hasSignedForm && (\n          <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n            <button\n              type=\"button\"\n              onClick={onBack}\n              className=\"\n                flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n                py-4 px-6 rounded-xl transition-all\n                focus:outline-none focus:ring-4 focus:ring-gray-300\n              \"\n              style={{ minHeight: '56px' }}\n            >\n              Back\n            </button>\n          </TouchFeedback>\n        )}\n\n        <TouchFeedback onTap={() => onNext()} hapticType=\"medium\">\n          <button\n            type=\"button\"\n            onClick={onNext}\n            disabled={!hasSignedForm}\n            className={`\n              ${hasSignedForm ? 'flex-1' : 'flex-[2]'}\n              font-bold py-4 px-6 rounded-xl transition-all shadow-lg\n              focus:outline-none focus:ring-4\n              ${hasSignedForm\n                ? 'bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-300 hover:shadow-xl'\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n              }\n            `}\n            style={{ minHeight: '56px' }}\n          >\n            {hasSignedForm ? 'Next: Review & Submit' : 'Sign Form to Continue'}\n          </button>\n        </TouchFeedback>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default InspectorSignatureStep;\n","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { CheckCircle, Edit, Loader2 } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport TouchFeedback from '../mobile/TouchFeedback';\nimport SignatureCanvas from '../SignatureCanvas';\nimport type { ICS212FormData, DigitalSignature } from '../../types';\n\ninterface ReviewSubmitStepProps {\n  formData: Partial<ICS212FormData>;\n  onChange: (field: keyof ICS212FormData, value: any) => void;\n  onBack: () => void;\n  onGoToStep: (step: number) => void;\n  onSubmit: () => Promise<void>;\n}\n\nexport const ReviewSubmitStep: React.FC<ReviewSubmitStepProps> = ({\n  formData,\n  onChange,\n  onBack,\n  onGoToStep,\n  onSubmit,\n}) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [hasOperatorSigned, setHasOperatorSigned] = useState(!!formData.operatorSignature);\n\n  const handleOperatorSignatureSave = (signatureData: string) => {\n    const signature: DigitalSignature = {\n      imageData: signatureData,\n      signedAt: new Date().toISOString(),\n      signedBy: formData.operatorNamePrint || '',\n      ipAddress: undefined,\n      deviceId: navigator.userAgent,\n    };\n    \n    onChange('operatorSignature', signature);\n    onChange('operatorDate', new Date().toISOString().split('T')[0]);\n    onChange('operatorTime', new Date().toTimeString().slice(0, 5));\n    setHasOperatorSigned(true);\n  };\n\n  const handleFinalSubmit = async () => {\n    if (!hasOperatorSigned) {\n      toast.error('Operator signature required');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      await onSubmit();\n      toast.success('Form submitted successfully!');\n    } catch (error) {\n      toast.error('Submission failed. Please try again.');\n      console.error('Submission error:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Calculate counts\n  const passCount = formData.inspectionItems?.filter(item => item.status === 'pass').length || 0;\n  const failCount = formData.inspectionItems?.filter(item => item.status === 'fail').length || 0;\n  const naCount = formData.inspectionItems?.filter(item => item.status === 'n/a').length || 0;\n  const releaseDecision = formData.releaseStatus || 'release';\n\n  return (\n    <motion.div\n      className=\"space-y-6 p-4 md:p-6 pb-24\"\n      initial={{ opacity: 0, x: 20 }}\n      animate={{ opacity: 1, x: 0 }}\n      exit={{ opacity: 0, x: -20 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n          Review & Submit\n        </h2>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n          Review all information before final submission\n        </p>\n      </div>\n\n      {/* Incident Information Card */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            Incident Information\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(0)}\n            className=\"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm\"\n          >\n            <Edit className=\"w-4 h-4\" /> Edit\n          </button>\n        </div>\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Incident Name</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.incidentName || 'N/A'}</p>\n          </div>\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Date/Time</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">\n              {formData.inspectorDate} {formData.inspectorTime}\n            </p>\n          </div>\n          {formData.orderNo && (\n            <div className=\"col-span-2\">\n              <p className=\"text-gray-600 dark:text-gray-400\">Order Number</p>\n              <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.orderNo}</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Vehicle Information Card */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            Vehicle Information\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(1)}\n            className=\"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm\"\n          >\n            <Edit className=\"w-4 h-4\" /> Edit\n          </button>\n        </div>\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Vehicle ID</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.vehicleIdNo || 'N/A'}</p>\n          </div>\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Odometer</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">\n              {formData.odometerReading?.toLocaleString() || 'N/A'} mi\n            </p>\n          </div>\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">License Plate</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.vehicleLicenseNo || 'N/A'}</p>\n          </div>\n          <div>\n            <p className=\"text-gray-600 dark:text-gray-400\">Type</p>\n            <p className=\"font-semibold text-gray-900 dark:text-white\">{formData.vehicleType || 'N/A'}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Inspection Results Card */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n            Inspection Results\n          </h3>\n          <button\n            type=\"button\"\n            onClick={() => onGoToStep(2)}\n            className=\"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm\"\n          >\n            <Edit className=\"w-4 h-4\" /> Edit\n          </button>\n        </div>\n        \n        <div className=\"grid grid-cols-3 gap-3 mb-4\">\n          <div className=\"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 text-center\">\n            <p className=\"text-2xl font-bold text-green-600 dark:text-green-400\">{passCount}</p>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400\">Passed</p>\n          </div>\n          <div className=\"bg-red-50 dark:bg-red-900/20 rounded-lg p-3 text-center\">\n            <p className=\"text-2xl font-bold text-red-600 dark:text-red-400\">{failCount}</p>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400\">Failed</p>\n          </div>\n          <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center\">\n            <p className=\"text-2xl font-bold text-gray-600 dark:text-gray-400\">{naCount}</p>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400\">N/A</p>\n          </div>\n        </div>\n\n        {/* Release Decision Badge */}\n        <div className={`\n          p-4 rounded-lg text-center font-bold text-lg\n          ${releaseDecision === 'hold'\n            ? 'bg-red-100 text-red-900 dark:bg-red-900/30 dark:text-red-100'\n            : 'bg-green-100 text-green-900 dark:bg-green-900/30 dark:text-green-100'\n          }\n        `}>\n          {releaseDecision === 'hold' ? 'üî¥ HOLD FOR REPAIRS' : 'üü¢ RELEASED'}\n        </div>\n      </div>\n\n      {/* Comments Card */}\n      {formData.additionalComments && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n              Additional Comments\n            </h3>\n            <button\n              type=\"button\"\n              onClick={() => onGoToStep(3)}\n              className=\"text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm\"\n            >\n              <Edit className=\"w-4 h-4\" /> Edit\n            </button>\n          </div>\n          <p className=\"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap\">\n            {formData.additionalComments}\n          </p>\n        </div>\n      )}\n\n      {/* Inspector Signature Preview */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-4\">\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-3\">\n          Inspector Signature\n        </h3>\n        <div className=\"flex items-center gap-4\">\n          {formData.inspectorSignature?.imageData && (\n            <img \n              src={formData.inspectorSignature.imageData} \n              alt=\"Inspector signature\" \n              className=\"h-20 border border-gray-300 rounded bg-white\"\n            />\n          )}\n          <div className=\"flex-1\">\n            <p className=\"font-semibold text-gray-900 dark:text-white\">\n              {formData.inspectorNamePrint}\n            </p>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Signed: {formData.inspectorSignature && new Date(formData.inspectorSignature.signedAt).toLocaleString()}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Operator Signature Section */}\n      <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-800 p-4\">\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-3\">\n          Operator Signature Required\n        </h3>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label\n              htmlFor=\"operatorNamePrint\"\n              className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\"\n            >\n              Operator Name (Print) *\n            </label>\n            <input\n              type=\"text\"\n              id=\"operatorNamePrint\"\n              value={formData.operatorNamePrint || ''}\n              onChange={(e) => onChange('operatorNamePrint', e.target.value)}\n              placeholder=\"Enter operator full name\"\n              maxLength={100}\n              disabled={hasOperatorSigned}\n              className={`\n                w-full px-4 py-3 text-base rounded-xl border-2 transition-all\n                focus:outline-none focus:ring-4\n                ${hasOperatorSigned \n                  ? 'bg-gray-100 dark:bg-gray-800 border-gray-300 cursor-not-allowed' \n                  : 'border-gray-300 focus:border-blue-500 focus:ring-blue-100'\n                }\n              `}\n            />\n          </div>\n\n          <SignatureCanvas\n            onSave={handleOperatorSignatureSave}\n            initialSignature={formData.operatorSignature?.imageData}\n            disabled={hasOperatorSigned}\n            label=\"Operator Signature\"\n          />\n        </div>\n      </div>\n\n      {/* Submit Button */}\n      <div className=\"sticky bottom-4 bg-white dark:bg-gray-900 p-4 rounded-xl shadow-lg\">\n        <div className=\"flex gap-3\">\n          <TouchFeedback onTap={() => onBack()} hapticType=\"light\">\n            <button\n              type=\"button\"\n              onClick={onBack}\n              disabled={isSubmitting}\n              className=\"\n                flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold\n                py-4 px-6 rounded-xl transition-all\n                focus:outline-none focus:ring-4 focus:ring-gray-300\n                disabled:opacity-50 disabled:cursor-not-allowed\n              \"\n              style={{ minHeight: '56px' }}\n            >\n              Back\n            </button>\n          </TouchFeedback>\n\n          <TouchFeedback onTap={handleFinalSubmit} hapticType=\"heavy\">\n            <button\n              type=\"button\"\n              onClick={handleFinalSubmit}\n              disabled={!hasOperatorSigned || isSubmitting}\n              className={`\n                flex-[2] font-bold py-4 px-6 rounded-xl transition-all\n                focus:outline-none focus:ring-4 flex items-center justify-center gap-2\n                ${hasOperatorSigned && !isSubmitting\n                  ? 'bg-green-600 hover:bg-green-700 text-white focus:ring-green-300 shadow-lg hover:shadow-xl'\n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                }\n              `}\n              style={{ minHeight: '56px' }}\n            >\n              {isSubmitting ? (\n                <>\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\n                  Submitting...\n                </>\n              ) : (\n                <>\n                  <CheckCircle className=\"w-5 h-5\" />\n                  Submit Final Form\n                </>\n              )}\n            </button>\n          </TouchFeedback>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default ReviewSubmitStep;\n","import React, { useState, useEffect } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport toast from 'react-hot-toast';\nimport { Save, Trash2 } from 'lucide-react';\nimport ProgressIndicator from './mobile/ProgressIndicator';\nimport IncidentInfoStep from './ics212/IncidentInfoStep';\nimport VehicleSelectionStep from './ics212/VehicleSelectionStep';\nimport InspectionItemsStep from './ics212/InspectionItemsStep';\nimport CommentsStep from './ics212/CommentsStep';\nimport InspectorSignatureStep from './ics212/InspectorSignatureStep';\nimport ReviewSubmitStep from './ics212/ReviewSubmitStep';\nimport type { ICS212FormData, ICS212DraftData, ICS212SubmissionResponse } from '../types';\n\nconst STEPS = [\n  { id: 0, title: 'Incident Info', component: IncidentInfoStep },\n  { id: 1, title: 'Vehicle', component: VehicleSelectionStep },\n  { id: 2, title: 'Inspection', component: InspectionItemsStep },\n  { id: 3, title: 'Comments', component: CommentsStep },\n  { id: 4, title: 'Inspector Sign', component: InspectorSignatureStep },\n  { id: 5, title: 'Review & Submit', component: ReviewSubmitStep },\n];\n\nconst INITIAL_FORM_DATA: Partial<ICS212FormData> = {\n  status: 'draft',\n  incidentName: '',\n  orderNo: '',\n  vehicleIdNo: '',\n  vehicleLicenseNo: '',\n  agencyRegUnit: '',\n  vehicleType: '',\n  selectedVehicleId: '',\n  odometerReading: 0,\n  inspectionItems: [],\n  additionalComments: '',\n  releaseStatus: 'release',\n  inspectorDate: new Date().toISOString().split('T')[0],\n  inspectorTime: new Date().toTimeString().slice(0, 5),\n  inspectorNamePrint: '',\n};\n\nexport const ICS212Form: React.FC = () => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [formData, setFormData] = useState<Partial<ICS212FormData>>(INITIAL_FORM_DATA);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [showDraftDialog, setShowDraftDialog] = useState(false);\n  const [recoveredDraft, setRecoveredDraft] = useState<ICS212DraftData | null>(null);\n\n  // Auto-save to localStorage every 30 seconds\n  useEffect(() => {\n    const saveInterval = setInterval(() => {\n      if (formData && !isSubmitted && currentStep > 0) {\n        const draft: ICS212DraftData = {\n          formData,\n          currentStep,\n          savedAt: new Date().toISOString(),\n          expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 days\n        };\n        localStorage.setItem('ics212-draft', JSON.stringify(draft));\n        toast.success('Draft auto-saved', { duration: 1500, icon: 'üíæ' });\n      }\n    }, 30000); // 30 seconds\n\n    return () => clearInterval(saveInterval);\n  }, [formData, currentStep, isSubmitted]);\n\n  // Draft recovery on mount\n  useEffect(() => {\n    const draftJson = localStorage.getItem('ics212-draft');\n    if (draftJson) {\n      try {\n        const draft = JSON.parse(draftJson) as ICS212DraftData;\n        const expiryDate = new Date(draft.expiresAt);\n        const now = new Date();\n        \n        if (expiryDate > now) {\n          setRecoveredDraft(draft);\n          setShowDraftDialog(true);\n        } else {\n          // Draft expired, clear it\n          localStorage.removeItem('ics212-draft');\n        }\n      } catch (error) {\n        console.error('Failed to parse draft:', error);\n        localStorage.removeItem('ics212-draft');\n      }\n    }\n  }, []);\n\n  const handleResumeDraft = () => {\n    if (recoveredDraft) {\n      setFormData(recoveredDraft.formData);\n      setCurrentStep(recoveredDraft.currentStep);\n      setShowDraftDialog(false);\n      toast.success('Draft restored!');\n    }\n  };\n\n  const handleDiscardDraft = () => {\n    localStorage.removeItem('ics212-draft');\n    setShowDraftDialog(false);\n    setRecoveredDraft(null);\n    toast('Draft discarded', { icon: 'üóëÔ∏è' });\n  };\n\n  const handleFieldChange = (field: keyof ICS212FormData, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error for this field\n    if (errors[field]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  };\n\n  const validateStep = (step: number): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    switch (step) {\n      case 0: // Incident Info\n        if (!formData.incidentName || formData.incidentName.length < 3) {\n          newErrors.incidentName = 'Incident name must be at least 3 characters';\n        }\n        if (!formData.inspectorDate) {\n          newErrors.inspectorDate = 'Date is required';\n        }\n        if (!formData.inspectorTime) {\n          newErrors.inspectorTime = 'Time is required';\n        }\n        break;\n\n      case 1: // Vehicle Selection\n        // Check if vehicle is selected from Airtable OR manual fields are populated\n        const hasAirtableVehicle = formData.selectedVehicleId;\n        const hasManualVehicleInfo = formData.vehicleIdNo || formData.vehicleType || \n                               formData.vehicleLicenseNo || formData.agencyRegUnit;\n        const hasVehicleInfo = hasAirtableVehicle || hasManualVehicleInfo;\n        \n        if (!hasVehicleInfo) {\n          newErrors.vehicleIdNo = 'Please select or enter vehicle information';\n        }\n        if (!formData.odometerReading || formData.odometerReading === 0) {\n          newErrors.odometerReading = 'Odometer reading is required';\n        }\n        break;\n\n      case 4: // Inspector Signature\n        if (!formData.inspectorNamePrint || (formData.inspectorNamePrint || '').length < 2) {\n          newErrors.inspectorNamePrint = 'Inspector name must be at least 2 characters';\n        }\n        if (!formData.inspectorSignature) {\n          newErrors.inspectorSignature = 'Signature is required';\n        }\n        break;\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleNext = () => {\n    if (validateStep(currentStep)) {\n      if (currentStep < STEPS.length - 1) {\n        setCurrentStep(currentStep + 1);\n      }\n    } else {\n      toast.error('Please complete all required fields');\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleGoToStep = (step: number) => {\n    if (step >= 0 && step < STEPS.length) {\n      setCurrentStep(step);\n    }\n  };\n\n  const handleManualSave = () => {\n    const draft: ICS212DraftData = {\n      formData,\n      currentStep,\n      savedAt: new Date().toISOString(),\n      expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n    };\n    localStorage.setItem('ics212-draft', JSON.stringify(draft));\n    toast.success('Draft saved manually!', { icon: 'üíæ' });\n  };\n\n  const handleClearForm = () => {\n    if (confirm('Are you sure you want to clear all form data? This cannot be undone.')) {\n      setFormData(INITIAL_FORM_DATA);\n      setCurrentStep(0);\n      setErrors({});\n      localStorage.removeItem('ics212-draft');\n      toast('Form cleared', { icon: 'üóëÔ∏è' });\n    }\n  };\n\n  const handleSubmit = async () => {\n    try {\n      // Prepare submission data\n      const submissionData: Partial<ICS212FormData> = {\n        ...formData,\n        submittedAt: new Date().toISOString(),\n        status: 'submitted',\n      };\n\n      // Submit to backend\n      const response = await fetch('/api/ics212/submit', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(submissionData),\n      });\n\n      if (!response.ok) {\n        throw new Error('Submission failed');\n      }\n\n      const result: ICS212SubmissionResponse = await response.json();\n      \n      if (result.success) {\n        setIsSubmitted(true);\n        localStorage.removeItem('ics212-draft');\n        toast.success(`Form submitted! ID: ${result.formId}`);\n        \n        // Optionally redirect or show success screen\n        console.log('Submission result:', result);\n      } else {\n        throw new Error(result.error || 'Submission failed');\n      }\n    } catch (error) {\n      console.error('Submission error:', error);\n      throw error;\n    }\n  };\n\n  const CurrentStepComponent = STEPS[currentStep].component;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40 shadow-sm\">\n        <div className=\"max-w-4xl mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <img \n                src=\"/taskforce-io-logo.png\" \n                alt=\"TASKFORCE IO\" \n                className=\"w-10 h-10 object-contain\"\n              />\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                  ICS-212 Vehicle Safety Inspection\n                </h1>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  Step {currentStep + 1} of {STEPS.length}: {STEPS[currentStep].title}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={handleManualSave}\n                className=\"p-2 rounded-lg bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors\"\n                title=\"Save Draft\"\n              >\n                <Save className=\"w-5 h-5\" />\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleClearForm}\n                className=\"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors\"\n                title=\"Clear Form\"\n              >\n                <Trash2 className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Progress Indicator */}\n          <ProgressIndicator\n            currentStep={currentStep + 1}\n            totalSteps={STEPS.length}\n            labels={STEPS.map(s => s.title)}\n          />\n        </div>\n      </div>\n\n      {/* Form Content */}\n      <div className=\"max-w-4xl mx-auto\">\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={currentStep}\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: -20 }}\n            transition={{ duration: 0.3 }}\n          >\n            <CurrentStepComponent\n              formData={formData}\n              onChange={handleFieldChange}\n              onNext={handleNext}\n              onBack={handleBack}\n              onGoToStep={handleGoToStep}\n              onSubmit={handleSubmit}\n              errors={errors}\n            />\n          </motion.div>\n        </AnimatePresence>\n      </div>\n\n      {/* Draft Recovery Dialog */}\n      <AnimatePresence>\n        {showDraftDialog && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            <motion.div\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6\"\n              initial={{ scale: 0.9, y: 20 }}\n              animate={{ scale: 1, y: 0 }}\n              exit={{ scale: 0.9, y: 20 }}\n            >\n              <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                Resume Draft?\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                We found a saved draft from{' '}\n                {recoveredDraft && new Date(recoveredDraft.savedAt).toLocaleString()}.\n                Would you like to resume where you left off?\n              </p>\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={handleDiscardDraft}\n                  className=\"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-xl transition-colors\"\n                >\n                  Start Fresh\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleResumeDraft}\n                  className=\"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors\"\n                >\n                  Resume Draft\n                </button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Submission Success Screen */}\n      <AnimatePresence>\n        {isSubmitted && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n          >\n            <motion.div\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-8 text-center\"\n              initial={{ scale: 0.9, y: 20 }}\n              animate={{ scale: 1, y: 0 }}\n            >\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n              <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n                Form Submitted!\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n                Your ICS-212 form has been successfully submitted and logged.\n              </p>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setIsSubmitted(false);\n                  setFormData(INITIAL_FORM_DATA);\n                  setCurrentStep(0);\n                }}\n                className=\"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors\"\n              >\n                Start New Form\n              </button>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default ICS212Form;\n"],"names":["__iconNode","LoaderCircle","createLucideIcon","IncidentInfoStep","formData","onChange","onNext","errors","handleSubmit","e","getCurrentDate","getCurrentTime","now","hours","minutes","jsxs","motion","jsx","TouchFeedback","AddVehicleModal","isOpen","onClose","onVehicleAdded","setFormData","useState","formErrors","setFormErrors","isSubmitting","setIsSubmitting","resetForm","handleClose","validateForm","field","showToast","response","API_BASE_URL","error","result","AnimatePresence","Fragment","Save","VehicleSelectionStep","onBack","vehicles","setVehicles","loadingVehicles","setLoadingVehicles","selectedVehicle","setSelectedVehicle","isAddModalOpen","setIsAddModalOpen","useEffect","fetchVehicles","data","handleVehicleSelect","vehicleId","vehicle","v","handleVehicleAdded","newVehicle","SkeletonLoader","Plus","INSPECTION_ITEMS","InspectionItemsStep","_errors","expandedSections","setExpandedSections","inspectionItems","releaseDecision","useMemo","item","handleItemStatusChange","itemNumber","status","updatedItems","toggleSection","section","newExpanded","renderInspectionItem","itemData","i","AlertTriangle","CheckCircle","XCircle","renderSection","title","sectionKey","items","subtitle","isExpanded","ChevronDown","CommentsStep","textareaRef","useRef","maxLength","currentLength","suggestion","current","InspectorSignatureStep","hasSignedForm","setHasSignedForm","handleSignatureSave","signatureData","signature","getCurrentDateTime","currentDate","currentTime","Lock","SignatureCanvas","ReviewSubmitStep","onGoToStep","onSubmit","hasOperatorSigned","setHasOperatorSigned","handleOperatorSignatureSave","handleFinalSubmit","toast","passCount","failCount","naCount","Edit","Loader2","STEPS","INITIAL_FORM_DATA","ICS212Form","currentStep","setCurrentStep","setErrors","isSubmitted","setIsSubmitted","showDraftDialog","setShowDraftDialog","recoveredDraft","setRecoveredDraft","saveInterval","draft","draftJson","handleResumeDraft","handleDiscardDraft","handleFieldChange","value","prev","newErrors","validateStep","step","hasAirtableVehicle","hasManualVehicleInfo","handleNext","handleBack","handleGoToStep","handleManualSave","handleClearForm","submissionData","CurrentStepComponent","Trash2","ProgressIndicator","s"],"mappings":"+dASA,MAAMA,EAAa,CAAC,CAAC,OAAQ,CAAE,EAAG,8BAA+B,IAAK,QAAQ,CAAE,CAAC,EAC3EC,EAAeC,EAAiB,gBAAiBF,CAAU,ECEpDG,GAAoD,CAAC,CAChE,SAAAC,EACA,SAAAC,EACA,OAAAC,EACA,OAAAC,CACF,IAAM,CACJ,MAAMC,EAAgBC,GAAuB,CAC3CA,EAAE,eAAA,EACFH,EAAA,CACF,EAGMI,EAAiB,IACd,IAAI,OAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,EAGxCC,EAAiB,IAAM,CAC3B,MAAMC,MAAU,KACVC,EAAQ,OAAOD,EAAI,SAAA,CAAU,EAAE,SAAS,EAAG,GAAG,EAC9CE,EAAU,OAAOF,EAAI,WAAA,CAAY,EAAE,SAAS,EAAG,GAAG,EACxD,MAAO,GAAGC,CAAK,IAAIC,CAAO,EAC5B,EAEA,OACEC,EAAAA,KAACC,EAAO,KAAP,CACC,UAAU,uBACV,SAAUR,EACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,KAAM,CAAE,QAAS,EAAG,EAAG,GAAA,EACvB,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA,CAAAO,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,uBAEtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,sCAAA,CAExD,CAAA,EACF,SAGC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CACC,QAAQ,eACR,UAAU,oEACX,SAAA,iBAAA,CAAA,EAGDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,eACH,MAAOb,EAAS,cAAgB,GAChC,SAAWK,GAAMJ,EAAS,eAAgBI,EAAE,OAAO,KAAK,EACxD,YAAY,+BACZ,UAAW,IACX,UAAW;AAAA;AAAA;AAAA,cAGPF,EAAO,aACL,yDACA,2DACJ;AAAA,YAEF,MAAO,CAAE,UAAW,MAAA,CAAO,CAAA,EAE5BA,EAAO,cACNU,EAAAA,IAAC,KAAE,UAAU,4BAA6B,WAAO,YAAA,CAAa,CAAA,EAElE,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,QAAA,CACC,QAAQ,gBACR,UAAU,oEACX,SAAA,QAAA,CAAA,EAGDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,gBACH,MAAOb,EAAS,eAAiBM,EAAA,EACjC,SAAWD,GAAMJ,EAAS,gBAAiBI,EAAE,OAAO,KAAK,EACzD,IAAKC,EAAA,EACL,UAAW;AAAA;AAAA;AAAA,gBAGPH,EAAO,cACL,yDACA,2DACJ;AAAA,cAEF,MAAO,CAAE,UAAW,MAAA,CAAO,CAAA,EAE5BA,EAAO,eACNU,EAAAA,IAAC,KAAE,UAAU,4BAA6B,WAAO,aAAA,CAAc,CAAA,EAEnE,SAEC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CACC,QAAQ,gBACR,UAAU,oEACX,SAAA,QAAA,CAAA,EAGDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,gBACH,MAAOb,EAAS,eAAiBO,EAAA,EACjC,SAAWF,GAAMJ,EAAS,gBAAiBI,EAAE,OAAO,KAAK,EACzD,UAAW;AAAA;AAAA;AAAA,gBAGPF,EAAO,cACL,yDACA,2DACJ;AAAA,cAEF,MAAO,CAAE,UAAW,MAAA,CAAO,CAAA,EAE5BA,EAAO,eACNU,EAAAA,IAAC,KAAE,UAAU,4BAA6B,WAAO,aAAA,CAAc,CAAA,CAAA,CAEnE,CAAA,EACF,SAGC,MAAA,CACC,SAAA,CAAAF,EAAAA,KAAC,QAAA,CACC,QAAQ,UACR,UAAU,oEACX,SAAA,CAAA,gBACcE,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,YAAA,CAAU,CAAA,CAAA,CAAA,EAEzDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,UACH,MAAOb,EAAS,SAAW,GAC3B,SAAWK,GAAMJ,EAAS,UAAWI,EAAE,OAAO,KAAK,EACnD,YAAY,yBACZ,UAAW,GACX,UAAU;AAAA;AAAA;AAAA;AAAA,YAKV,MAAO,CAAE,UAAW,MAAA,CAAO,CAAA,CAC7B,EACF,QAGCS,EAAA,CAAc,MAAO,IAAMZ,EAAA,EAAU,WAAW,SAC/C,SAAAW,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU;AAAA;AAAA;AAAA;AAAA,YAKV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,yBAAA,CAAA,CAED,CACF,CAAA,CAAA,CAAA,CAGN,ECpJO,SAASE,GAAgB,CAAE,OAAAC,EAAQ,QAAAC,EAAS,eAAAC,GAAwC,CACzF,KAAM,CAAClB,EAAUmB,CAAW,EAAIC,WAA0B,CACxD,QAAS,GACT,OAAQ,GACR,YAAa,GACb,YAAa,GACb,WAAY,GACZ,UAAW,GACX,SAAU,GACV,cAAe,GACf,MAAO,GACP,cAAe,QAAA,CAChB,EACK,CAACC,EAAYC,CAAa,EAAIF,EAAAA,SAAiC,CAAA,CAAE,EACjE,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAS,EAAK,EAEhDK,EAAY,IAAM,CACtBN,EAAY,CACV,QAAS,GACT,OAAQ,GACR,YAAa,GACb,YAAa,GACb,WAAY,GACZ,UAAW,GACX,SAAU,GACV,cAAe,GACf,MAAO,GACP,cAAe,QAAA,CAChB,EACDG,EAAc,CAAA,CAAE,CAClB,EAEMI,EAAc,IAAM,CACnBH,IACHE,EAAA,EACAR,EAAA,EAEJ,EAEMU,EAAe,IAAe,CAClC,MAAMxB,EAAiC,CAAA,EAGvC,OAAKH,EAAS,QAAQ,OAEXA,EAAS,QAAQ,OAAS,MACnCG,EAAO,QAAU,kDAFjBA,EAAO,QAAU,8BAMdH,EAAS,YAAY,SACxBG,EAAO,YAAc,4BAIH,CAClBH,EAAS,OACTA,EAAS,YACTA,EAAS,WACTA,EAAS,UACTA,EAAS,SACTA,EAAS,cACTA,EAAS,KAAA,EAGM,QAAc4B,EAAM,KAAA,CAAM,IACzCzB,EAAO,QAAU,gDAGnBmB,EAAcnB,CAAM,EACb,OAAO,KAAKA,CAAM,EAAE,SAAW,CACxC,EAEMC,EAAe,MAAOC,GAAuB,CAGjD,GAFAA,EAAE,eAAA,EAEE,CAACsB,IAAgB,CACnBE,EAAU,CAAE,QAAS,mCAAoC,KAAM,QAAS,EACxE,MACF,CAEAL,EAAgB,EAAI,EAEpB,GAAI,CACF,MAAMM,EAAW,MAAM,MAAM,GAAGC,CAAY,YAAa,CACvD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAA,EAC3B,KAAM,KAAK,UAAU/B,CAAQ,CAAA,CAC9B,EAED,GAAI,CAAC8B,EAAS,GAAI,CAChB,MAAME,EAAQ,MAAMF,EAAS,KAAA,EAC7B,MAAM,IAAI,MAAME,EAAM,SAAW,0BAA0B,CAC7D,CAEA,MAAMC,EAAS,MAAMH,EAAS,KAAA,EAC9BD,EAAU,CAAE,QAAS,+BAAgC,KAAM,UAAW,EAGtEX,EAAee,EAAO,OAAO,EAG7BR,EAAA,EACAR,EAAA,CACF,OAASe,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9CH,EAAU,CACR,QAASG,aAAiB,MAAQA,EAAM,QAAU,2BAClD,KAAM,OAAA,CACP,CACH,QAAA,CACER,EAAgB,EAAK,CACvB,CACF,EAEA,OAAKR,EAGHH,EAAAA,IAACqB,GACC,SAAArB,EAAAA,IAAC,MAAA,CAAI,UAAU,qCACb,SAAAF,EAAAA,KAAC,MAAA,CAAI,UAAU,oDAEb,SAAA,CAAAE,EAAAA,IAACD,EAAO,IAAP,CACC,UAAU,0DACV,QAASc,EACT,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,KAAM,CAAE,QAAS,CAAA,CAAE,CAAA,EAIrBf,EAAAA,KAACC,EAAO,IAAP,CACC,UAAU,wGACV,QAAS,CAAE,QAAS,EAAG,MAAO,IAAM,EAAG,EAAA,EACvC,QAAS,CAAE,QAAS,EAAG,MAAO,EAAG,EAAG,CAAA,EACpC,KAAM,CAAE,QAAS,EAAG,MAAO,IAAM,EAAG,EAAA,EACpC,WAAY,CAAE,SAAU,EAAA,EAGxB,SAAA,CAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,kIACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,sDAAsD,SAAA,kBAEpE,EACAA,EAAAA,IAAC,SAAA,CACC,QAASa,EACT,SAAUH,EACV,UAAU,6GAEV,SAAAV,EAAAA,IAAC,EAAA,CAAE,UAAU,SAAA,CAAU,CAAA,CAAA,CACzB,EACF,EAGAF,EAAAA,KAAC,OAAA,CAAK,SAAUP,EAAc,UAAU,MACtC,SAAA,CAAAO,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEZ,SAAA,CAAAU,EAAW,SACVR,EAAAA,IAAC,MAAA,CAAI,UAAU,+HACZ,WAAW,QACd,SAID,MAAA,CACC,SAAA,CAAAF,EAAAA,KAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,CAAA,mBACjEE,EAAAA,IAAC,OAAA,CAAK,UAAU,eAAe,SAAA,GAAA,CAAC,CAAA,EAClD,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,QAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,QAASK,EAAE,OAAO,MAAO,EACrE,UAAW,uEACTgB,EAAW,QAAU,iBAAmB,sCAC1C,GACA,YAAY,gBACZ,SAAUE,CAAA,CAAA,EAEXF,EAAW,SACVR,EAAAA,IAAC,KAAE,UAAU,8CAA+C,WAAW,OAAA,CAAQ,CAAA,EAEnF,SAGC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,SAEnF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,OAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,OAAQK,EAAE,OAAO,MAAO,EACpE,UAAU,2GACV,YAAY,aACZ,SAAUkB,CAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAZ,EAAAA,KAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,CAAA,QAC5EE,EAAAA,IAAC,OAAA,CAAK,UAAU,eAAe,SAAA,GAAA,CAAC,CAAA,EACvC,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,YAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,YAAaK,EAAE,OAAO,MAAO,EACzE,UAAW,uEACTgB,EAAW,YAAc,iBAAmB,sCAC9C,GACA,YAAY,uCACZ,SAAUE,CAAA,CAAA,EAEXF,EAAW,aACVR,EAAAA,IAAC,KAAE,UAAU,8CAA+C,WAAW,WAAA,CAAY,CAAA,EAEvF,SAGC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,gBAEnF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,YAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,YAAaK,EAAE,OAAO,MAAO,EACzE,UAAU,2GACV,YAAY,0CACZ,SAAUkB,CAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAV,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,iBAEnF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,cAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,cAAeK,EAAE,OAAO,MAAO,EAC3E,UAAU,2GACV,YAAY,iBACZ,SAAUkB,CAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAV,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,cAEnF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,WAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,WAAYK,EAAE,OAAO,MAAO,EACxE,UAAU,2GACV,YAAY,qBACZ,SAAUkB,CAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAV,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,iBAEnF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,UAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,UAAWK,EAAE,OAAO,MAAO,EACvE,UAAU,2GACV,YAAY,oBACZ,SAAUkB,CAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAV,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,WAEnF,EACAA,EAAAA,IAAC,WAAA,CACC,MAAOb,EAAS,SAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,SAAUK,EAAE,OAAO,MAAO,EACtE,KAAM,EACN,UAAU,2GACV,YAAY,wDACZ,SAAUkB,CAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAV,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,SAEnF,EACAF,EAAAA,KAAC,SAAA,CACC,MAAOX,EAAS,cAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,cAAeK,EAAE,OAAO,MAA2C,EAC/G,UAAU,2GACV,SAAUkB,EAEV,SAAA,CAAAV,EAAAA,IAAC,SAAA,CAAO,MAAM,SAAS,SAAA,SAAM,EAC7BA,EAAAA,IAAC,SAAA,CAAO,MAAM,WAAW,SAAA,WAAQ,EACjCA,EAAAA,IAAC,SAAA,CAAO,MAAM,cAAc,SAAA,cAAW,EACvCA,EAAAA,IAAC,SAAA,CAAO,MAAM,WAAW,SAAA,UAAA,CAAQ,CAAA,CAAA,CAAA,CACnC,EACF,SAGC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,QAEnF,EACAA,EAAAA,IAAC,WAAA,CACC,MAAOb,EAAS,MAChB,SAAWK,GAAMc,EAAY,CAAE,GAAGnB,EAAU,MAAOK,EAAE,OAAO,MAAO,EACnE,KAAM,EACN,UAAU,2GACV,YAAY,+BACZ,SAAUkB,CAAA,CAAA,CACZ,CAAA,CACF,CAAA,EACF,EAGAZ,EAAAA,KAAC,MAAA,CAAI,UAAU,2IACb,SAAA,CAAAE,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASa,EACT,SAAUH,EACV,UAAU,4LACX,SAAA,QAAA,CAAA,EAGDV,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAUU,EACV,UAAU,yIAET,WACCZ,EAAAA,KAAAwB,EAAAA,SAAA,CACE,SAAA,CAAAtB,EAAAA,IAAC,MAAA,CAAI,UAAU,8EAAA,CAA+E,EAAE,aAAA,CAAA,CAElG,EAEAF,EAAAA,KAAAwB,EAAAA,SAAA,CACE,SAAA,CAAAtB,EAAAA,IAACuB,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,gBAAA,CAAA,CAE9B,CAAA,CAAA,CAEJ,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAAA,CACF,EACF,EACF,EAnPkB,IAqPtB,CCvXO,MAAMC,GAA4D,CAAC,CACxE,SAAArC,EACA,SAAAC,EACA,OAAAC,EACA,OAAAoC,EACA,OAAAnC,CACF,IAAM,CACJ,KAAM,CAACoC,EAAUC,CAAW,EAAIpB,EAAAA,SAAoB,CAAA,CAAE,EAChD,CAACqB,EAAiBC,CAAkB,EAAItB,EAAAA,SAAS,EAAI,EACrD,CAACuB,EAAiBC,CAAkB,EAAIxB,EAAAA,SAAyB,IAAI,EACrE,CAACyB,EAAgBC,CAAiB,EAAI1B,EAAAA,SAAS,EAAK,EAG1D2B,EAAAA,UAAU,IAAM,CACdC,EAAA,CACF,EAAG,CAAA,CAAE,EAEL,MAAMA,EAAgB,SAAY,CAChCN,EAAmB,EAAI,EACvB,GAAI,CACF,MAAMZ,EAAW,MAAM,MAAM,GAAGC,CAAY,WAAW,EACvD,GAAI,CAACD,EAAS,GAAI,MAAM,IAAI,MAAM,0BAA0B,EAC5D,MAAMmB,EAAO,MAAMnB,EAAS,KAAA,EAC5BU,EAAYS,EAAK,UAAY,EAAE,CACjC,OAASjB,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,EAC/CH,EAAU,CAAE,QAAS,0BAA2B,KAAM,QAAS,CACjE,QAAA,CACEa,EAAmB,EAAK,CAC1B,CACF,EAEMQ,EAAuBC,GAAsB,CACjD,GAAI,CAACA,EAAW,CAEdP,EAAmB,IAAI,EACvB3C,EAAS,oBAAqB,EAAE,EAChCA,EAAS,cAAe,EAAE,EAC1BA,EAAS,mBAAoB,EAAE,EAC/BA,EAAS,cAAe,EAAE,EAC1BA,EAAS,gBAAiB,EAAE,EAC5B,MACF,CAGA,GAAIkD,IAAc,cAAe,CAC/BL,EAAkB,EAAI,EACtB,MACF,CAEA,MAAMM,EAAUb,EAAS,KAAKc,GAAKA,EAAE,KAAOF,CAAS,EACjDC,IACFR,EAAmBQ,CAAO,EAG1BnD,EAAS,oBAAqBmD,EAAQ,EAAE,EAGxCnD,EAAS,cAAemD,EAAQ,WAAa,EAAE,EAC/CnD,EAAS,mBAAoBmD,EAAQ,eAAiB,EAAE,EACxDnD,EAAS,cAAemD,EAAQ,aAAe,EAAE,EACjDnD,EAAS,gBAAiBmD,EAAQ,SAAW,EAAE,EAEnD,EAEME,EAAqB,MAAOC,GAAwB,CAExD,MAAMP,EAAA,EAGNJ,EAAmBW,CAAU,EAC7BtD,EAAS,cAAesD,EAAW,WAAa,EAAE,EAClDtD,EAAS,mBAAoBsD,EAAW,eAAiB,EAAE,EAC3DtD,EAAS,cAAesD,EAAW,aAAe,EAAE,EACpDtD,EAAS,gBAAiBsD,EAAW,SAAW,EAAE,CACpD,EAEMnD,EAAgBC,GAAuB,CAC3CA,EAAE,eAAA,EACFH,EAAA,CACF,EAEA,OACES,EAAAA,KAACC,EAAO,KAAP,CACC,UAAU,uBACV,SAAUR,EACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,KAAM,CAAE,QAAS,EAAG,EAAG,GAAA,EACvB,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA,CAAAO,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,oBAEtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,gDAAA,CAExD,CAAA,EACF,SAGC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,oEAAoE,SAAA,eAErF,EACC4B,EACC5B,EAAAA,IAAC2C,EAAA,CAAe,KAAK,YAAY,EAEjC7C,EAAAA,KAAC,SAAA,CACC,MAAOgC,GAAiB,IAAM,GAC9B,SAAWtC,GAAM6C,EAAoB7C,EAAE,OAAO,KAAK,EACnD,UAAW;AAAA;AAAA;AAAA,gBAGPF,EAAO,YACL,yDACA,2DACJ;AAAA;AAAA,cAGF,MAAO,CAAE,UAAW,MAAA,EAEpB,SAAA,CAAAU,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,8BAA2B,EAC3C0B,EAAS,IAAKa,SACZ,SAAA,CAAwB,MAAOA,EAAQ,GACrC,SAAAA,EAAQ,aAAeA,EAAQ,YAC5B,GAAGA,EAAQ,WAAW,MAAMA,EAAQ,WAAW,IAAIA,EAAQ,SAAW,EAAE,GACxEA,EAAQ,SAAWA,EAAQ,aAAeA,EAAQ,aAAe,mBAH1DA,EAAQ,EAKrB,CACD,QACA,SAAA,CAAO,MAAM,cAAc,UAAU,gBAAgB,SAAA,mBAAA,CAEtD,CAAA,CAAA,CAAA,EAGH,CAACX,GAAmBF,EAAS,SAAW,GACvC1B,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,6DAAA,CAE1C,CAAA,EAEJ,EAGAA,EAAAA,IAAC,MAAA,CAAI,UAAU,sBACb,SAAAF,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMmC,EAAkB,EAAI,EACrC,UAAU,iKAEV,SAAA,CAAAjC,EAAAA,IAAC4C,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,iBAAA,CAAA,CAAA,EAGhC,EAGCd,GACChC,EAAAA,KAACC,EAAO,IAAP,CACC,UAAU,8FACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,8DAA8D,SAAA,2BAE5E,EACAF,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,YAAS,QACxD,IAAA,CAAE,UAAU,8CACV,SAAA,CAAC8B,EAAgB,YAAaA,EAAgB,WAAW,EACvD,OAAO,OAAO,EACd,KAAK,GAAG,GAAK,KAAA,CAClB,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA9B,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,gBAAa,QAC5D,IAAA,CAAE,UAAU,8CACV,SAAA8B,EAAgB,eAAiB,KAAA,CACpC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA9B,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,cAAW,QAC1D,IAAA,CAAE,UAAU,8CACV,SAAA8B,EAAgB,SAAW,KAAA,CAC9B,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA9B,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,SAAM,EACtDA,EAAAA,IAAC,OAAA,CACC,UAAW;AAAA;AAAA,oBAEP8B,EAAgB,gBAAkB,SAChC,8BACAA,EAAgB,gBAAkB,WAClC,0BACA,+BACJ;AAAA,kBAGD,WAAgB,eAAiB,SAAA,CAAA,CACpC,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,SAKH,MAAA,CACC,SAAA,CAAA9B,EAAAA,IAAC,QAAA,CACC,QAAQ,kBACR,UAAU,oEACX,SAAA,0BAAA,CAAA,EAGDA,EAAAA,IAAC,QAAA,CACC,KAAK,SACL,GAAG,kBACH,MAAOb,EAAS,iBAAmB,GACnC,SAAWK,GAAMJ,EAAS,kBAAmB,SAASI,EAAE,OAAO,KAAK,GAAK,CAAC,EAC1E,YAAY,iCACZ,IAAK,EACL,IAAK,UACL,UAAW;AAAA;AAAA;AAAA,cAGPF,EAAO,gBACL,yDACA,2DACJ;AAAA;AAAA,YAGF,MAAO,CAAE,UAAW,MAAA,CAAO,CAAA,EAE5BA,EAAO,iBACNU,EAAAA,IAAC,KAAE,UAAU,4BAA6B,WAAO,eAAA,CAAgB,CAAA,EAErE,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,0DACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,yDAAyD,SAAA,iDAEvE,EAEAF,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,QAAA,CAAM,UAAU,sDAAsD,SAAA,iBAEvE,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,kBAAoB,GACpC,SAAWK,GAAMJ,EAAS,mBAAoBI,EAAE,OAAO,KAAK,EAC5D,YAAY,uBACZ,UAAU,2HAAA,CAAA,CACZ,EACF,SAEC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAAC,QAAA,CAAM,UAAU,sDAAsD,SAAA,kBAEvE,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,eAAiB,GACjC,SAAWK,GAAMJ,EAAS,gBAAiBI,EAAE,OAAO,KAAK,EACzD,YAAY,oBACZ,UAAU,2HAAA,CAAA,CACZ,EACF,EAEAM,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAE,EAAAA,IAAC,QAAA,CAAM,UAAU,sDAAsD,SAAA,eAEvE,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOb,EAAS,aAAe,GAC/B,SAAWK,GAAMJ,EAAS,cAAeI,EAAE,OAAO,KAAK,EACvD,YAAY,+BACZ,UAAU,2HAAA,CAAA,CACZ,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGAM,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAE,MAACC,GAAc,MAAO,IAAMwB,EAAA,EAAU,WAAW,QAC/C,SAAAzB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASyB,EACT,UAAU;AAAA;AAAA;AAAA;AAAA,cAKV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,MAAA,CAAA,EAGH,QAECxB,EAAA,CAAc,MAAO,IAAMZ,EAAA,EAAU,WAAW,SAC/C,SAAAW,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU;AAAA;AAAA;AAAA;AAAA,cAKV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,wBAAA,CAAA,CAED,CACF,CAAA,EACF,EAGAA,EAAAA,IAACE,GAAA,CACC,OAAQ8B,EACR,QAAS,IAAMC,EAAkB,EAAK,EACtC,eAAgBQ,CAAA,CAAA,CAClB,CAAA,CAAA,CAGN,EC1UMI,EAAqC,CACzC,CAAE,WAAY,EAAG,YAAa,oBAAqB,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EACjG,CAAE,WAAY,EAAG,YAAa,aAAc,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EAC1F,CAAE,WAAY,EAAG,YAAa,oBAAqB,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EACjG,CAAE,WAAY,EAAG,YAAa,kBAAmB,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EAC/F,CAAE,WAAY,EAAG,YAAa,qBAAsB,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EAClG,CAAE,WAAY,EAAG,YAAa,cAAe,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EAC3F,CAAE,WAAY,EAAG,YAAa,WAAY,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EACxF,CAAE,WAAY,EAAG,YAAa,SAAU,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EACtF,CAAE,WAAY,EAAG,YAAa,sBAAuB,OAAQ,MAAO,aAAc,GAAO,UAAW,YAAA,EACpG,CAAE,WAAY,GAAI,YAAa,qBAAsB,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EACnG,CAAE,WAAY,GAAI,YAAa,iBAAkB,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EAC/F,CAAE,WAAY,GAAI,YAAa,QAAS,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EACtF,CAAE,WAAY,GAAI,YAAa,kBAAmB,OAAQ,MAAO,aAAc,GAAM,UAAW,WAAA,EAChG,CAAE,WAAY,GAAI,YAAa,4CAA6C,OAAQ,MAAO,aAAc,EAAA,EACzG,CAAE,WAAY,GAAI,YAAa,iBAAkB,OAAQ,MAAO,aAAc,EAAA,EAC9E,CAAE,WAAY,GAAI,YAAa,qBAAsB,OAAQ,MAAO,aAAc,EAAA,EAClF,CAAE,WAAY,GAAI,YAAa,QAAS,OAAQ,MAAO,aAAc,EAAA,CACvE,EAEaC,GAA0D,CAAC,CACtE,SAAA3D,EACA,SAAAC,EACA,OAAAC,EACA,OAAAoC,EACA,OAAQsB,CACV,IAAM,CACJ,KAAM,CAACC,EAAkBC,CAAmB,EAAI1C,WAAsB,IAAI,IAAI,CAAC,WAAY,SAAU,aAAa,CAAC,CAAC,EAG9G2C,EAAkB/D,EAAS,iBAAmB0D,EAG9CM,EAAkBC,EAAAA,QAAQ,IACJF,EAAgB,KACxCG,GAAQA,EAAK,cAAgBA,EAAK,SAAW,MAAA,EAEpB,OAAS,UACnC,CAACH,CAAe,CAAC,EAEdI,EAAyB,CAACC,EAAoBC,IAAoC,CACtF,MAAMC,EAAeP,EAAgB,IAAIG,GACvCA,EAAK,aAAeE,EAAa,CAAE,GAAGF,EAAM,OAAAG,GAAWH,CAAA,EAEzDjE,EAAS,kBAAmBqE,CAAY,EACxCrE,EAAS,gBAAiB+D,CAAe,CAC3C,EAEMO,EAAiBC,GAAoB,CACzC,MAAMC,EAAc,IAAI,IAAIZ,CAAgB,EACxCY,EAAY,IAAID,CAAO,EACzBC,EAAY,OAAOD,CAAO,EAE1BC,EAAY,IAAID,CAAO,EAEzBV,EAAoBW,CAAW,CACjC,EAEMC,EAAwBR,GAAyB,CACrD,MAAMS,EAAWZ,EAAgB,KAAKa,GAAKA,EAAE,aAAeV,EAAK,UAAU,GAAKA,EAEhF,aACG,MAAA,CAA0B,UAAU,uFACnC,SAAAvD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACZ,SAAA,CAAAuD,EAAK,cACJrD,EAAAA,IAACgE,EAAA,CAAc,UAAU,4CAA4C,EAEvElE,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAE,MAAC,MAAA,CAAI,UAAU,wCACb,SAAAF,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,8CACX,SAAA,CAAAuD,EAAK,WAAW,KAAGA,EAAK,WAAA,EAC3B,EACCA,EAAK,WACJrD,EAAAA,IAAC,KAAE,UAAU,2CAA4C,WAAK,SAAA,CAAU,CAAA,CAAA,CAE5E,CAAA,CACF,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAE,EAAAA,IAACC,EAAA,CAAc,MAAO,IAAMqD,EAAuBD,EAAK,WAAY,MAAM,EAAG,WAAW,QACtF,SAAAvD,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMwD,EAAuBD,EAAK,WAAY,MAAM,EAC7D,UAAW;AAAA;AAAA;AAAA,sBAGPS,EAAS,SAAW,OAClB,qDACA,iGACJ;AAAA,oBAEF,MAAO,CAAE,UAAW,MAAA,EAEpB,SAAA,CAAA9D,EAAAA,IAACiE,EAAA,CAAY,UAAU,SAAA,CAAU,EAAE,MAAA,CAAA,CAAA,EAGvC,EAEAjE,EAAAA,IAACC,EAAA,CAAc,MAAO,IAAMqD,EAAuBD,EAAK,WAAY,MAAM,EAAG,WAAW,SACtF,SAAAvD,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMwD,EAAuBD,EAAK,WAAY,MAAM,EAC7D,UAAW;AAAA;AAAA;AAAA,sBAGPS,EAAS,SAAW,OAClB,iDACA,iGACJ;AAAA,oBAEF,MAAO,CAAE,UAAW,MAAA,EAEpB,SAAA,CAAA9D,EAAAA,IAACkE,EAAA,CAAQ,UAAU,SAAA,CAAU,EAAE,MAAA,CAAA,CAAA,EAGnC,EAEAlE,EAAAA,IAACC,EAAA,CAAc,MAAO,IAAMqD,EAAuBD,EAAK,WAAY,KAAK,EAAG,WAAW,QACrF,SAAArD,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMsD,EAAuBD,EAAK,WAAY,KAAK,EAC5D,UAAW;AAAA;AAAA;AAAA,sBAGPS,EAAS,SAAW,MAClB,mDACA,iGACJ;AAAA,oBAEF,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,KAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAAA,EA5EQT,EAAK,UA6Ef,CAEJ,EAEMc,EAAgB,CAACC,EAAeC,EAAoBC,EAAyBC,IAAsB,CACvG,MAAMC,EAAaxB,EAAiB,IAAIqB,CAAU,EAElD,OACEvE,EAAAA,KAAC,MAAA,CAAI,UAAU,4DACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM4D,EAAcW,CAAU,EACvC,UAAU,6GAEV,SAAA,CAAAvE,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,kDACX,SAAAoE,EACH,EACCG,GACCvE,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA4C,SAAAuE,CAAA,CAAS,CAAA,EAEtE,EACAvE,EAAAA,IAACyE,EAAA,CACC,UAAW,iEAAiED,EAAa,aAAe,EAAE,EAAA,CAAA,CAC5G,CAAA,CAAA,EAGFxE,EAAAA,IAACqB,GACE,SAAAmD,GACCxE,EAAAA,IAACD,EAAO,IAAP,CACC,QAAS,CAAE,OAAQ,EAAG,QAAS,CAAA,EAC/B,QAAS,CAAE,OAAQ,OAAQ,QAAS,CAAA,EACpC,KAAM,CAAE,OAAQ,EAAG,QAAS,CAAA,EAC5B,WAAY,CAAE,SAAU,EAAA,EACxB,UAAU,kBAEV,eAAC,MAAA,CAAI,UAAU,gBACZ,SAAAuE,EAAM,IAAIT,CAAoB,CAAA,CACjC,CAAA,CAAA,CACF,CAEJ,CAAA,EACF,CAEJ,EAEA,OACE/D,EAAAA,KAACC,EAAO,IAAP,CACC,UAAU,uBACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,KAAM,CAAE,QAAS,EAAG,EAAG,GAAA,EACvB,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA,CAAAD,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,qBAEtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,+CAAA,CAExD,CAAA,EACF,EAGAA,EAAAA,IAACD,EAAO,IAAP,CACC,UAAW;AAAA;AAAA,YAEPoD,IAAoB,OAClB,kEACA,yEACJ;AAAA,UAEF,OAAM,GAEN,SAAArD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAAqD,IAAoB,aAClBa,EAAA,CAAc,UAAU,yCAAyC,EAElEhE,EAAAA,IAACiE,EAAA,CAAY,UAAU,4CAAA,CAA6C,SAErE,MAAA,CACC,SAAA,CAAAjE,EAAAA,IAAC,IAAA,CAAE,UAAW,qBAAqBmD,IAAoB,OAAS,iCAAmC,oCAAoC,GACpI,SAAAA,IAAoB,OAAS,sBAAwB,cACxD,EACCA,IAAoB,QACnBnD,EAAAA,IAAC,IAAA,CAAE,UAAU,yCAAyC,SAAA,6CAAA,CAEtD,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,EAIFF,EAAAA,KAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAAqE,EACC,iBACA,WACAtB,EAAiB,MAAM,EAAG,CAAC,EAC3B,WAAA,EAGDsB,EACC,mBACA,SACAtB,EAAiB,MAAM,EAAG,EAAE,EAC5B,qCAAA,EAGDsB,EACC,sBACA,cACAtB,EAAiB,MAAM,EAAE,EACzB,aAAA,CACF,EACF,EAGA/C,EAAAA,KAAC,MAAA,CAAI,UAAU,gFACb,SAAA,CAAAE,MAACC,GAAc,MAAO,IAAMwB,EAAA,EAAU,WAAW,QAC/C,SAAAzB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASyB,EACT,UAAU;AAAA;AAAA;AAAA;AAAA,cAKV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,MAAA,CAAA,EAGH,QAECxB,EAAA,CAAc,MAAO,IAAMZ,EAAA,EAAU,WAAW,SAC/C,SAAAW,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASX,EACT,UAAU;AAAA;AAAA;AAAA;AAAA,cAKV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,gBAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CAGN,ECrSaqF,GAA4C,CAAC,CACxD,SAAAvF,EACA,SAAAC,EACA,OAAAC,EACA,OAAAoC,CACF,IAAM,CACJ,MAAMkD,EAAcC,EAAAA,OAA4B,IAAI,EAC9CC,EAAY,IACZC,GAAiB3F,EAAS,oBAAsB,IAAI,OAG1D+C,OAAAA,EAAAA,UAAU,IAAM,CACVyC,EAAY,UACdA,EAAY,QAAQ,MAAM,OAAS,OACnCA,EAAY,QAAQ,MAAM,OAAS,GAAGA,EAAY,QAAQ,YAAY,KAE1E,EAAG,CAACxF,EAAS,kBAAkB,CAAC,EAG9BW,EAAAA,KAACC,EAAO,IAAP,CACC,UAAU,uBACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,KAAM,CAAE,QAAS,EAAG,EAAG,GAAA,EACvB,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA,CAAAD,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,sBAEtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,0EAAA,CAExD,CAAA,EACF,SAGC,MAAA,CACC,SAAA,CAAAF,EAAAA,KAAC,QAAA,CACC,QAAQ,qBACR,UAAU,oEACX,SAAA,CAAA,YACUE,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,YAAA,CAAU,CAAA,CAAA,CAAA,EAErDA,EAAAA,IAAC,WAAA,CACC,IAAK2E,EACL,GAAG,qBACH,MAAOxF,EAAS,oBAAsB,GACtC,SAAWK,GAAMJ,EAAS,qBAAsBI,EAAE,OAAO,KAAK,EAC9D,YAAY,qEACZ,UAAAqF,EACA,KAAM,GACN,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,YAMV,MAAO,CAAE,UAAW,OAAA,CAAQ,CAAA,EAE9B/E,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,4DAErC,EACAF,EAAAA,KAAC,KAAE,UAAW,uBAAuBgF,EAAgBD,EAAY,GAAM,eAAiB,eAAe,GACpG,SAAA,CAAAC,EAAc,MAAID,CAAA,CAAA,CACrB,CAAA,CAAA,CACF,CAAA,EACF,EAGA/E,EAAAA,KAAC,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,8DAA8D,SAAA,oBAE5E,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,uBACZ,SAAA,CACC,kBACA,sBACA,+BACA,4BACA,8BAAA,EACA,IAAK+E,GACLjF,EAAAA,KAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAM,CACb,MAAMkF,EAAU7F,EAAS,oBAAsB,GAE/CC,EAAS,qBAAsB,GAAG4F,CAAO,GADvBA,EAAU;AAAA,EAAO,EACkB,GAAGD,CAAU,EAAE,CACtE,EACA,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,gBAMX,SAAA,CAAA,KACIA,CAAA,CAAA,EAdEA,CAAA,CAgBR,CAAA,CACH,CAAA,EACF,EAGAjF,EAAAA,KAAC,MAAA,CAAI,UAAU,gFACb,SAAA,CAAAE,MAACC,GAAc,MAAO,IAAMwB,EAAA,EAAU,WAAW,QAC/C,SAAAzB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASyB,EACT,UAAU;AAAA;AAAA;AAAA;AAAA,cAKV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,MAAA,CAAA,EAGH,QAECxB,EAAA,CAAc,MAAO,IAAMZ,EAAA,EAAU,WAAW,SAC/C,SAAAW,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASX,EACT,UAAU;AAAA;AAAA;AAAA;AAAA,cAKV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,2BAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CAGN,ECtIa4F,GAAgE,CAAC,CAC5E,SAAA9F,EACA,SAAAC,EACA,OAAAC,EACA,OAAAoC,EACA,OAAAnC,CACF,IAAM,CACJ,KAAM,CAAC4F,EAAeC,CAAgB,EAAI5E,EAAAA,SAAS,CAAC,CAACpB,EAAS,kBAAkB,EAE1EiG,EAAuBC,GAA0B,CACrD,MAAMC,EAA8B,CAClC,UAAWD,EACX,SAAU,IAAI,KAAA,EAAO,YAAA,EACrB,SAAUlG,EAAS,oBAAsB,GACzC,UAAW,OACX,SAAU,UAAU,SAAA,EAGtBC,EAAS,qBAAsBkG,CAAS,EACxCH,EAAiB,EAAI,EAGrB/F,EAAS,SAAU,kBAAkB,CACvC,EAEMmG,EAAqB,IAAM,CAC/B,MAAM5F,MAAU,KAChB,MAAO,CACL,KAAMA,EAAI,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,EACpC,KAAMA,EAAI,aAAA,EAAe,MAAM,EAAG,CAAC,CAAA,CAEvC,EAEM,CAAE,KAAM6F,EAAa,KAAMC,CAAA,EAAgBF,EAAA,EAEjD,OACEzF,EAAAA,KAACC,EAAO,IAAP,CACC,UAAU,uBACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,KAAM,CAAE,QAAS,EAAG,EAAG,GAAA,EACvB,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA,CAAAD,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,sBAEtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,wDAAA,CAExD,CAAA,EACF,EAGCkF,GACClF,EAAAA,IAACD,EAAO,IAAP,CACC,UAAU,4EACV,QAAS,CAAE,QAAS,EAAG,EAAG,GAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAE1B,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC0F,EAAA,CAAK,UAAU,4CAAA,CAA6C,SAC5D,MAAA,CACC,SAAA,CAAA1F,EAAAA,IAAC,IAAA,CAAE,UAAU,+CAA+C,SAAA,cAE5D,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,6CAA6C,SAAA,2DAAA,CAE1D,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,SAKH,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CACC,QAAQ,qBACR,UAAU,oEACX,SAAA,0BAAA,CAAA,EAGDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,qBACH,MAAOb,EAAS,oBAAsB,GACtC,SAAWK,GAAMJ,EAAS,qBAAsBI,EAAE,OAAO,KAAK,EAC9D,YAAY,uBACZ,UAAW,IACX,SAAU0F,EACV,UAAW;AAAA;AAAA;AAAA,cAGPA,EACE,kEACA5F,EAAO,mBACP,yDACA,2DACJ;AAAA,YAEF,MAAO,CAAE,UAAW,MAAA,CAAO,CAAA,EAE5BA,EAAO,oBAAsB,CAAC4F,SAC5B,IAAA,CAAE,UAAU,4BAA6B,SAAA5F,EAAO,kBAAA,CAAmB,CAAA,EAExE,EAGAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,OAAI,EACjEA,EAAAA,IAAC,IAAA,CAAE,UAAU,kDACV,SAAA,IAAI,KAAKb,EAAS,eAAiBqG,CAAW,EAAE,mBAAA,CAAmB,CACtE,CAAA,EACF,EACA1F,EAAAA,KAAC,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,OAAI,QAChE,IAAA,CAAE,UAAU,kDACV,SAAAb,EAAS,eAAiBsG,CAAA,CAC7B,CAAA,CAAA,CACF,CAAA,EACF,QAGC,MAAA,CACC,SAAAzF,EAAAA,IAAC2F,EAAA,CACC,OAAQP,EACR,iBAAkBjG,EAAS,oBAAoB,UAC/C,SAAU+F,EACV,MAAM,qBAAA,CAAA,EAEV,EAGCA,GAAiB/F,EAAS,oBACzBa,EAAAA,IAACD,EAAO,IAAP,CACC,UAAU,4EACV,QAAS,CAAE,QAAS,EAAG,MAAO,GAAA,EAC9B,QAAS,CAAE,QAAS,EAAG,MAAO,CAAA,EAE9B,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAACiE,EAAA,CAAY,UAAU,4CAAA,CAA6C,SACnE,MAAA,CACC,SAAA,CAAAjE,EAAAA,IAAC,IAAA,CAAE,UAAU,+CAA+C,SAAA,qBAE5D,EACAF,EAAAA,KAAC,IAAA,CAAE,UAAU,6CAA6C,SAAA,CAAA,aAC7CX,EAAS,mBAAmB,MAAI,IAC1C,IAAI,KAAKA,EAAS,mBAAmB,QAAQ,EAAE,eAAA,CAAe,CAAA,CACjE,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,QAKH,MAAA,CAAI,UAAU,4FACb,SAAAW,EAAAA,KAAC,IAAA,CAAE,UAAU,2CACX,SAAA,CAAAE,EAAAA,IAAC,UAAO,SAAA,SAAA,CAAO,EAAS,+KAAA,CAAA,CAE1B,CAAA,CACF,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,gFACZ,SAAA,CAAA,CAACoF,SACCjF,EAAA,CAAc,MAAO,IAAMwB,EAAA,EAAU,WAAW,QAC/C,SAAAzB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASyB,EACT,UAAU;AAAA;AAAA;AAAA;AAAA,gBAKV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,MAAA,CAAA,EAGH,QAGDxB,EAAA,CAAc,MAAO,IAAMZ,EAAA,EAAU,WAAW,SAC/C,SAAAW,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASX,EACT,SAAU,CAAC6F,EACX,UAAW;AAAA,gBACPA,EAAgB,SAAW,UAAU;AAAA;AAAA;AAAA,gBAGrCA,EACE,+EACA,8CACJ;AAAA,cAEF,MAAO,CAAE,UAAW,MAAA,EAEnB,WAAgB,wBAA0B,uBAAA,CAAA,CAC7C,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CAGN,EC1MaU,GAAoD,CAAC,CAChE,SAAAzG,EACA,SAAAC,EACA,OAAAqC,EACA,WAAAoE,EACA,SAAAC,CACF,IAAM,CACJ,KAAM,CAACpF,EAAcC,CAAe,EAAIJ,EAAAA,SAAS,EAAK,EAChD,CAACwF,EAAmBC,CAAoB,EAAIzF,EAAAA,SAAS,CAAC,CAACpB,EAAS,iBAAiB,EAEjF8G,EAA+BZ,GAA0B,CAC7D,MAAMC,EAA8B,CAClC,UAAWD,EACX,SAAU,IAAI,KAAA,EAAO,YAAA,EACrB,SAAUlG,EAAS,mBAAqB,GACxC,UAAW,OACX,SAAU,UAAU,SAAA,EAGtBC,EAAS,oBAAqBkG,CAAS,EACvClG,EAAS,eAAgB,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,EAC/DA,EAAS,mBAAoB,KAAA,EAAO,eAAe,MAAM,EAAG,CAAC,CAAC,EAC9D4G,EAAqB,EAAI,CAC3B,EAEME,EAAoB,SAAY,CACpC,GAAI,CAACH,EAAmB,CACtBI,EAAM,MAAM,6BAA6B,EACzC,MACF,CAEAxF,EAAgB,EAAI,EACpB,GAAI,CACF,MAAMmF,EAAA,EACNK,EAAM,QAAQ,8BAA8B,CAC9C,OAAShF,EAAO,CACdgF,EAAM,MAAM,sCAAsC,EAClD,QAAQ,MAAM,oBAAqBhF,CAAK,CAC1C,QAAA,CACER,EAAgB,EAAK,CACvB,CACF,EAGMyF,EAAYjH,EAAS,iBAAiB,UAAekE,EAAK,SAAW,MAAM,EAAE,QAAU,EACvFgD,EAAYlH,EAAS,iBAAiB,UAAekE,EAAK,SAAW,MAAM,EAAE,QAAU,EACvFiD,EAAUnH,EAAS,iBAAiB,UAAekE,EAAK,SAAW,KAAK,EAAE,QAAU,EACpFF,EAAkBhE,EAAS,eAAiB,UAElD,OACEW,EAAAA,KAACC,EAAO,IAAP,CACC,UAAU,6BACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,KAAM,CAAE,QAAS,EAAG,EAAG,GAAA,EACvB,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA,CAAAD,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,kBAEtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,gDAAA,CAExD,CAAA,EACF,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,yFACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,uBAEhE,EACAF,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM+F,EAAW,CAAC,EAC3B,UAAU,oEAEV,SAAA,CAAA7F,EAAAA,IAACuG,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,OAAA,CAAA,CAAA,CAC9B,EACF,EACAzG,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,gBAAa,QAC5D,IAAA,CAAE,UAAU,8CAA+C,SAAAb,EAAS,cAAgB,KAAA,CAAM,CAAA,EAC7F,SACC,MAAA,CACC,SAAA,CAAAa,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,YAAS,EACzDF,EAAAA,KAAC,IAAA,CAAE,UAAU,8CACV,SAAA,CAAAX,EAAS,cAAc,IAAEA,EAAS,aAAA,CAAA,CACrC,CAAA,EACF,EACCA,EAAS,SACRW,OAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,eAAY,EAC5DA,EAAAA,IAAC,IAAA,CAAE,UAAU,8CAA+C,WAAS,OAAA,CAAQ,CAAA,CAAA,CAC/E,CAAA,CAAA,CAEJ,CAAA,EACF,EAGAF,EAAAA,KAAC,MAAA,CAAI,UAAU,yFACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,sBAEhE,EACAF,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM+F,EAAW,CAAC,EAC3B,UAAU,oEAEV,SAAA,CAAA7F,EAAAA,IAACuG,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,OAAA,CAAA,CAAA,CAC9B,EACF,EACAzG,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,aAAU,QACzD,IAAA,CAAE,UAAU,8CAA+C,SAAAb,EAAS,aAAe,KAAA,CAAM,CAAA,EAC5F,SACC,MAAA,CACC,SAAA,CAAAa,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,WAAQ,EACxDF,EAAAA,KAAC,IAAA,CAAE,UAAU,8CACV,SAAA,CAAAX,EAAS,iBAAiB,kBAAoB,MAAM,KAAA,CAAA,CACvD,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAa,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,gBAAa,QAC5D,IAAA,CAAE,UAAU,8CAA+C,SAAAb,EAAS,kBAAoB,KAAA,CAAM,CAAA,EACjG,SACC,MAAA,CACC,SAAA,CAAAa,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,OAAI,QACnD,IAAA,CAAE,UAAU,8CAA+C,SAAAb,EAAS,aAAe,KAAA,CAAM,CAAA,CAAA,CAC5F,CAAA,CAAA,CACF,CAAA,EACF,EAGAW,EAAAA,KAAC,MAAA,CAAI,UAAU,yFACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,qBAEhE,EACAF,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM+F,EAAW,CAAC,EAC3B,UAAU,oEAEV,SAAA,CAAA7F,EAAAA,IAACuG,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,OAAA,CAAA,CAAA,CAC9B,EACF,EAEAzG,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8DACb,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,wDAAyD,SAAAoG,EAAU,EAChFpG,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,QAAA,CAAM,CAAA,EAChE,EACAF,EAAAA,KAAC,MAAA,CAAI,UAAU,0DACb,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,oDAAqD,SAAAqG,EAAU,EAC5ErG,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,QAAA,CAAM,CAAA,EAChE,EACAF,EAAAA,KAAC,MAAA,CAAI,UAAU,yDACb,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,sDAAuD,SAAAsG,EAAQ,EAC5EtG,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,KAAA,CAAG,CAAA,CAAA,CAC7D,CAAA,EACF,EAGAA,MAAC,OAAI,UAAW;AAAA;AAAA,YAEZmD,IAAoB,OAClB,+DACA,sEACJ;AAAA,UAEC,SAAAA,IAAoB,OAAS,sBAAwB,aAAA,CACxD,CAAA,EACF,EAGChE,EAAS,oBACRW,OAAC,MAAA,CAAI,UAAU,yFACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,sBAEhE,EACAF,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM+F,EAAW,CAAC,EAC3B,UAAU,oEAEV,SAAA,CAAA7F,EAAAA,IAACuG,EAAA,CAAK,UAAU,SAAA,CAAU,EAAE,OAAA,CAAA,CAAA,CAC9B,EACF,EACAvG,EAAAA,IAAC,IAAA,CAAE,UAAU,+DACV,WAAS,kBAAA,CACZ,CAAA,EACF,EAIFF,EAAAA,KAAC,MAAA,CAAI,UAAU,yFACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,uDAAuD,SAAA,sBAErE,EACAF,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAAX,EAAS,oBAAoB,WAC5Ba,EAAAA,IAAC,MAAA,CACC,IAAKb,EAAS,mBAAmB,UACjC,IAAI,sBACJ,UAAU,8CAAA,CAAA,EAGdW,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAE,EAAAA,IAAC,IAAA,CAAE,UAAU,8CACV,SAAAb,EAAS,mBACZ,EACAW,EAAAA,KAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,CAAA,WAC7CX,EAAS,oBAAsB,IAAI,KAAKA,EAAS,mBAAmB,QAAQ,EAAE,eAAA,CAAe,CAAA,CACxG,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGAW,EAAAA,KAAC,MAAA,CAAI,UAAU,8FACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,uDAAuD,SAAA,8BAErE,EAEAF,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,QAAA,CACC,QAAQ,oBACR,UAAU,oEACX,SAAA,yBAAA,CAAA,EAGDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,oBACH,MAAOb,EAAS,mBAAqB,GACrC,SAAWK,GAAMJ,EAAS,oBAAqBI,EAAE,OAAO,KAAK,EAC7D,YAAY,2BACZ,UAAW,IACX,SAAUuG,EACV,UAAW;AAAA;AAAA;AAAA,kBAGPA,EACE,kEACA,2DACJ;AAAA,eAAA,CAAA,CAEJ,EACF,EAEA/F,EAAAA,IAAC2F,EAAA,CACC,OAAQM,EACR,iBAAkB9G,EAAS,mBAAmB,UAC9C,SAAU4G,EACV,MAAM,oBAAA,CAAA,CACR,CAAA,CACF,CAAA,EACF,QAGC,MAAA,CAAI,UAAU,qEACb,SAAAjG,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAE,MAACC,GAAc,MAAO,IAAMwB,EAAA,EAAU,WAAW,QAC/C,SAAAzB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASyB,EACT,SAAUf,EACV,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,gBAMV,MAAO,CAAE,UAAW,MAAA,EACrB,SAAA,MAAA,CAAA,EAGH,EAEAV,EAAAA,IAACC,EAAA,CAAc,MAAOiG,EAAmB,WAAW,QAClD,SAAAlG,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASkG,EACT,SAAU,CAACH,GAAqBrF,EAChC,UAAW;AAAA;AAAA;AAAA,kBAGPqF,GAAqB,CAACrF,EACpB,4FACA,8CACJ;AAAA,gBAEF,MAAO,CAAE,UAAW,MAAA,EAEnB,WACCZ,EAAAA,KAAAwB,EAAAA,SAAA,CACE,SAAA,CAAAtB,EAAAA,IAACwG,EAAA,CAAQ,UAAU,sBAAA,CAAuB,EAAE,eAAA,CAAA,CAE9C,EAEA1G,EAAAA,KAAAwB,EAAAA,SAAA,CACE,SAAA,CAAAtB,EAAAA,IAACiE,EAAA,CAAY,UAAU,SAAA,CAAU,EAAE,mBAAA,CAAA,CAErC,CAAA,CAAA,CAEJ,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CAAA,CAGN,EChUMwC,EAAQ,CACZ,CAAE,GAAI,EAAG,MAAO,gBAAiB,UAAWvH,EAAA,EAC5C,CAAE,GAAI,EAAG,MAAO,UAAW,UAAWsC,EAAA,EACtC,CAAE,GAAI,EAAG,MAAO,aAAc,UAAWsB,EAAA,EACzC,CAAE,GAAI,EAAG,MAAO,WAAY,UAAW4B,EAAA,EACvC,CAAE,GAAI,EAAG,MAAO,iBAAkB,UAAWO,EAAA,EAC7C,CAAE,GAAI,EAAG,MAAO,kBAAmB,UAAWW,EAAA,CAChD,EAEMc,EAA6C,CACjD,OAAQ,QACR,aAAc,GACd,QAAS,GACT,YAAa,GACb,iBAAkB,GAClB,cAAe,GACf,YAAa,GACb,kBAAmB,GACnB,gBAAiB,EACjB,gBAAiB,CAAA,EACjB,mBAAoB,GACpB,cAAe,UACf,kBAAmB,OAAO,cAAc,MAAM,GAAG,EAAE,CAAC,EACpD,kBAAmB,KAAA,EAAO,eAAe,MAAM,EAAG,CAAC,EACnD,mBAAoB,EACtB,EAEaC,GAAuB,IAAM,CACxC,KAAM,CAACC,EAAaC,CAAc,EAAItG,EAAAA,SAAS,CAAC,EAC1C,CAACpB,EAAUmB,CAAW,EAAIC,EAAAA,SAAkCmG,CAAiB,EAC7E,CAACpH,EAAQwH,CAAS,EAAIvG,EAAAA,SAAiC,CAAA,CAAE,EACzD,CAACwG,EAAaC,CAAc,EAAIzG,EAAAA,SAAS,EAAK,EAC9C,CAAC0G,EAAiBC,CAAkB,EAAI3G,EAAAA,SAAS,EAAK,EACtD,CAAC4G,EAAgBC,CAAiB,EAAI7G,EAAAA,SAAiC,IAAI,EAGjF2B,EAAAA,UAAU,IAAM,CACd,MAAMmF,EAAe,YAAY,IAAM,CACrC,GAAIlI,GAAY,CAAC4H,GAAeH,EAAc,EAAG,CAC/C,MAAMU,EAAyB,CAC7B,SAAAnI,EACA,YAAAyH,EACA,QAAS,IAAI,KAAA,EAAO,YAAA,EACpB,UAAW,IAAI,KAAK,KAAK,IAAA,EAAQ,MAAuB,EAAE,YAAA,CAAY,EAExE,aAAa,QAAQ,eAAgB,KAAK,UAAUU,CAAK,CAAC,EAC1DnB,EAAM,QAAQ,mBAAoB,CAAE,SAAU,KAAM,KAAM,KAAM,CAClE,CACF,EAAG,GAAK,EAER,MAAO,IAAM,cAAckB,CAAY,CACzC,EAAG,CAAClI,EAAUyH,EAAaG,CAAW,CAAC,EAGvC7E,EAAAA,UAAU,IAAM,CACd,MAAMqF,EAAY,aAAa,QAAQ,cAAc,EACrD,GAAIA,EACF,GAAI,CACF,MAAMD,EAAQ,KAAK,MAAMC,CAAS,EACf,IAAI,KAAKD,EAAM,SAAS,MAC3B,MAGdF,EAAkBE,CAAK,EACvBJ,EAAmB,EAAI,GAGvB,aAAa,WAAW,cAAc,CAE1C,OAAS/F,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7C,aAAa,WAAW,cAAc,CACxC,CAEJ,EAAG,CAAA,CAAE,EAEL,MAAMqG,EAAoB,IAAM,CAC1BL,IACF7G,EAAY6G,EAAe,QAAQ,EACnCN,EAAeM,EAAe,WAAW,EACzCD,EAAmB,EAAK,EACxBf,EAAM,QAAQ,iBAAiB,EAEnC,EAEMsB,EAAqB,IAAM,CAC/B,aAAa,WAAW,cAAc,EACtCP,EAAmB,EAAK,EACxBE,EAAkB,IAAI,EACtBjB,EAAM,kBAAmB,CAAE,KAAM,KAAA,CAAO,CAC1C,EAEMuB,EAAoB,CAAC3G,EAA6B4G,IAAe,CACrErH,EAAYsH,IAAS,CAAE,GAAGA,EAAM,CAAC7G,CAAK,EAAG4G,GAAQ,EAE7CrI,EAAOyB,CAAK,GACd+F,EAAUc,GAAQ,CAChB,MAAMC,EAAY,CAAE,GAAGD,CAAA,EACvB,cAAOC,EAAU9G,CAAK,EACf8G,CACT,CAAC,CAEL,EAEMC,EAAgBC,GAA0B,CAC9C,MAAMF,EAAoC,CAAA,EAE1C,OAAQE,EAAA,CACN,IAAK,IACC,CAAC5I,EAAS,cAAgBA,EAAS,aAAa,OAAS,KAC3D0I,EAAU,aAAe,+CAEtB1I,EAAS,gBACZ0I,EAAU,cAAgB,oBAEvB1I,EAAS,gBACZ0I,EAAU,cAAgB,oBAE5B,MAEF,IAAK,GAEH,MAAMG,EAAqB7I,EAAS,kBAC9B8I,EAAuB9I,EAAS,aAAeA,EAAS,aACvCA,EAAS,kBAAoBA,EAAS,cACtC6I,GAAsBC,IAG3CJ,EAAU,YAAc,+CAEtB,CAAC1I,EAAS,iBAAmBA,EAAS,kBAAoB,KAC5D0I,EAAU,gBAAkB,gCAE9B,MAEF,IAAK,IACC,CAAC1I,EAAS,qBAAuBA,EAAS,oBAAsB,IAAI,OAAS,KAC/E0I,EAAU,mBAAqB,gDAE5B1I,EAAS,qBACZ0I,EAAU,mBAAqB,yBAEjC,KAAA,CAGJ,OAAAf,EAAUe,CAAS,EACZ,OAAO,KAAKA,CAAS,EAAE,SAAW,CAC3C,EAEMK,EAAa,IAAM,CACnBJ,EAAalB,CAAW,EACtBA,EAAcH,EAAM,OAAS,GAC/BI,EAAeD,EAAc,CAAC,EAGhCT,EAAM,MAAM,qCAAqC,CAErD,EAEMgC,EAAa,IAAM,CACnBvB,EAAc,GAChBC,EAAeD,EAAc,CAAC,CAElC,EAEMwB,EAAkBL,GAAiB,CACnCA,GAAQ,GAAKA,EAAOtB,EAAM,QAC5BI,EAAekB,CAAI,CAEvB,EAEMM,EAAmB,IAAM,CAC7B,MAAMf,EAAyB,CAC7B,SAAAnI,EACA,YAAAyH,EACA,QAAS,IAAI,KAAA,EAAO,YAAA,EACpB,UAAW,IAAI,KAAK,KAAK,IAAA,EAAQ,MAAuB,EAAE,YAAA,CAAY,EAExE,aAAa,QAAQ,eAAgB,KAAK,UAAUU,CAAK,CAAC,EAC1DnB,EAAM,QAAQ,wBAAyB,CAAE,KAAM,KAAM,CACvD,EAEMmC,EAAkB,IAAM,CACxB,QAAQ,sEAAsE,IAChFhI,EAAYoG,CAAiB,EAC7BG,EAAe,CAAC,EAChBC,EAAU,CAAA,CAAE,EACZ,aAAa,WAAW,cAAc,EACtCX,EAAM,eAAgB,CAAE,KAAM,KAAA,CAAO,EAEzC,EAEM5G,EAAe,SAAY,CAC/B,GAAI,CAEF,MAAMgJ,EAA0C,CAC9C,GAAGpJ,EACH,YAAa,IAAI,KAAA,EAAO,YAAA,EACxB,OAAQ,WAAA,EAIJ8B,EAAW,MAAM,MAAM,qBAAsB,CACjD,OAAQ,OACR,QAAS,CACP,eAAgB,kBAAA,EAElB,KAAM,KAAK,UAAUsH,CAAc,CAAA,CACpC,EAED,GAAI,CAACtH,EAAS,GACZ,MAAM,IAAI,MAAM,mBAAmB,EAGrC,MAAMG,EAAmC,MAAMH,EAAS,KAAA,EAExD,GAAIG,EAAO,QACT4F,EAAe,EAAI,EACnB,aAAa,WAAW,cAAc,EACtCb,EAAM,QAAQ,uBAAuB/E,EAAO,MAAM,EAAE,EAGpD,QAAQ,IAAI,qBAAsBA,CAAM,MAExC,OAAM,IAAI,MAAMA,EAAO,OAAS,mBAAmB,CAEvD,OAASD,EAAO,CACd,cAAQ,MAAM,oBAAqBA,CAAK,EAClCA,CACR,CACF,EAEMqH,EAAuB/B,EAAMG,CAAW,EAAE,UAEhD,OACE9G,EAAAA,KAAC,MAAA,CAAI,UAAU,2CAEb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,sGACb,SAAAF,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC,MAAA,CACC,IAAI,yBACJ,IAAI,eACJ,UAAU,0BAAA,CAAA,SAEX,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,oCAEhE,EACAF,EAAAA,KAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,CAAA,QAChD8G,EAAc,EAAE,OAAKH,EAAM,OAAO,KAAGA,EAAMG,CAAW,EAAE,KAAA,CAAA,CAChE,CAAA,CAAA,CACF,CAAA,EACF,EACA9G,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAE,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASqI,EACT,UAAU,+EACV,MAAM,aAEN,SAAArI,EAAAA,IAACuB,EAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BvB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASsI,EACT,UAAU,4EACV,MAAM,aAEN,SAAAtI,EAAAA,IAACyI,EAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAAA,CAC9B,CAAA,CACF,CAAA,EACF,EAGAzI,EAAAA,IAAC0I,EAAA,CACC,YAAa9B,EAAc,EAC3B,WAAYH,EAAM,OAClB,OAAQA,EAAM,IAAIkC,GAAKA,EAAE,KAAK,CAAA,CAAA,CAChC,CAAA,CACF,CAAA,CACF,QAGC,MAAA,CAAI,UAAU,oBACb,SAAA3I,MAACqB,EAAA,CAAgB,KAAK,OACpB,SAAArB,EAAAA,IAACD,EAAO,IAAP,CAEC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,KAAM,CAAE,QAAS,EAAG,EAAG,GAAA,EACvB,WAAY,CAAE,SAAU,EAAA,EAExB,SAAAC,EAAAA,IAACwI,EAAA,CACC,SAAArJ,EACA,SAAUuI,EACV,OAAQQ,EACR,OAAQC,EACR,WAAYC,EACZ,SAAU7I,EACV,OAAAD,CAAA,CAAA,CACF,EAdKsH,CAAA,EAgBT,CAAA,CACF,EAGA5G,EAAAA,IAACqB,GACE,SAAA4F,GACCjH,EAAAA,IAACD,EAAO,IAAP,CACC,UAAU,uFACV,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,KAAM,CAAE,QAAS,CAAA,EAEjB,SAAAD,EAAAA,KAACC,EAAO,IAAP,CACC,UAAU,sEACV,QAAS,CAAE,MAAO,GAAK,EAAG,EAAA,EAC1B,QAAS,CAAE,MAAO,EAAG,EAAG,CAAA,EACxB,KAAM,CAAE,MAAO,GAAK,EAAG,EAAA,EAEvB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,uDAAuD,SAAA,gBAErE,EACAF,EAAAA,KAAC,IAAA,CAAE,UAAU,wCAAwC,SAAA,CAAA,8BACvB,IAC3BqH,GAAkB,IAAI,KAAKA,EAAe,OAAO,EAAE,eAAA,EAAiB,gDAAA,EAEvE,EACArH,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAE,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASyH,EACT,UAAU,0GACX,SAAA,aAAA,CAAA,EAGDzH,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASwH,EACT,UAAU,uGACX,SAAA,cAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAAA,EAGN,EAGAxH,EAAAA,IAACqB,GACE,SAAA0F,GACC/G,EAAAA,IAACD,EAAO,IAAP,CACC,UAAU,uFACV,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EAEpB,SAAAD,EAAAA,KAACC,EAAO,IAAP,CACC,UAAU,kFACV,QAAS,CAAE,MAAO,GAAK,EAAG,EAAA,EAC1B,QAAS,CAAE,MAAO,EAAG,EAAG,CAAA,EAExB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,oFACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,yBAAyB,KAAK,OAAO,OAAO,eAAe,QAAQ,YAChF,SAAAA,EAAAA,IAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gBAAA,CAAiB,CAAA,CACxF,CAAA,CACF,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,kBAEtE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,wCAAwC,SAAA,gEAErD,EACAA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,CACbgH,EAAe,EAAK,EACpB1G,EAAYoG,CAAiB,EAC7BG,EAAe,CAAC,CAClB,EACA,UAAU,uGACX,SAAA,gBAAA,CAAA,CAED,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,CAAA,EACF,CAEJ","x_google_ignoreList":[0]}